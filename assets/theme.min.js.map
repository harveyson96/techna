{"version":3,"file":"theme.min.js","sources":["../../node_modules/@shopify/theme-sections/section.js","../../node_modules/@shopify/theme-sections/theme-sections.js","../../node_modules/@fluorescent/dom/dist/fluorescent-dom.es.js","../../node_modules/is-mobile/index.js","../../node_modules/ftdomdelegate/browser.js","../../node_modules/tabbable/dist/index.esm.js","../../node_modules/focus-trap/dist/focus-trap.esm.js","../../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","../../node_modules/evx/dist/evx.es.js","../../node_modules/slide-anim/dist/slide-anim.module.js","../../src/scripts/lib/accordions.js","../../src/scripts/lib/modal.js","../../node_modules/@fluorescent/storage/dist/fluorescent-storage.es.js","../../src/scripts/lib/dispatch-custom-event.js","../../src/scripts/glow/cart.js","../../src/scripts/glow/formatMoney.js","../../node_modules/@shopify/theme-currency/currency.js","../../src/scripts/glow/getProduct.js","../../src/scripts/lib/images.js","../../src/scripts/lib/unit-pricing.js","../../src/scripts/lib/store-availability-drawer.js","../../src/scripts/lib/a11y.js","../../src/scripts/lib/section-classes.js","../../src/scripts/lib/quick-add.js","../../node_modules/@shopify/theme-product/theme-product.js","../../src/scripts/lib/product-form.js","../../src/scripts/lib/product/quantity-input.js","../../src/scripts/lib/product/variant-popup.js","../../src/scripts/lib/product/update-prices.js","../../src/scripts/lib/product/update-sku.js","../../src/scripts/lib/product/update-buy-button.js","../../src/scripts/lib/product/quick-purchase-bar.js","../../src/scripts/lib/product/reviews-handler.js","../../src/scripts/lib/product/option-buttons.js","../../src/scripts/lib/product/inventory-counter.js","../../node_modules/srraf/dist/srraf.es.js","../../src/scripts/lib/animation/lerp.js","../../src/scripts/lib/product/sticky-scroll.js","../../src/scripts/lib/product/mobile-carousel.js","../../src/scripts/lib/product/variant-availability.js","../../src/scripts/lib/carousel.js","../../src/scripts/lib/media-queries.js","../../src/scripts/lib/animation/intersection-watcher.js","../../src/scripts/lib/animation/shouldAnimate.js","../../src/scripts/lib/animation/product-item.js","../../src/scripts/lib/animation/image-with-text.js","../../src/scripts/lib/animation/image-with-features.js","../../src/scripts/lib/animation/text-columns-with-images.js","../../src/scripts/lib/animation/logo-list.js","../../src/scripts/lib/animation/featured-collection.js","../../src/scripts/lib/animation/testimonials.js","../../src/scripts/lib/animation/social-proof.js","../../src/scripts/lib/animation/featured-product.js","../../src/scripts/lib/animation/questions.js","../../src/scripts/lib/animation/blog-posts.js","../../src/scripts/lib/animation/featured-collection-row.js","../../src/scripts/lib/animation/collection-list.js","../../src/scripts/lib/animation/shoppable.js","../../src/scripts/lib/animation/map.js","../../src/scripts/lib/animation/recommended-products.js","../../src/scripts/lib/animation/mosaic-grid.js","../../src/scripts/lib/animation/collection-banner.js","../../src/scripts/lib/animation/product.js","../../src/scripts/lib/animation/article.js","../../src/scripts/lib/animation/blog.js","../../src/scripts/lib/animation/search.js","../../src/scripts/lib/animation/collection.js","../../src/scripts/lib/animation/video-hero.js","../../src/scripts/lib/animation/inline-features.js","../../src/scripts/lib/animation/newsletter.js","../../src/scripts/lib/animation/video.js","../../src/scripts/lib/animation/rich-text.js","../../src/scripts/lib/animation/countdown-banner.js","../../src/scripts/lib/animation/events.js","../../src/scripts/lib/animation/reveals/ImageReveal.js","../../src/scripts/lib/animation/reveals/FadeUpReveal.js","../../src/scripts/lib/animation/reveals/FadeScaleReveal.js","../../src/scripts/lib/animation/reveals/FadeUpSplitReveal.js","../../src/scripts/lib/product-item.js","../../src/scripts/lib/product/complementary-products.js","../../src/scripts/lib/product/sibling-products.js","../../src/scripts/lib/quick-add-product.js","../../src/scripts/lib/quick-add-modal.js","../../node_modules/lazysizes/lazysizes.js","../../node_modules/lazysizes/plugins/object-fit/ls.object-fit.js","../../node_modules/lazysizes/plugins/parent-fit/ls.parent-fit.js","../../node_modules/lazysizes/plugins/rias/ls.rias.js","../../node_modules/lazysizes/plugins/bgset/ls.bgset.js","../../node_modules/lazysizes/plugins/respimg/ls.respimg.js","../../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","../../src/scripts/utils/prevent-default.js","../../src/scripts/utils/switch-image.js","../../src/scripts/lib/svg.js","../../src/scripts/lib/header/quick-cart.js","../../src/scripts/lib/predictive-search.js","../../src/scripts/lib/header/quick-search.js","../../src/scripts/lib/header/navigation.js","../../src/scripts/lib/drawer-search.js","../../src/scripts/lib/header/drawer-menu.js","../../src/scripts/sections/header.js","../../src/scripts/lib/disclosure.js","../../src/scripts/sections/footer.js","../../src/scripts/lib/storage.js","../../src/scripts/lib/popup.js","../../src/scripts/sections/popup.js","../../src/scripts/sections/announcement-bar.js","../../src/scripts/sections/featured-collection.js","../../src/scripts/sections/featured-collection-row.js","../../src/scripts/lib/lightbox.js","../../src/scripts/lib/media.js","../../src/scripts/lib/store-availability.js","../../src/scripts/sections/featured-product.js","../../src/scripts/sections/newsletter.js","../../src/scripts/sections/recommended-products.js","../../src/scripts/lib/navigation-dots.js","../../src/scripts/sections/slideshow.js","../../src/scripts/sections/video.js","../../src/scripts/lib/autoPlay.js","../../src/scripts/sections/video-hero.js","../../src/scripts/sections/questions.js","../../src/scripts/sections/social-proof.js","../../src/scripts/sections/quote.js","../../node_modules/@googlemaps/js-api-loader/dist/index.esm.js","../../src/scripts/sections/map.js","../../src/scripts/sections/mosaic-grid.js","../../src/scripts/sections/shoppable.js","../../src/scripts/sections/image-with-text.js","../../src/scripts/sections/image-with-features.js","../../src/scripts/sections/text-columns-with-images.js","../../src/scripts/sections/testimonials.js","../../src/scripts/sections/collection-banner.js","../../src/scripts/sections/collection-list.js","../../src/scripts/sections/blog-posts.js","../../src/scripts/sections/logo-list.js","../../src/scripts/sections/inline-features.js","../../src/scripts/sections/rich-text.js","../../src/scripts/lib/countdown-timer.js","../../src/scripts/sections/countdown-banner.js","../../src/scripts/sections/events.js","../../src/scripts/templates/cart.js","../../src/scripts/lib/shipping-estimator.js","../../src/scripts/lib/rte/wrapIframes.js","../../src/scripts/lib/rte/wrapTables.js","../../src/scripts/templates/product.js","../../node_modules/ajaxinate/src/ajaxinate.js","../../node_modules/@shopify/theme-product-form/theme-product-form.js","../../src/scripts/lib/filters/events.js","../../src/scripts/lib/filters/filtering.js","../../src/scripts/lib/filters/filter-handler.js","../../node_modules/nouislider/dist/nouislider.js","../../src/scripts/lib/filters/price-range.js","../../src/scripts/lib/filters/filter-drawer.js","../../src/scripts/templates/collection.js","../../src/scripts/templates/customers/login.js","../../src/scripts/templates/customers/addresses.js","../../src/scripts/templates/article.js","../../src/scripts/templates/password.js","../../src/scripts/templates/page.js","../../src/scripts/templates/search.js","../../src/scripts/theme.js","../../src/scripts/templates/contact.js","../../src/scripts/templates/blog.js","../../src/scripts/lib/page-transition.js","../../src/scripts/lib/xhr.js"],"sourcesContent":["var SECTION_ID_ATTR = 'data-section-id';\n\nexport default function Section(container, properties) {\n  this.container = validateContainerElement(container);\n  this.id = container.getAttribute(SECTION_ID_ATTR);\n  this.extensions = [];\n\n  // eslint-disable-next-line es5/no-es6-static-methods\n  Object.assign(this, validatePropertiesObject(properties));\n\n  this.onLoad();\n}\n\nSection.prototype = {\n  onLoad: Function.prototype,\n  onUnload: Function.prototype,\n  onSelect: Function.prototype,\n  onDeselect: Function.prototype,\n  onBlockSelect: Function.prototype,\n  onBlockDeselect: Function.prototype,\n\n  extend: function extend(extension) {\n    this.extensions.push(extension); // Save original extension\n\n    // eslint-disable-next-line es5/no-es6-static-methods\n    var extensionClone = Object.assign({}, extension);\n    delete extensionClone.init; // Remove init function before assigning extension properties\n\n    // eslint-disable-next-line es5/no-es6-static-methods\n    Object.assign(this, extensionClone);\n\n    if (typeof extension.init === 'function') {\n      extension.init.apply(this);\n    }\n  }\n};\n\nfunction validateContainerElement(container) {\n  if (!(container instanceof Element)) {\n    throw new TypeError(\n      'Theme Sections: Attempted to load section. The section container provided is not a DOM element.'\n    );\n  }\n  if (container.getAttribute(SECTION_ID_ATTR) === null) {\n    throw new Error(\n      'Theme Sections: The section container provided does not have an id assigned to the ' +\n        SECTION_ID_ATTR +\n        ' attribute.'\n    );\n  }\n\n  return container;\n}\n\nfunction validatePropertiesObject(value) {\n  if (\n    (typeof value !== 'undefined' && typeof value !== 'object') ||\n    value === null\n  ) {\n    throw new TypeError(\n      'Theme Sections: The properties object provided is not a valid'\n    );\n  }\n\n  return value;\n}\n\n// Object.assign() polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\nif (typeof Object.assign != 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target) {\n      // .length of function is 2\n      'use strict';\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n","/*\n * @shopify/theme-sections\n * -----------------------------------------------------------------------------\n *\n * A framework to provide structure to your Shopify sections and a load and unload\n * lifecycle. The lifecycle is automatically connected to theme editor events so\n * that your sections load and unload as the editor changes the content and\n * settings of your sections.\n */\n\nimport Section from './section';\n\nvar SECTION_TYPE_ATTR = 'data-section-type';\nvar SECTION_ID_ATTR = 'data-section-id';\n\nwindow.Shopify = window.Shopify || {};\nwindow.Shopify.theme = window.Shopify.theme || {};\nwindow.Shopify.theme.sections = window.Shopify.theme.sections || {};\n\nexport var registered = (window.Shopify.theme.sections.registered =\n  window.Shopify.theme.sections.registered || {});\nexport var instances = (window.Shopify.theme.sections.instances =\n  window.Shopify.theme.sections.instances || []);\n\nexport function register(type, properties) {\n  if (typeof type !== 'string') {\n    throw new TypeError(\n      'Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered'\n    );\n  }\n\n  if (typeof registered[type] !== 'undefined') {\n    throw new Error(\n      'Theme Sections: A section of type \"' +\n        type +\n        '\" has already been registered. You cannot register the same section type twice'\n    );\n  }\n\n  function TypedSection(container) {\n    Section.call(this, container, properties);\n  }\n\n  TypedSection.constructor = Section;\n  TypedSection.prototype = Object.create(Section.prototype);\n  TypedSection.prototype.type = type;\n\n  return (registered[type] = TypedSection);\n}\n\nexport function unregister(types) {\n  types = normalizeType(types);\n\n  types.forEach(function(type) {\n    delete registered[type];\n  });\n}\n\nexport function load(types, containers) {\n  types = normalizeType(types);\n\n  if (typeof containers === 'undefined') {\n    containers = document.querySelectorAll('[' + SECTION_TYPE_ATTR + ']');\n  }\n\n  containers = normalizeContainers(containers);\n\n  types.forEach(function(type) {\n    var TypedSection = registered[type];\n\n    if (typeof TypedSection === 'undefined') {\n      return;\n    }\n\n    containers = containers.filter(function(container) {\n      // Filter from list of containers because container already has an instance loaded\n      if (isInstance(container)) {\n        return false;\n      }\n\n      // Filter from list of containers because container doesn't have data-section-type attribute\n      if (container.getAttribute(SECTION_TYPE_ATTR) === null) {\n        return false;\n      }\n\n      // Keep in list of containers because current type doesn't match\n      if (container.getAttribute(SECTION_TYPE_ATTR) !== type) {\n        return true;\n      }\n\n      instances.push(new TypedSection(container));\n\n      // Filter from list of containers because container now has an instance loaded\n      return false;\n    });\n  });\n}\n\nexport function unload(selector) {\n  var instancesToUnload = getInstances(selector);\n\n  instancesToUnload.forEach(function(instance) {\n    var index = instances\n      .map(function(e) {\n        return e.id;\n      })\n      .indexOf(instance.id);\n    instances.splice(index, 1);\n    instance.onUnload();\n  });\n}\n\nexport function extend(selector, extension) {\n  var instancesToExtend = getInstances(selector);\n\n  instancesToExtend.forEach(function(instance) {\n    instance.extend(extension);\n  });\n}\n\nexport function getInstances(selector) {\n  var filteredInstances = [];\n\n  // Fetch first element if its an array\n  if (NodeList.prototype.isPrototypeOf(selector) || Array.isArray(selector)) {\n    var firstElement = selector[0];\n  }\n\n  // If selector element is DOM element\n  if (selector instanceof Element || firstElement instanceof Element) {\n    var containers = normalizeContainers(selector);\n\n    containers.forEach(function(container) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function(instance) {\n          return instance.container === container;\n        })\n      );\n    });\n\n    // If select is type string\n  } else if (typeof selector === 'string' || typeof firstElement === 'string') {\n    var types = normalizeType(selector);\n\n    types.forEach(function(type) {\n      filteredInstances = filteredInstances.concat(\n        instances.filter(function(instance) {\n          return instance.type === type;\n        })\n      );\n    });\n  }\n\n  return filteredInstances;\n}\n\nexport function getInstanceById(id) {\n  var instance;\n\n  for (var i = 0; i < instances.length; i++) {\n    if (instances[i].id === id) {\n      instance = instances[i];\n      break;\n    }\n  }\n  return instance;\n}\n\nexport function isInstance(selector) {\n  return getInstances(selector).length > 0;\n}\n\nfunction normalizeType(types) {\n  // If '*' then fetch all registered section types\n  if (types === '*') {\n    types = Object.keys(registered);\n\n    // If a single section type string is passed, put it in an array\n  } else if (typeof types === 'string') {\n    types = [types];\n\n    // If single section constructor is passed, transform to array with section\n    // type string\n  } else if (types.constructor === Section) {\n    types = [types.prototype.type];\n\n    // If array of typed section constructors is passed, transform the array to\n    // type strings\n  } else if (Array.isArray(types) && types[0].constructor === Section) {\n    types = types.map(function(TypedSection) {\n      return TypedSection.prototype.type;\n    });\n  }\n\n  types = types.map(function(type) {\n    return type.toLowerCase();\n  });\n\n  return types;\n}\n\nfunction normalizeContainers(containers) {\n  // Nodelist with entries\n  if (NodeList.prototype.isPrototypeOf(containers) && containers.length > 0) {\n    containers = Array.prototype.slice.call(containers);\n\n    // Empty Nodelist\n  } else if (\n    NodeList.prototype.isPrototypeOf(containers) &&\n    containers.length === 0\n  ) {\n    containers = [];\n\n    // Handle null (document.querySelector() returns null with no match)\n  } else if (containers === null) {\n    containers = [];\n\n    // Single DOM element\n  } else if (!Array.isArray(containers) && containers instanceof Element) {\n    containers = [containers];\n  }\n\n  return containers;\n}\n\nif (window.Shopify.designMode) {\n  document.addEventListener('shopify:section:load', function(event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector(\n      '[' + SECTION_ID_ATTR + '=\"' + id + '\"]'\n    );\n\n    if (container !== null) {\n      load(container.getAttribute(SECTION_TYPE_ATTR), container);\n    }\n  });\n\n  document.addEventListener('shopify:section:unload', function(event) {\n    var id = event.detail.sectionId;\n    var container = event.target.querySelector(\n      '[' + SECTION_ID_ATTR + '=\"' + id + '\"]'\n    );\n    var instance = getInstances(container)[0];\n\n    if (typeof instance === 'object') {\n      unload(container);\n    }\n  });\n\n  document.addEventListener('shopify:section:select', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:section:deselect', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onDeselect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:select', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockSelect(event);\n    }\n  });\n\n  document.addEventListener('shopify:block:deselect', function(event) {\n    var instance = getInstanceById(event.detail.sectionId);\n\n    if (typeof instance === 'object') {\n      instance.onBlockDeselect(event);\n    }\n  });\n}\n","function n(n,t){return void 0===t&&(t=document),t.querySelector(n)}function t(n,t){return void 0===t&&(t=document),[].slice.call(t.querySelectorAll(n))}function c(n,t){return Array.isArray(n)?n.forEach(t):t(n)}function r(n){return function(t,r,e){return c(t,function(t){return t[n+\"EventListener\"](r,e)})}}function e(n,t,c){return r(\"add\")(n,t,c),function(){return r(\"remove\")(n,t,c)}}function o(n){return function(t){var r=arguments;return c(t,function(t){var c;return(c=t.classList)[n].apply(c,[].slice.call(r,1))})}}function u(n){o(\"add\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function i(n){o(\"remove\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function l(n){o(\"toggle\").apply(void 0,[n].concat([].slice.call(arguments,1)))}function a(n,t){return n.classList.contains(t)}export{u as add,a as contains,e as listen,n as qs,t as qsa,i as remove,l as toggle};\n","'use strict'\r\n\r\nmodule.exports = isMobile\r\nmodule.exports.isMobile = isMobile\r\nmodule.exports.default = isMobile\r\n\r\nvar mobileRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\r\n\r\nvar tabletRE = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i\r\n\r\nfunction isMobile (opts) {\r\n  if (!opts) opts = {}\r\n  var ua = opts.ua\r\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\r\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\r\n    ua = ua.headers['user-agent']\r\n  }\r\n  if (typeof ua !== 'string') return false\r\n\r\n  var result = opts.tablet ? tabletRE.test(ua) : mobileRE.test(ua)\r\n\r\n  if (\r\n    !result &&\r\n    opts.tablet &&\r\n    opts.featureDetect &&\r\n    navigator &&\r\n    navigator.maxTouchPoints > 1 &&\r\n    ua.indexOf('Macintosh') !== -1 &&\r\n    ua.indexOf('Safari') !== -1\r\n  ) {\r\n    result = true\r\n  }\r\n\r\n  return result\r\n}\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * DOM event delegator\n *\n * The delegator will listen\n * for events that bubble up\n * to the root node.\n *\n * @constructor\n * @param {Node|string} [root] The root node or a selector string matching the root node\n */\nfunction Delegate(root) {\n  /**\n   * Maintain a map of listener\n   * lists, keyed by event name.\n   *\n   * @type Object\n   */\n  this.listenerMap = [{}, {}];\n\n  if (root) {\n    this.root(root);\n  }\n  /** @type function() */\n\n\n  this.handle = Delegate.prototype.handle.bind(this); // Cache of event listeners removed during an event cycle\n\n  this._removedListeners = [];\n}\n/**\n * Start listening for events\n * on the provided DOM element\n *\n * @param  {Node|string} [root] The root node or a selector string matching the root node\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.root = function (root) {\n  var listenerMap = this.listenerMap;\n  var eventType; // Remove master event listeners\n\n  if (this.rootElement) {\n    for (eventType in listenerMap[1]) {\n      if (listenerMap[1].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, true);\n      }\n    }\n\n    for (eventType in listenerMap[0]) {\n      if (listenerMap[0].hasOwnProperty(eventType)) {\n        this.rootElement.removeEventListener(eventType, this.handle, false);\n      }\n    }\n  } // If no root or root is not\n  // a dom node, then remove internal\n  // root reference and exit here\n\n\n  if (!root || !root.addEventListener) {\n    if (this.rootElement) {\n      delete this.rootElement;\n    }\n\n    return this;\n  }\n  /**\n   * The root node at which\n   * listeners are attached.\n   *\n   * @type Node\n   */\n\n\n  this.rootElement = root; // Set up master event listeners\n\n  for (eventType in listenerMap[1]) {\n    if (listenerMap[1].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, true);\n    }\n  }\n\n  for (eventType in listenerMap[0]) {\n    if (listenerMap[0].hasOwnProperty(eventType)) {\n      this.rootElement.addEventListener(eventType, this.handle, false);\n    }\n  }\n\n  return this;\n};\n/**\n * @param {string} eventType\n * @returns boolean\n */\n\n\nDelegate.prototype.captureForType = function (eventType) {\n  return ['blur', 'error', 'focus', 'load', 'resize', 'scroll'].indexOf(eventType) !== -1;\n};\n/**\n * Attach a handler to one\n * event for all elements\n * that match the selector,\n * now or in the future\n *\n * The handler function receives\n * three arguments: the DOM event\n * object, the node that matched\n * the selector while the event\n * was bubbling and a reference\n * to itself. Within the handler,\n * 'this' is equal to the second\n * argument.\n *\n * The node that actually received\n * the event can be accessed via\n * 'event.target'.\n *\n * @param {string} eventType Listen for these events\n * @param {string|undefined} selector Only handle events on elements matching this selector, if undefined match root element\n * @param {function()} handler Handler function - event data passed here will be in event.data\n * @param {boolean} [useCapture] see 'useCapture' in <https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener>\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.on = function (eventType, selector, handler, useCapture) {\n  var root;\n  var listenerMap;\n  var matcher;\n  var matcherParam;\n\n  if (!eventType) {\n    throw new TypeError('Invalid event type: ' + eventType);\n  } // handler can be passed as\n  // the second or third argument\n\n\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  } // Fallback to sensible defaults\n  // if useCapture not set\n\n\n  if (useCapture === undefined) {\n    useCapture = this.captureForType(eventType);\n  }\n\n  if (typeof handler !== 'function') {\n    throw new TypeError('Handler must be a type of Function');\n  }\n\n  root = this.rootElement;\n  listenerMap = this.listenerMap[useCapture ? 1 : 0]; // Add master handler for type if not created yet\n\n  if (!listenerMap[eventType]) {\n    if (root) {\n      root.addEventListener(eventType, this.handle, useCapture);\n    }\n\n    listenerMap[eventType] = [];\n  }\n\n  if (!selector) {\n    matcherParam = null; // COMPLEX - matchesRoot needs to have access to\n    // this.rootElement, so bind the function to this.\n\n    matcher = matchesRoot.bind(this); // Compile a matcher for the given selector\n  } else if (/^[a-z]+$/i.test(selector)) {\n    matcherParam = selector;\n    matcher = matchesTag;\n  } else if (/^#[a-z0-9\\-_]+$/i.test(selector)) {\n    matcherParam = selector.slice(1);\n    matcher = matchesId;\n  } else {\n    matcherParam = selector;\n    matcher = Element.prototype.matches;\n  } // Add to the list of listeners\n\n\n  listenerMap[eventType].push({\n    selector: selector,\n    handler: handler,\n    matcher: matcher,\n    matcherParam: matcherParam\n  });\n  return this;\n};\n/**\n * Remove an event handler\n * for elements that match\n * the selector, forever\n *\n * @param {string} [eventType] Remove handlers for events matching this type, considering the other parameters\n * @param {string} [selector] If this parameter is omitted, only handlers which match the other two will be removed\n * @param {function()} [handler] If this parameter is omitted, only handlers which match the previous two will be removed\n * @returns {Delegate} This method is chainable\n */\n\n\nDelegate.prototype.off = function (eventType, selector, handler, useCapture) {\n  var i;\n  var listener;\n  var listenerMap;\n  var listenerList;\n  var singleEventType; // Handler can be passed as\n  // the second or third argument\n\n  if (typeof selector === 'function') {\n    useCapture = handler;\n    handler = selector;\n    selector = null;\n  } // If useCapture not set, remove\n  // all event listeners\n\n\n  if (useCapture === undefined) {\n    this.off(eventType, selector, handler, true);\n    this.off(eventType, selector, handler, false);\n    return this;\n  }\n\n  listenerMap = this.listenerMap[useCapture ? 1 : 0];\n\n  if (!eventType) {\n    for (singleEventType in listenerMap) {\n      if (listenerMap.hasOwnProperty(singleEventType)) {\n        this.off(singleEventType, selector, handler);\n      }\n    }\n\n    return this;\n  }\n\n  listenerList = listenerMap[eventType];\n\n  if (!listenerList || !listenerList.length) {\n    return this;\n  } // Remove only parameter matches\n  // if specified\n\n\n  for (i = listenerList.length - 1; i >= 0; i--) {\n    listener = listenerList[i];\n\n    if ((!selector || selector === listener.selector) && (!handler || handler === listener.handler)) {\n      this._removedListeners.push(listener);\n\n      listenerList.splice(i, 1);\n    }\n  } // All listeners removed\n\n\n  if (!listenerList.length) {\n    delete listenerMap[eventType]; // Remove the main handler\n\n    if (this.rootElement) {\n      this.rootElement.removeEventListener(eventType, this.handle, useCapture);\n    }\n  }\n\n  return this;\n};\n/**\n * Handle an arbitrary event.\n *\n * @param {Event} event\n */\n\n\nDelegate.prototype.handle = function (event) {\n  var i;\n  var l;\n  var type = event.type;\n  var root;\n  var phase;\n  var listener;\n  var returned;\n  var listenerList = [];\n  var target;\n  var eventIgnore = 'ftLabsDelegateIgnore';\n\n  if (event[eventIgnore] === true) {\n    return;\n  }\n\n  target = event.target; // Hardcode value of Node.TEXT_NODE\n  // as not defined in IE8\n\n  if (target.nodeType === 3) {\n    target = target.parentNode;\n  } // Handle SVG <use> elements in IE\n\n\n  if (target.correspondingUseElement) {\n    target = target.correspondingUseElement;\n  }\n\n  root = this.rootElement;\n  phase = event.eventPhase || (event.target !== event.currentTarget ? 3 : 2); // eslint-disable-next-line default-case\n\n  switch (phase) {\n    case 1:\n      //Event.CAPTURING_PHASE:\n      listenerList = this.listenerMap[1][type];\n      break;\n\n    case 2:\n      //Event.AT_TARGET:\n      if (this.listenerMap[0] && this.listenerMap[0][type]) {\n        listenerList = listenerList.concat(this.listenerMap[0][type]);\n      }\n\n      if (this.listenerMap[1] && this.listenerMap[1][type]) {\n        listenerList = listenerList.concat(this.listenerMap[1][type]);\n      }\n\n      break;\n\n    case 3:\n      //Event.BUBBLING_PHASE:\n      listenerList = this.listenerMap[0][type];\n      break;\n  }\n\n  var toFire = []; // Need to continuously check\n  // that the specific list is\n  // still populated in case one\n  // of the callbacks actually\n  // causes the list to be destroyed.\n\n  l = listenerList.length;\n\n  while (target && l) {\n    for (i = 0; i < l; i++) {\n      listener = listenerList[i]; // Bail from this loop if\n      // the length changed and\n      // no more listeners are\n      // defined between i and l.\n\n      if (!listener) {\n        break;\n      }\n\n      if (target.tagName && [\"button\", \"input\", \"select\", \"textarea\"].indexOf(target.tagName.toLowerCase()) > -1 && target.hasAttribute(\"disabled\")) {\n        // Remove things that have previously fired\n        toFire = [];\n      } // Check for match and fire\n      // the event if there's one\n      //\n      // TODO:MCG:20120117: Need a way\n      // to check if event#stopImmediatePropagation\n      // was called. If so, break both loops.\n      else if (listener.matcher.call(target, listener.matcherParam, target)) {\n          toFire.push([event, target, listener]);\n        }\n    } // TODO:MCG:20120117: Need a way to\n    // check if event#stopPropagation\n    // was called. If so, break looping\n    // through the DOM. Stop if the\n    // delegation root has been reached\n\n\n    if (target === root) {\n      break;\n    }\n\n    l = listenerList.length; // Fall back to parentNode since SVG children have no parentElement in IE\n\n    target = target.parentElement || target.parentNode; // Do not traverse up to document root when using parentNode, though\n\n    if (target instanceof HTMLDocument) {\n      break;\n    }\n  }\n\n  var ret;\n\n  for (i = 0; i < toFire.length; i++) {\n    // Has it been removed during while the event function was fired\n    if (this._removedListeners.indexOf(toFire[i][2]) > -1) {\n      continue;\n    }\n\n    returned = this.fire.apply(this, toFire[i]); // Stop propagation to subsequent\n    // callbacks if the callback returned\n    // false\n\n    if (returned === false) {\n      toFire[i][0][eventIgnore] = true;\n      toFire[i][0].preventDefault();\n      ret = false;\n      break;\n    }\n  }\n\n  return ret;\n};\n/**\n * Fire a listener on a target.\n *\n * @param {Event} event\n * @param {Node} target\n * @param {Object} listener\n * @returns {boolean}\n */\n\n\nDelegate.prototype.fire = function (event, target, listener) {\n  return listener.handler.call(target, event, target);\n};\n/**\n * Check whether an element\n * matches a tag selector.\n *\n * Tags are NOT case-sensitive,\n * except in XML (and XML-based\n * languages such as XHTML).\n *\n * @param {string} tagName The tag name to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesTag(tagName, element) {\n  return tagName.toLowerCase() === element.tagName.toLowerCase();\n}\n/**\n * Check whether an element\n * matches the root.\n *\n * @param {?String} selector In this case this is always passed through as null and not used\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesRoot(selector, element) {\n  if (this.rootElement === window) {\n    return (// Match the outer document (dispatched from document)\n      element === document || // The <html> element (dispatched from document.body or document.documentElement)\n      element === document.documentElement || // Or the window itself (dispatched from window)\n      element === window\n    );\n  }\n\n  return this.rootElement === element;\n}\n/**\n * Check whether the ID of\n * the element in 'this'\n * matches the given ID.\n *\n * IDs are case-sensitive.\n *\n * @param {string} id The ID to test against\n * @param {Element} element The element to test with\n * @returns boolean\n */\n\n\nfunction matchesId(id, element) {\n  return id === element.id;\n}\n/**\n * Short hand for off()\n * and root(), ie both\n * with no parameters\n *\n * @return void\n */\n\n\nDelegate.prototype.destroy = function () {\n  this.off();\n  this.root();\n};\n\nvar _default = Delegate;\nexports.default = _default;\nmodule.exports = exports.default;","/*!\n* tabbable 5.3.3\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])', 'details>summary:first-of-type', 'details'];\nvar candidateSelector = /* #__PURE__ */candidateSelectors.join(',');\nvar NoElement = typeof Element === 'undefined';\nvar matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\nvar getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {\n  return element.getRootNode();\n} : function (element) {\n  return element.ownerDocument;\n};\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\n\nvar getCandidates = function getCandidates(el, includeContainer, filter) {\n  var candidates = Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));\n\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidatesScope\n * @property {Element} scope contains inner candidates\n * @property {Element[]} candidates\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidatesScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidatesScope>}\n */\n\n\nvar getCandidatesIteratively = function getCandidatesIteratively(elements, includeContainer, options) {\n  var candidates = [];\n  var elementsToCheck = Array.from(elements);\n\n  while (elementsToCheck.length) {\n    var element = elementsToCheck.shift();\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      var assigned = element.assignedElements();\n      var content = assigned.length ? assigned : element.children;\n      var nestedCandidates = getCandidatesIteratively(content, true, options);\n\n      if (options.flatten) {\n        candidates.push.apply(candidates, nestedCandidates);\n      } else {\n        candidates.push({\n          scope: element,\n          candidates: nestedCandidates\n        });\n      }\n    } else {\n      // check candidate element\n      var validCandidate = matches.call(element, candidateSelector);\n\n      if (validCandidate && options.filter(element) && (includeContainer || !elements.includes(element))) {\n        candidates.push(element);\n      } // iterate over shadow content if possible\n\n\n      var shadowRoot = element.shadowRoot || // check for an undisclosed shadow\n      typeof options.getShadowRoot === 'function' && options.getShadowRoot(element);\n      var validShadowRoot = !options.shadowRootFilter || options.shadowRootFilter(element);\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        var _nestedCandidates = getCandidatesIteratively(shadowRoot === true ? element.children : shadowRoot.children, true, options);\n\n        if (options.flatten) {\n          candidates.push.apply(candidates, _nestedCandidates);\n        } else {\n          candidates.push({\n            scope: element,\n            candidates: _nestedCandidates\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift.apply(elementsToCheck, element.children);\n      }\n    }\n  }\n\n  return candidates;\n};\n\nvar getTabindex = function getTabindex(node, isScope) {\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    //\n    // isScope is positive for custom element with shadow root or slot that by default\n    // have tabIndex -1, but need to be sorted by document order in order for their\n    // content to be inserted in the correct position\n    if ((isScope || /^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) || node.isContentEditable) && isNaN(parseInt(node.getAttribute('tabindex'), 10))) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\nvar sortOrderedTabbables = function sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n};\n\nvar isInput = function isInput(node) {\n  return node.tagName === 'INPUT';\n};\n\nvar isHiddenInput = function isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nvar isDetailsWithSummary = function isDetailsWithSummary(node) {\n  var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {\n    return child.tagName === 'SUMMARY';\n  });\n  return r;\n};\n\nvar getCheckedRadio = function getCheckedRadio(nodes, form) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nvar isTabbableRadio = function isTabbableRadio(node) {\n  if (!node.name) {\n    return true;\n  }\n\n  var radioScope = node.form || getRootNode(node);\n\n  var queryRadios = function queryRadios(name) {\n    return radioScope.querySelectorAll('input[type=\"radio\"][name=\"' + name + '\"]');\n  };\n\n  var radioSet;\n\n  if (typeof window !== 'undefined' && typeof window.CSS !== 'undefined' && typeof window.CSS.escape === 'function') {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s', err.message);\n      return false;\n    }\n  }\n\n  var checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nvar isRadio = function isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nvar isNonTabbableRadio = function isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\nvar isZeroArea = function isZeroArea(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      width = _node$getBoundingClie.width,\n      height = _node$getBoundingClie.height;\n\n  return width === 0 && height === 0;\n};\n\nvar isHidden = function isHidden(node, _ref) {\n  var displayCheck = _ref.displayCheck,\n      getShadowRoot = _ref.getShadowRoot;\n\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  var isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  var nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  } // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n\n\n  var nodeRootHost = getRootNode(node).host;\n  var nodeIsAttached = (nodeRootHost === null || nodeRootHost === void 0 ? void 0 : nodeRootHost.ownerDocument.contains(nodeRootHost)) || node.ownerDocument.contains(node);\n\n  if (!displayCheck || displayCheck === 'full') {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      var originalNode = node;\n\n      while (node) {\n        var parentElement = node.parentElement;\n        var rootNode = getRootNode(node);\n\n        if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    } // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n\n    if (nodeIsAttached) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    } // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  } // visible, as far as we can tell, or per current `displayCheck` mode\n\n\n  return false;\n}; // form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\n\n\nvar isDisabledFromFieldset = function isDisabledFromFieldset(node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    var parentNode = node.parentElement; // check if `node` is contained in a disabled <fieldset>\n\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (var i = 0; i < parentNode.children.length; i++) {\n          var child = parentNode.children.item(i); // when the first <legend> (in document order) is found\n\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);\n          }\n        } // the disabled <fieldset> containing `node` has no <legend>\n\n\n        return true;\n      }\n\n      parentNode = parentNode.parentElement;\n    }\n  } // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n\n\n  return false;\n};\n\nvar isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node, options) || // For a details element with a summary, the summary element gets the focus\n  isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isNodeMatchingSelectorTabbable = function isNodeMatchingSelectorTabbable(options, node) {\n  if (isNonTabbableRadio(node) || getTabindex(node) < 0 || !isNodeMatchingSelectorFocusable(options, node)) {\n    return false;\n  }\n\n  return true;\n};\n\nvar isValidShadowRootTabbable = function isValidShadowRootTabbable(shadowHostNode) {\n  var tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  } // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n\n\n  return false;\n};\n/**\n * @param {Array.<Element|CandidatesScope>} candidates\n * @returns Element[]\n */\n\n\nvar sortByOrder = function sortByOrder(candidates) {\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    var isScope = !!item.scope;\n    var element = isScope ? item.scope : item;\n    var candidateTabindex = getTabindex(element, isScope);\n    var elements = isScope ? sortByOrder(item.candidates) : element;\n\n    if (candidateTabindex === 0) {\n      isScope ? regularTabbables.push.apply(regularTabbables, elements) : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements\n      });\n    }\n  });\n  return orderedTabbables.sort(sortOrderedTabbables).reduce(function (acc, sortable) {\n    sortable.isScope ? acc.push.apply(acc, sortable.content) : acc.push(sortable.content);\n    return acc;\n  }, []).concat(regularTabbables);\n};\n\nvar tabbable = function tabbable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorTabbable.bind(null, options),\n      flatten: false,\n      getShadowRoot: options.getShadowRoot,\n      shadowRootFilter: isValidShadowRootTabbable\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorTabbable.bind(null, options));\n  }\n\n  return sortByOrder(candidates);\n};\n\nvar focusable = function focusable(el, options) {\n  options = options || {};\n  var candidates;\n\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively([el], options.includeContainer, {\n      filter: isNodeMatchingSelectorFocusable.bind(null, options),\n      flatten: true,\n      getShadowRoot: options.getShadowRoot\n    });\n  } else {\n    candidates = getCandidates(el, options.includeContainer, isNodeMatchingSelectorFocusable.bind(null, options));\n  }\n\n  return candidates;\n};\n\nvar isTabbable = function isTabbable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nvar focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');\n\nvar isFocusable = function isFocusable(node, options) {\n  options = options || {};\n\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { focusable, isFocusable, isTabbable, tabbable };\n//# sourceMappingURL=index.esm.js.map\n","/*!\n* focus-trap 6.9.4\n* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE\n*/\nimport { tabbable, focusable, isTabbable, isFocusable } from 'tabbable';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar activeFocusTraps = function () {\n  var trapQueue = [];\n  return {\n    activateTrap: function activateTrap(trap) {\n      if (trapQueue.length > 0) {\n        var activeTrap = trapQueue[trapQueue.length - 1];\n\n        if (activeTrap !== trap) {\n          activeTrap.pause();\n        }\n      }\n\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex === -1) {\n        trapQueue.push(trap);\n      } else {\n        // move this existing trap to the front of the queue\n        trapQueue.splice(trapIndex, 1);\n        trapQueue.push(trap);\n      }\n    },\n    deactivateTrap: function deactivateTrap(trap) {\n      var trapIndex = trapQueue.indexOf(trap);\n\n      if (trapIndex !== -1) {\n        trapQueue.splice(trapIndex, 1);\n      }\n\n      if (trapQueue.length > 0) {\n        trapQueue[trapQueue.length - 1].unpause();\n      }\n    }\n  };\n}();\n\nvar isSelectableInput = function isSelectableInput(node) {\n  return node.tagName && node.tagName.toLowerCase() === 'input' && typeof node.select === 'function';\n};\n\nvar isEscapeEvent = function isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n};\n\nvar isTabEvent = function isTabEvent(e) {\n  return e.key === 'Tab' || e.keyCode === 9;\n};\n\nvar delay = function delay(fn) {\n  return setTimeout(fn, 0);\n}; // Array.find/findIndex() are not supported on IE; this replicates enough\n//  of Array.findIndex() for our needs\n\n\nvar findIndex = function findIndex(arr, fn) {\n  var idx = -1;\n  arr.every(function (value, i) {\n    if (fn(value)) {\n      idx = i;\n      return false; // break\n    }\n\n    return true; // next\n  });\n  return idx;\n};\n/**\n * Get an option's value when it could be a plain value, or a handler that provides\n *  the value.\n * @param {*} value Option's value to check.\n * @param {...*} [params] Any parameters to pass to the handler, if `value` is a function.\n * @returns {*} The `value`, or the handler's returned value.\n */\n\n\nvar valueOrHandler = function valueOrHandler(value) {\n  for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    params[_key - 1] = arguments[_key];\n  }\n\n  return typeof value === 'function' ? value.apply(void 0, params) : value;\n};\n\nvar getActualTarget = function getActualTarget(event) {\n  // NOTE: If the trap is _inside_ a shadow DOM, event.target will always be the\n  //  shadow host. However, event.target.composedPath() will be an array of\n  //  nodes \"clicked\" from inner-most (the actual element inside the shadow) to\n  //  outer-most (the host HTML document). If we have access to composedPath(),\n  //  then use its first element; otherwise, fall back to event.target (and\n  //  this only works for an _open_ shadow DOM; otherwise,\n  //  composedPath()[0] === event.target always).\n  return event.target.shadowRoot && typeof event.composedPath === 'function' ? event.composedPath()[0] : event.target;\n};\n\nvar createFocusTrap = function createFocusTrap(elements, userOptions) {\n  // SSR: a live trap shouldn't be created in this type of environment so this\n  //  should be safe code to execute if the `document` option isn't specified\n  var doc = (userOptions === null || userOptions === void 0 ? void 0 : userOptions.document) || document;\n\n  var config = _objectSpread2({\n    returnFocusOnDeactivate: true,\n    escapeDeactivates: true,\n    delayInitialFocus: true\n  }, userOptions);\n\n  var state = {\n    // containers given to createFocusTrap()\n    // @type {Array<HTMLElement>}\n    containers: [],\n    // list of objects identifying tabbable nodes in `containers` in the trap\n    // NOTE: it's possible that a group has no tabbable nodes if nodes get removed while the trap\n    //  is active, but the trap should never get to a state where there isn't at least one group\n    //  with at least one tabbable node in it (that would lead to an error condition that would\n    //  result in an error being thrown)\n    // @type {Array<{\n    //   container: HTMLElement,\n    //   tabbableNodes: Array<HTMLElement>, // empty if none\n    //   focusableNodes: Array<HTMLElement>, // empty if none\n    //   firstTabbableNode: HTMLElement|null,\n    //   lastTabbableNode: HTMLElement|null,\n    //   nextTabbableNode: (node: HTMLElement, forward: boolean) => HTMLElement|undefined\n    // }>}\n    containerGroups: [],\n    // same order/length as `containers` list\n    // references to objects in `containerGroups`, but only those that actually have\n    //  tabbable nodes in them\n    // NOTE: same order as `containers` and `containerGroups`, but __not necessarily__\n    //  the same length\n    tabbableGroups: [],\n    nodeFocusedBeforeActivation: null,\n    mostRecentlyFocusedNode: null,\n    active: false,\n    paused: false,\n    // timer ID for when delayInitialFocus is true and initial focus in this trap\n    //  has been delayed during activation\n    delayInitialFocusTimer: undefined\n  };\n  var trap; // eslint-disable-line prefer-const -- some private functions reference it, and its methods reference private functions, so we must declare here and define later\n\n  /**\n   * Gets a configuration option value.\n   * @param {Object|undefined} configOverrideOptions If true, and option is defined in this set,\n   *  value will be taken from this object. Otherwise, value will be taken from base configuration.\n   * @param {string} optionName Name of the option whose value is sought.\n   * @param {string|undefined} [configOptionName] Name of option to use __instead of__ `optionName`\n   *  IIF `configOverrideOptions` is not defined. Otherwise, `optionName` is used.\n   */\n\n  var getOption = function getOption(configOverrideOptions, optionName, configOptionName) {\n    return configOverrideOptions && configOverrideOptions[optionName] !== undefined ? configOverrideOptions[optionName] : config[configOptionName || optionName];\n  };\n  /**\n   * Finds the index of the container that contains the element.\n   * @param {HTMLElement} element\n   * @returns {number} Index of the container in either `state.containers` or\n   *  `state.containerGroups` (the order/length of these lists are the same); -1\n   *  if the element isn't found.\n   */\n\n\n  var findContainerIndex = function findContainerIndex(element) {\n    // NOTE: search `containerGroups` because it's possible a group contains no tabbable\n    //  nodes, but still contains focusable nodes (e.g. if they all have `tabindex=-1`)\n    //  and we still need to find the element in there\n    return state.containerGroups.findIndex(function (_ref) {\n      var container = _ref.container,\n          tabbableNodes = _ref.tabbableNodes;\n      return container.contains(element) || // fall back to explicit tabbable search which will take into consideration any\n      //  web components if the `tabbableOptions.getShadowRoot` option was used for\n      //  the trap, enabling shadow DOM support in tabbable (`Node.contains()` doesn't\n      //  look inside web components even if open)\n      tabbableNodes.find(function (node) {\n        return node === element;\n      });\n    });\n  };\n  /**\n   * Gets the node for the given option, which is expected to be an option that\n   *  can be either a DOM node, a string that is a selector to get a node, `false`\n   *  (if a node is explicitly NOT given), or a function that returns any of these\n   *  values.\n   * @param {string} optionName\n   * @returns {undefined | false | HTMLElement | SVGElement} Returns\n   *  `undefined` if the option is not specified; `false` if the option\n   *  resolved to `false` (node explicitly not given); otherwise, the resolved\n   *  DOM node.\n   * @throws {Error} If the option is set, not `false`, and is not, or does not\n   *  resolve to a node.\n   */\n\n\n  var getNodeForOption = function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n\n    if (typeof optionValue === 'function') {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      optionValue = optionValue.apply(void 0, params);\n    }\n\n    if (optionValue === true) {\n      optionValue = undefined; // use default value\n    }\n\n    if (!optionValue) {\n      if (optionValue === undefined || optionValue === false) {\n        return optionValue;\n      } // else, empty string (invalid), null (invalid), 0 (invalid)\n\n\n      throw new Error(\"`\".concat(optionName, \"` was specified but was not a node, or did not return a node\"));\n    }\n\n    var node = optionValue; // could be HTMLElement, SVGElement, or non-empty string at this point\n\n    if (typeof optionValue === 'string') {\n      node = doc.querySelector(optionValue); // resolve to node, or null if fails\n\n      if (!node) {\n        throw new Error(\"`\".concat(optionName, \"` as selector refers to no known node\"));\n      }\n    }\n\n    return node;\n  };\n\n  var getInitialFocusNode = function getInitialFocusNode() {\n    var node = getNodeForOption('initialFocus'); // false explicitly indicates we want no initialFocus at all\n\n    if (node === false) {\n      return false;\n    }\n\n    if (node === undefined) {\n      // option not specified: use fallback options\n      if (findContainerIndex(doc.activeElement) >= 0) {\n        node = doc.activeElement;\n      } else {\n        var firstTabbableGroup = state.tabbableGroups[0];\n        var firstTabbableNode = firstTabbableGroup && firstTabbableGroup.firstTabbableNode; // NOTE: `fallbackFocus` option function cannot return `false` (not supported)\n\n        node = firstTabbableNode || getNodeForOption('fallbackFocus');\n      }\n    }\n\n    if (!node) {\n      throw new Error('Your focus-trap needs to have at least one focusable element');\n    }\n\n    return node;\n  };\n\n  var updateTabbableNodes = function updateTabbableNodes() {\n    state.containerGroups = state.containers.map(function (container) {\n      var tabbableNodes = tabbable(container, config.tabbableOptions); // NOTE: if we have tabbable nodes, we must have focusable nodes; focusable nodes\n      //  are a superset of tabbable nodes\n\n      var focusableNodes = focusable(container, config.tabbableOptions);\n      return {\n        container: container,\n        tabbableNodes: tabbableNodes,\n        focusableNodes: focusableNodes,\n        firstTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[0] : null,\n        lastTabbableNode: tabbableNodes.length > 0 ? tabbableNodes[tabbableNodes.length - 1] : null,\n\n        /**\n         * Finds the __tabbable__ node that follows the given node in the specified direction,\n         *  in this container, if any.\n         * @param {HTMLElement} node\n         * @param {boolean} [forward] True if going in forward tab order; false if going\n         *  in reverse.\n         * @returns {HTMLElement|undefined} The next tabbable node, if any.\n         */\n        nextTabbableNode: function nextTabbableNode(node) {\n          var forward = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n          // NOTE: If tabindex is positive (in order to manipulate the tab order separate\n          //  from the DOM order), this __will not work__ because the list of focusableNodes,\n          //  while it contains tabbable nodes, does not sort its nodes in any order other\n          //  than DOM order, because it can't: Where would you place focusable (but not\n          //  tabbable) nodes in that order? They have no order, because they aren't tabbale...\n          // Support for positive tabindex is already broken and hard to manage (possibly\n          //  not supportable, TBD), so this isn't going to make things worse than they\n          //  already are, and at least makes things better for the majority of cases where\n          //  tabindex is either 0/unset or negative.\n          // FYI, positive tabindex issue: https://github.com/focus-trap/focus-trap/issues/375\n          var nodeIdx = focusableNodes.findIndex(function (n) {\n            return n === node;\n          });\n\n          if (nodeIdx < 0) {\n            return undefined;\n          }\n\n          if (forward) {\n            return focusableNodes.slice(nodeIdx + 1).find(function (n) {\n              return isTabbable(n, config.tabbableOptions);\n            });\n          }\n\n          return focusableNodes.slice(0, nodeIdx).reverse().find(function (n) {\n            return isTabbable(n, config.tabbableOptions);\n          });\n        }\n      };\n    });\n    state.tabbableGroups = state.containerGroups.filter(function (group) {\n      return group.tabbableNodes.length > 0;\n    }); // throw if no groups have tabbable nodes and we don't have a fallback focus node either\n\n    if (state.tabbableGroups.length <= 0 && !getNodeForOption('fallbackFocus') // returning false not supported for this option\n    ) {\n      throw new Error('Your focus-trap must have at least one container with at least one tabbable node in it at all times');\n    }\n  };\n\n  var tryFocus = function tryFocus(node) {\n    if (node === false) {\n      return;\n    }\n\n    if (node === doc.activeElement) {\n      return;\n    }\n\n    if (!node || !node.focus) {\n      tryFocus(getInitialFocusNode());\n      return;\n    }\n\n    node.focus({\n      preventScroll: !!config.preventScroll\n    });\n    state.mostRecentlyFocusedNode = node;\n\n    if (isSelectableInput(node)) {\n      node.select();\n    }\n  };\n\n  var getReturnFocusNode = function getReturnFocusNode(previousActiveElement) {\n    var node = getNodeForOption('setReturnFocus', previousActiveElement);\n    return node ? node : node === false ? false : previousActiveElement;\n  }; // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event.\n\n\n  var checkPointerDown = function checkPointerDown(e) {\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      // allow the click since it ocurred inside the trap\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      // immediately deactivate the trap\n      trap.deactivate({\n        // if, on deactivation, we should return focus to the node originally-focused\n        //  when the trap was activated (or the configured `setReturnFocus` node),\n        //  then assume it's also OK to return focus to the outside node that was\n        //  just clicked, causing deactivation, as long as that node is focusable;\n        //  if it isn't focusable, then return focus to the original node focused\n        //  on activation (or the configured `setReturnFocus` node)\n        // NOTE: by setting `returnFocus: false`, deactivate() will do nothing,\n        //  which will result in the outside click setting focus to the node\n        //  that was clicked, whether it's focusable or not; by setting\n        //  `returnFocus: true`, we'll attempt to re-focus the node originally-focused\n        //  on activation (or the configured `setReturnFocus` node)\n        returnFocus: config.returnFocusOnDeactivate && !isFocusable(target, config.tabbableOptions)\n      });\n      return;\n    } // This is needed for mobile devices.\n    // (If we'll only let `click` events through,\n    // then on mobile they will be blocked anyways if `touchstart` is blocked.)\n\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      // allow the click outside the trap to take place\n      return;\n    } // otherwise, prevent the click\n\n\n    e.preventDefault();\n  }; // In case focus escapes the trap for some strange reason, pull it back in.\n\n\n  var checkFocusIn = function checkFocusIn(e) {\n    var target = getActualTarget(e);\n    var targetContained = findContainerIndex(target) >= 0; // In Firefox when you Tab out of an iframe the Document is briefly focused.\n\n    if (targetContained || target instanceof Document) {\n      if (targetContained) {\n        state.mostRecentlyFocusedNode = target;\n      }\n    } else {\n      // escaped! pull it back in to where it just left\n      e.stopImmediatePropagation();\n      tryFocus(state.mostRecentlyFocusedNode || getInitialFocusNode());\n    }\n  }; // Hijack Tab events on the first and last focusable nodes of the trap,\n  // in order to prevent focus from escaping. If it escapes for even a\n  // moment it can end up scrolling the page and causing confusion so we\n  // kind of need to capture the action at the keydown phase.\n\n\n  var checkTab = function checkTab(e) {\n    var target = getActualTarget(e);\n    updateTabbableNodes();\n    var destinationNode = null;\n\n    if (state.tabbableGroups.length > 0) {\n      // make sure the target is actually contained in a group\n      // NOTE: the target may also be the container itself if it's focusable\n      //  with tabIndex='-1' and was given initial focus\n      var containerIndex = findContainerIndex(target);\n      var containerGroup = containerIndex >= 0 ? state.containerGroups[containerIndex] : undefined;\n\n      if (containerIndex < 0) {\n        // target not found in any group: quite possible focus has escaped the trap,\n        //  so bring it back in to...\n        if (e.shiftKey) {\n          // ...the last node in the last group\n          destinationNode = state.tabbableGroups[state.tabbableGroups.length - 1].lastTabbableNode;\n        } else {\n          // ...the first node in the first group\n          destinationNode = state.tabbableGroups[0].firstTabbableNode;\n        }\n      } else if (e.shiftKey) {\n        // REVERSE\n        // is the target the first tabbable node in a group?\n        var startOfGroupIndex = findIndex(state.tabbableGroups, function (_ref2) {\n          var firstTabbableNode = _ref2.firstTabbableNode;\n          return target === firstTabbableNode;\n        });\n\n        if (startOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target, false))) {\n          // an exception case where the target is either the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle shift+tab as if focus were on the container's\n          //  first tabbable node, and go to the last tabbable node of the LAST group\n          startOfGroupIndex = containerIndex;\n        }\n\n        if (startOfGroupIndex >= 0) {\n          // YES: then shift+tab should go to the last tabbable node in the\n          //  previous group (and wrap around to the last tabbable node of\n          //  the LAST group if it's the first tabbable node of the FIRST group)\n          var destinationGroupIndex = startOfGroupIndex === 0 ? state.tabbableGroups.length - 1 : startOfGroupIndex - 1;\n          var destinationGroup = state.tabbableGroups[destinationGroupIndex];\n          destinationNode = destinationGroup.lastTabbableNode;\n        }\n      } else {\n        // FORWARD\n        // is the target the last tabbable node in a group?\n        var lastOfGroupIndex = findIndex(state.tabbableGroups, function (_ref3) {\n          var lastTabbableNode = _ref3.lastTabbableNode;\n          return target === lastTabbableNode;\n        });\n\n        if (lastOfGroupIndex < 0 && (containerGroup.container === target || isFocusable(target, config.tabbableOptions) && !isTabbable(target, config.tabbableOptions) && !containerGroup.nextTabbableNode(target))) {\n          // an exception case where the target is the container itself, or\n          //  a non-tabbable node that was given focus (i.e. tabindex is negative\n          //  and user clicked on it or node was programmatically given focus)\n          //  and is not followed by any other tabbable node, in which\n          //  case, we should handle tab as if focus were on the container's\n          //  last tabbable node, and go to the first tabbable node of the FIRST group\n          lastOfGroupIndex = containerIndex;\n        }\n\n        if (lastOfGroupIndex >= 0) {\n          // YES: then tab should go to the first tabbable node in the next\n          //  group (and wrap around to the first tabbable node of the FIRST\n          //  group if it's the last tabbable node of the LAST group)\n          var _destinationGroupIndex = lastOfGroupIndex === state.tabbableGroups.length - 1 ? 0 : lastOfGroupIndex + 1;\n\n          var _destinationGroup = state.tabbableGroups[_destinationGroupIndex];\n          destinationNode = _destinationGroup.firstTabbableNode;\n        }\n      }\n    } else {\n      // NOTE: the fallbackFocus option does not support returning false to opt-out\n      destinationNode = getNodeForOption('fallbackFocus');\n    }\n\n    if (destinationNode) {\n      e.preventDefault();\n      tryFocus(destinationNode);\n    } // else, let the browser take care of [shift+]tab and move the focus\n\n  };\n\n  var checkKey = function checkKey(e) {\n    if (isEscapeEvent(e) && valueOrHandler(config.escapeDeactivates, e) !== false) {\n      e.preventDefault();\n      trap.deactivate();\n      return;\n    }\n\n    if (isTabEvent(e)) {\n      checkTab(e);\n      return;\n    }\n  };\n\n  var checkClick = function checkClick(e) {\n    var target = getActualTarget(e);\n\n    if (findContainerIndex(target) >= 0) {\n      return;\n    }\n\n    if (valueOrHandler(config.clickOutsideDeactivates, e)) {\n      return;\n    }\n\n    if (valueOrHandler(config.allowOutsideClick, e)) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }; //\n  // EVENT LISTENERS\n  //\n\n\n  var addListeners = function addListeners() {\n    if (!state.active) {\n      return;\n    } // There can be only one listening focus trap at a time\n\n\n    activeFocusTraps.activateTrap(trap); // Delay ensures that the focused element doesn't capture the event\n    // that caused the focus trap activation.\n\n    state.delayInitialFocusTimer = config.delayInitialFocus ? delay(function () {\n      tryFocus(getInitialFocusNode());\n    }) : tryFocus(getInitialFocusNode());\n    doc.addEventListener('focusin', checkFocusIn, true);\n    doc.addEventListener('mousedown', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('touchstart', checkPointerDown, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('click', checkClick, {\n      capture: true,\n      passive: false\n    });\n    doc.addEventListener('keydown', checkKey, {\n      capture: true,\n      passive: false\n    });\n    return trap;\n  };\n\n  var removeListeners = function removeListeners() {\n    if (!state.active) {\n      return;\n    }\n\n    doc.removeEventListener('focusin', checkFocusIn, true);\n    doc.removeEventListener('mousedown', checkPointerDown, true);\n    doc.removeEventListener('touchstart', checkPointerDown, true);\n    doc.removeEventListener('click', checkClick, true);\n    doc.removeEventListener('keydown', checkKey, true);\n    return trap;\n  }; //\n  // TRAP DEFINITION\n  //\n\n\n  trap = {\n    get active() {\n      return state.active;\n    },\n\n    get paused() {\n      return state.paused;\n    },\n\n    activate: function activate(activateOptions) {\n      if (state.active) {\n        return this;\n      }\n\n      var onActivate = getOption(activateOptions, 'onActivate');\n      var onPostActivate = getOption(activateOptions, 'onPostActivate');\n      var checkCanFocusTrap = getOption(activateOptions, 'checkCanFocusTrap');\n\n      if (!checkCanFocusTrap) {\n        updateTabbableNodes();\n      }\n\n      state.active = true;\n      state.paused = false;\n      state.nodeFocusedBeforeActivation = doc.activeElement;\n\n      if (onActivate) {\n        onActivate();\n      }\n\n      var finishActivation = function finishActivation() {\n        if (checkCanFocusTrap) {\n          updateTabbableNodes();\n        }\n\n        addListeners();\n\n        if (onPostActivate) {\n          onPostActivate();\n        }\n      };\n\n      if (checkCanFocusTrap) {\n        checkCanFocusTrap(state.containers.concat()).then(finishActivation, finishActivation);\n        return this;\n      }\n\n      finishActivation();\n      return this;\n    },\n    deactivate: function deactivate(deactivateOptions) {\n      if (!state.active) {\n        return this;\n      }\n\n      var options = _objectSpread2({\n        onDeactivate: config.onDeactivate,\n        onPostDeactivate: config.onPostDeactivate,\n        checkCanReturnFocus: config.checkCanReturnFocus\n      }, deactivateOptions);\n\n      clearTimeout(state.delayInitialFocusTimer); // noop if undefined\n\n      state.delayInitialFocusTimer = undefined;\n      removeListeners();\n      state.active = false;\n      state.paused = false;\n      activeFocusTraps.deactivateTrap(trap);\n      var onDeactivate = getOption(options, 'onDeactivate');\n      var onPostDeactivate = getOption(options, 'onPostDeactivate');\n      var checkCanReturnFocus = getOption(options, 'checkCanReturnFocus');\n      var returnFocus = getOption(options, 'returnFocus', 'returnFocusOnDeactivate');\n\n      if (onDeactivate) {\n        onDeactivate();\n      }\n\n      var finishDeactivation = function finishDeactivation() {\n        delay(function () {\n          if (returnFocus) {\n            tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation));\n          }\n\n          if (onPostDeactivate) {\n            onPostDeactivate();\n          }\n        });\n      };\n\n      if (returnFocus && checkCanReturnFocus) {\n        checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation, finishDeactivation);\n        return this;\n      }\n\n      finishDeactivation();\n      return this;\n    },\n    pause: function pause() {\n      if (state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = true;\n      removeListeners();\n      return this;\n    },\n    unpause: function unpause() {\n      if (!state.paused || !state.active) {\n        return this;\n      }\n\n      state.paused = false;\n      updateTabbableNodes();\n      addListeners();\n      return this;\n    },\n    updateContainerElements: function updateContainerElements(containerElements) {\n      var elementsAsArray = [].concat(containerElements).filter(Boolean);\n      state.containers = elementsAsArray.map(function (element) {\n        return typeof element === 'string' ? doc.querySelector(element) : element;\n      });\n\n      if (state.active) {\n        updateTabbableNodes();\n      }\n\n      return this;\n    }\n  }; // initialize container elements\n\n  trap.updateContainerElements(elements);\n  return trap;\n};\n\nexport { createFocusTrap };\n//# sourceMappingURL=focus-trap.esm.js.map\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  } else {\n    setOverflowHidden(options);\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  } else if (!locks.length) {\n    restoreOverflowSetting();\n  }\n};\n\n","var n=function(n){if(\"object\"!=typeof(t=n)||Array.isArray(t))throw\"state should be an object\";var t},t=function(n,t,e,c){return(r=n,r.reduce(function(n,t,e){return n.indexOf(t)>-1?n:n.concat(t)},[])).reduce(function(n,e){return n.concat(t[e]||[])},[]).map(function(n){return n(e,c)});var r},e=a(),c=e.on,r=e.emit,o=e.hydrate,u=e.getState;function a(e){void 0===e&&(e={});var c={};return{getState:function(){return Object.assign({},e)},hydrate:function(r){return n(r),Object.assign(e,r),function(){var n=[\"*\"].concat(Object.keys(r));t(n,c,e)}},on:function(n,t){return(n=[].concat(n)).map(function(n){return c[n]=(c[n]||[]).concat(t)}),function(){return n.map(function(n){return c[n].splice(c[n].indexOf(t),1)})}},emit:function(r,o,u){var a=(\"*\"===r?[]:[\"*\"]).concat(r);(o=\"function\"==typeof o?o(e):o)&&(n(o),Object.assign(e,o),a=a.concat(Object.keys(o))),t(a,c,e,u)}}}export{c as on,r as emit,o as hydrate,u as getState,a as create};\n//# sourceMappingURL=evx.es.js.map\n","/*!\n * slide-anim\n * https://github.com/yomotsu/slide-anim\n * (c) 2017 @yomotsu\n * Released under the MIT License.\n */\nconst pool = [];\nconst inAnimItems = {\n    add(el, defaultStyle, timeoutId, onCancelled) {\n        const inAnimItem = { el, defaultStyle, timeoutId, onCancelled };\n        this.remove(el);\n        pool.push(inAnimItem);\n    },\n    remove(el) {\n        const index = inAnimItems.findIndex(el);\n        if (index === -1)\n            return;\n        const inAnimItem = pool[index];\n        clearTimeout(inAnimItem.timeoutId);\n        inAnimItem.onCancelled();\n        pool.splice(index, 1);\n    },\n    find(el) {\n        return pool[inAnimItems.findIndex(el)];\n    },\n    findIndex(el) {\n        let index = -1;\n        pool.some((item, i) => {\n            if (item.el === el) {\n                index = i;\n                return true;\n            }\n            return false;\n        });\n        return index;\n    }\n};\n\nconst CSS_EASEOUT_EXPO = 'cubic-bezier( 0.19, 1, 0.22, 1 )';\nfunction slideDown(el, options = {}) {\n    return new Promise((resolve) => {\n        if (inAnimItems.findIndex(el) !== -1)\n            return;\n        const _isVisible = isVisible(el);\n        const hasEndHeight = typeof options.endHeight === 'number';\n        const display = options.display || 'block';\n        const duration = options.duration || 400;\n        const onCancelled = options.onCancelled || function () { };\n        const defaultStyle = el.getAttribute('style') || '';\n        const style = window.getComputedStyle(el);\n        const defaultStyles = getDefaultStyles(el, display);\n        const isBorderBox = /border-box/.test(style.getPropertyValue('box-sizing'));\n        const contentHeight = defaultStyles.height;\n        const minHeight = defaultStyles.minHeight;\n        const paddingTop = defaultStyles.paddingTop;\n        const paddingBottom = defaultStyles.paddingBottom;\n        const borderTop = defaultStyles.borderTop;\n        const borderBottom = defaultStyles.borderBottom;\n        const cssDuration = `${duration}ms`;\n        const cssEasing = CSS_EASEOUT_EXPO;\n        const cssTransition = [\n            `height ${cssDuration} ${cssEasing}`,\n            `min-height ${cssDuration} ${cssEasing}`,\n            `padding ${cssDuration} ${cssEasing}`,\n            `border-width ${cssDuration} ${cssEasing}`\n        ].join();\n        const startHeight = _isVisible ? style.height : '0px';\n        const startMinHeight = _isVisible ? style.minHeight : '0px';\n        const startPaddingTop = _isVisible ? style.paddingTop : '0px';\n        const startPaddingBottom = _isVisible ? style.paddingBottom : '0px';\n        const startBorderTopWidth = _isVisible ? style.borderTopWidth : '0px';\n        const startBorderBottomWidth = _isVisible ? style.borderBottomWidth : '0px';\n        const endHeight = (() => {\n            if (hasEndHeight)\n                return `${options.endHeight}px`;\n            return !isBorderBox ?\n                `${contentHeight - paddingTop - paddingBottom}px` :\n                `${contentHeight + borderTop + borderBottom}px`;\n        })();\n        const endMinHeight = `${minHeight}px`;\n        const endPaddingTop = `${paddingTop}px`;\n        const endPaddingBottom = `${paddingBottom}px`;\n        const endBorderTopWidth = `${borderTop}px`;\n        const endBorderBottomWidth = `${borderBottom}px`;\n        if (startHeight === endHeight &&\n            startPaddingTop === endPaddingTop &&\n            startPaddingBottom === endPaddingBottom &&\n            startBorderTopWidth === endBorderTopWidth &&\n            startBorderBottomWidth === endBorderBottomWidth) {\n            resolve();\n            return;\n        }\n        requestAnimationFrame(() => {\n            el.style.height = startHeight;\n            el.style.minHeight = startMinHeight;\n            el.style.paddingTop = startPaddingTop;\n            el.style.paddingBottom = startPaddingBottom;\n            el.style.borderTopWidth = startBorderTopWidth;\n            el.style.borderBottomWidth = startBorderBottomWidth;\n            el.style.display = display;\n            el.style.overflow = 'hidden';\n            el.style.visibility = 'visible';\n            el.style.transition = cssTransition;\n            el.style.webkitTransition = cssTransition;\n            requestAnimationFrame(() => {\n                el.style.height = endHeight;\n                el.style.minHeight = endMinHeight;\n                el.style.paddingTop = endPaddingTop;\n                el.style.paddingBottom = endPaddingBottom;\n                el.style.borderTopWidth = endBorderTopWidth;\n                el.style.borderBottomWidth = endBorderBottomWidth;\n            });\n        });\n        const timeoutId = setTimeout(() => {\n            resetStyle(el);\n            el.style.display = display;\n            if (hasEndHeight) {\n                el.style.height = `${options.endHeight}px`;\n                el.style.overflow = `hidden`;\n            }\n            inAnimItems.remove(el);\n            resolve();\n        }, duration);\n        inAnimItems.add(el, defaultStyle, timeoutId, onCancelled);\n    });\n}\nfunction slideUp(el, options = {}) {\n    return new Promise((resolve) => {\n        if (inAnimItems.findIndex(el) !== -1)\n            return;\n        const _isVisible = isVisible(el);\n        const display = options.display || 'block';\n        const duration = options.duration || 400;\n        const onCancelled = options.onCancelled || function () { };\n        if (!_isVisible) {\n            resolve();\n            return;\n        }\n        const defaultStyle = el.getAttribute('style') || '';\n        const style = window.getComputedStyle(el);\n        const isBorderBox = /border-box/.test(style.getPropertyValue('box-sizing'));\n        const minHeight = pxToNumber(style.getPropertyValue('min-height'));\n        const paddingTop = pxToNumber(style.getPropertyValue('padding-top'));\n        const paddingBottom = pxToNumber(style.getPropertyValue('padding-bottom'));\n        const borderTop = pxToNumber(style.getPropertyValue('border-top-width'));\n        const borderBottom = pxToNumber(style.getPropertyValue('border-bottom-width'));\n        const contentHeight = el.scrollHeight;\n        const cssDuration = duration + 'ms';\n        const cssEasing = CSS_EASEOUT_EXPO;\n        const cssTransition = [\n            `height ${cssDuration} ${cssEasing}`,\n            `padding ${cssDuration} ${cssEasing}`,\n            `border-width ${cssDuration} ${cssEasing}`\n        ].join();\n        const startHeight = !isBorderBox ?\n            `${contentHeight - paddingTop - paddingBottom}px` :\n            `${contentHeight + borderTop + borderBottom}px`;\n        const startMinHeight = `${minHeight}px`;\n        const startPaddingTop = `${paddingTop}px`;\n        const startPaddingBottom = `${paddingBottom}px`;\n        const startBorderTopWidth = `${borderTop}px`;\n        const startBorderBottomWidth = `${borderBottom}px`;\n        requestAnimationFrame(() => {\n            el.style.height = startHeight;\n            el.style.minHeight = startMinHeight;\n            el.style.paddingTop = startPaddingTop;\n            el.style.paddingBottom = startPaddingBottom;\n            el.style.borderTopWidth = startBorderTopWidth;\n            el.style.borderBottomWidth = startBorderBottomWidth;\n            el.style.display = display;\n            el.style.overflow = 'hidden';\n            el.style.transition = cssTransition;\n            el.style.webkitTransition = cssTransition;\n            requestAnimationFrame(() => {\n                el.style.height = '0';\n                el.style.minHeight = '0';\n                el.style.paddingTop = '0';\n                el.style.paddingBottom = '0';\n                el.style.borderTopWidth = '0';\n                el.style.borderBottomWidth = '0';\n            });\n        });\n        const timeoutId = setTimeout(() => {\n            resetStyle(el);\n            el.style.display = 'none';\n            inAnimItems.remove(el);\n            resolve();\n        }, duration);\n        inAnimItems.add(el, defaultStyle, timeoutId, onCancelled);\n    });\n}\nfunction slideStop(el) {\n    const elementObject = inAnimItems.find(el);\n    if (!elementObject)\n        return;\n    const style = window.getComputedStyle(el);\n    const height = style.height;\n    const paddingTop = style.paddingTop;\n    const paddingBottom = style.paddingBottom;\n    const borderTopWidth = style.borderTopWidth;\n    const borderBottomWidth = style.borderBottomWidth;\n    resetStyle(el);\n    el.style.height = height;\n    el.style.paddingTop = paddingTop;\n    el.style.paddingBottom = paddingBottom;\n    el.style.borderTopWidth = borderTopWidth;\n    el.style.borderBottomWidth = borderBottomWidth;\n    el.style.overflow = 'hidden';\n    inAnimItems.remove(el);\n}\nfunction isVisible(el) {\n    return el.offsetHeight !== 0;\n}\nfunction resetStyle(el) {\n    el.style.visibility = '';\n    el.style.height = '';\n    el.style.minHeight = '';\n    el.style.paddingTop = '';\n    el.style.paddingBottom = '';\n    el.style.borderTopWidth = '';\n    el.style.borderBottomWidth = '';\n    el.style.overflow = '';\n    el.style.transition = '';\n    el.style.webkitTransition = '';\n}\nfunction getDefaultStyles(el, defaultDisplay = 'block') {\n    const defaultStyle = el.getAttribute('style') || '';\n    const style = window.getComputedStyle(el);\n    el.style.visibility = 'hidden';\n    el.style.display = defaultDisplay;\n    const width = pxToNumber(style.getPropertyValue('width'));\n    el.style.position = 'absolute';\n    el.style.width = `${width}px`;\n    el.style.height = '';\n    el.style.minHeight = '';\n    el.style.paddingTop = '';\n    el.style.paddingBottom = '';\n    el.style.borderTopWidth = '';\n    el.style.borderBottomWidth = '';\n    const minHeight = pxToNumber(style.getPropertyValue('min-height'));\n    const paddingTop = pxToNumber(style.getPropertyValue('padding-top'));\n    const paddingBottom = pxToNumber(style.getPropertyValue('padding-bottom'));\n    const borderTop = pxToNumber(style.getPropertyValue('border-top-width'));\n    const borderBottom = pxToNumber(style.getPropertyValue('border-bottom-width'));\n    const height = el.scrollHeight;\n    el.setAttribute('style', defaultStyle);\n    return {\n        height,\n        minHeight,\n        paddingTop,\n        paddingBottom,\n        borderTop,\n        borderBottom\n    };\n}\nfunction pxToNumber(px) {\n    return +px.replace(/px/, '');\n}\n\nexport { isVisible, slideDown, slideStop, slideUp };\n","import { listen, qsa, qs, add } from '@fluorescent/dom';\nimport { slideDown, slideUp, slideStop, isVisible } from 'slide-anim';\n\nfunction accordion(node, options) {\n  const labels = qsa('.accordion__label', node);\n  const text = qsa('.accordion__text', node);\n\n  // Make it accessible by keyboard\n  labels.forEach(label => {\n    label.href = '#';\n\n    const existingIcon = qs('.icon', label);\n\n    if (!existingIcon) {\n      const icon = document.createElement('div');\n      icon.classList.add('icon', 'icon-accordion');\n      icon.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" viewBox=\"0 0 24 24\"><path d=\"M7 10L12 15L17 10H7Z\" fill=\"currentColor\"/></svg>`;\n\n      label.append(icon);\n    }\n  });\n\n  text.forEach(t => add(t, 'measure'));\n\n  const labelClick = listen(labels, 'click', e => {\n    e.preventDefault();\n    const label = e.currentTarget;\n    const { parentNode: group, nextElementSibling: content } = label;\n\n    slideStop(content);\n\n    if (isVisible(content)) {\n      _close(label, group, content);\n    } else {\n      _open(label, group, content);\n    }\n  });\n\n  function _open(label, group, content) {\n    slideDown(content);\n    group.setAttribute('data-open', true);\n    label.setAttribute('aria-expanded', true);\n    content.setAttribute('aria-hidden', false);\n  }\n\n  function _close(label, group, content) {\n    slideUp(content);\n    group.setAttribute('data-open', false);\n    label.setAttribute('aria-expanded', false);\n    content.setAttribute('aria-hidden', true);\n  }\n\n  if (options.firstOpen) {\n    // Open first accordion label\n    const { parentNode: group, nextElementSibling: content } = labels[0];\n    _open(labels[0], group, content);\n  }\n\n  function destroy() {\n    return () => labelClick();\n  }\n\n  return { destroy };\n}\n\nexport default function Accordions(elements, options = {}) {\n  if (Array.isArray(elements) && !elements.length) return;\n\n  const defaultOptions = {\n    firstOpen: true,\n  };\n\n  const opts = Object.assign(defaultOptions, options);\n\n  let accordions = [];\n\n  if (elements.length) {\n    accordions = elements.map(node => accordion(node, opts));\n  } else {\n    accordions.push(accordion(elements, opts));\n  }\n\n  function unload() {\n    accordions.forEach(accordion => accordion.destroy());\n  }\n\n  return { unload };\n}\n","import { createFocusTrap } from 'focus-trap';\nimport { add, listen, qs, qsa, remove, toggle } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport { on } from '@/glow/events';\nimport accordions from '@/lib/accordions';\n\nconst classes = {\n  visible: 'is-visible',\n  active: 'active',\n  fixed: 'is-fixed',\n};\n\nconst selectors = {\n  closeBtn: '[data-modal-close]',\n  wash: '.modal__wash',\n  modalContent: '.modal__content',\n  accordion: '.accordion',\n};\n\nconst modal = node => {\n  const focusTrap = createFocusTrap(node, { allowOutsideClick: true });\n  const wash = qs(selectors.wash, node.parentNode);\n  const modalContent = qs(selectors.modalContent, node);\n  let accordion = null;\n\n  const events = [\n    listen([qs(selectors.closeBtn, node), wash], 'click', e => {\n      e.preventDefault();\n      _close();\n    }),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n    on('modal:open', (state, { modalContent, narrow = false }) => {\n      toggle(node, 'modal--narrow', narrow);\n      _renderModalContent(modalContent);\n      _open();\n    }),\n  ];\n\n  const _renderModalContent = content => {\n    const clonedContent = content.cloneNode(true);\n    modalContent.innerHTML = '';\n    modalContent.appendChild(clonedContent);\n\n    _initAccordion();\n  };\n\n  const _initAccordion = () => {\n    accordion = accordions(qsa('.accordion', node));\n  };\n\n  const _open = () => {\n    // Due to this component being shared between templates we have to\n    // animate around it being fixed to the window\n    add(node, classes.fixed);\n\n    setTimeout(() => {\n      add(node, classes.visible);\n      add(node, classes.active);\n    }, 50);\n\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  };\n\n  const _close = () => {\n    focusTrap.deactivate();\n    remove(node, classes.visible);\n    remove(node, classes.active);\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      remove(node, classes.fixed);\n      modalContent.innerHTML = '';\n    }, 300);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n    accordion.unload();\n  };\n\n  return { unload };\n};\n\nexport default modal;\n","function t(){try{return localStorage.setItem(\"test\",\"test\"),localStorage.removeItem(\"test\"),!0}catch(t){return!1}}function e(e){if(t())return JSON.parse(localStorage.getItem(\"neon_\"+e))}function r(e,r){if(t())return localStorage.setItem(\"neon_\"+e,r)}export{e as get,r as set};\n","const dispatchCustomEvent = (eventName, data = {}) => {\n  const detail = { detail: data };\n  const event = new CustomEvent(eventName, data ? detail : null);\n\n  document.dispatchEvent(event);\n};\n\nexport default dispatchCustomEvent;\n","import { get as getStorage, set as setStorage } from '@fluorescent/storage';\nimport { emit } from 'evx';\n\nimport dispatchCustomEvent from '@/lib/dispatch-custom-event';\n\nconst routes = window.theme.routes.cart || {};\n\nconst paths = {\n  base: `${routes.base || '/cart'}.js`,\n  add: `${routes.add || '/cart/add'}.js`,\n  change: `${routes.change || '/cart/change'}.js`,\n  clear: `${routes.clear || '/cart/clear'}.js`,\n};\n\n// Add a `sorted` key that orders line items\n// in the order the customer added them if possible\nfunction sortCart(cart) {\n  const order = getStorage('cart_order') || [];\n\n  if (order.length) {\n    cart.sorted = [...cart.items].sort(\n      (a, b) => order.indexOf(a.variant_id) - order.indexOf(b.variant_id)\n    );\n    return cart;\n  }\n\n  cart.sorted = cart.items;\n  return cart;\n}\n\nfunction addVariant(variant, quantity) {\n  const numAvailable =\n    variant.inventory_policy === 'deny' &&\n    variant.inventory_management === 'shopify'\n      ? variant.inventory_quantity\n      : null; // null means they can add as many as they want\n\n  return get().then(({ items }) => {\n    const existing = items.filter(item => item.id === variant.id)[0] || {};\n    const numRequested = (existing.quantity || 0) + quantity;\n\n    if (numAvailable !== null && numRequested > numAvailable) {\n      const err = `There are only ${numAvailable} of that product available, requested ${numRequested}.`;\n      throw new Error(err);\n    } else {\n      return addItemById(variant.id, quantity);\n    }\n  });\n}\n\nexport function updateItem(id, quantity) {\n  return get().then(({ items }) => {\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].variant_id === parseInt(id)) {\n        return changeItem(i + 1, quantity); // shopify cart is a 1-based index\n      }\n    }\n  });\n}\n\nfunction changeItem(line, quantity) {\n  return fetch(paths.change, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ line, quantity }),\n  })\n    .then(res => res.json())\n    .then(cart => {\n      emit('cart:updated', { cart: sortCart(cart) });\n      return sortCart(cart);\n    });\n}\n\nfunction addItemById(id, quantity) {\n  emit('cart:updating');\n\n  return fetch(paths.add, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ id, quantity }),\n  })\n    .then(r => r.json())\n    .then(item => {\n      return get().then(cart => {\n        const order = getStorage('cart_order') || [];\n        const newOrder = [\n          item.variant_id,\n          ...order.filter(i => i !== item.variant_id),\n        ];\n        setStorage('cart_order', JSON.stringify(newOrder));\n\n        emit('cart:updated', { cart: sortCart(cart) });\n        return { item, cart: sortCart(cart) };\n      });\n    });\n}\n\nfunction get() {\n  return fetch(paths.base, {\n    method: 'GET',\n    credentials: 'include',\n  })\n    .then(res => res.json())\n    .then(data => {\n      return sortCart(data);\n    });\n}\n\nfunction addItem(form) {\n  emit('cart:updating');\n\n  return fetch(paths.add, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'X-Requested-With': 'XMLHttpRequest',\n    },\n    body: serialize(form),\n  })\n    .then(r => r.json())\n    .then(res => {\n      if (res.status == '422') {\n        const errorMessage = { code: 422, message: res.description };\n        dispatchCustomEvent('cart:error', { errorMessage: res.description });\n        throw errorMessage;\n      }\n\n      return get().then(cart => {\n        const order = getStorage('cart_order') || [];\n        const newOrder = [\n          res.variant_id,\n          ...order.filter(i => i !== res.variant_id),\n        ];\n        setStorage('cart_order', JSON.stringify(newOrder));\n\n        emit('cart:updated', { cart: sortCart(cart) });\n        dispatchCustomEvent('cart:updated', { cart: sortCart(cart) });\n        return { item: res, cart: sortCart(cart) };\n      });\n    });\n}\n\n// !\n//  Serialize all form data into a SearchParams string\n//  (c) 2020 Chris Ferdinandi, MIT License, https://gomakethings.com\n//  @param  {Node}   form The form to serialize\n//  @return {String}      The serialized form data\n//\nfunction serialize(form) {\n  var arr = [];\n  Array.prototype.slice.call(form.elements).forEach(function (field) {\n    if (\n      !field.name ||\n      field.disabled ||\n      ['file', 'reset', 'submit', 'button'].indexOf(field.type) > -1\n    ) {\n      return;\n    }\n    if (field.type === 'select-multiple') {\n      Array.prototype.slice.call(field.options).forEach(function (option) {\n        if (!option.selected) return;\n        arr.push(\n          encodeURIComponent(field.name) +\n            '=' +\n            encodeURIComponent(option.value)\n        );\n      });\n      return;\n    }\n    if (['checkbox', 'radio'].indexOf(field.type) > -1 && !field.checked) {\n      return;\n    }\n    arr.push(\n      encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)\n    );\n  });\n  return arr.join('&');\n}\n\nexport default { addItem, addItemById, addVariant, get, updateItem };\n","import { formatMoney } from '@shopify/theme-currency';\n\nexport default val =>\n  formatMoney(val, window.theme.moneyFormat || '${{amount}}');\n","/**\n * Currency Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help with currency formatting\n *\n * Current contents\n * - formatMoney - Takes an amount in cents and returns it as a formatted dollar value.\n *\n */\n\nconst moneyFormat = '${{amount}}';\n\n/**\n * Format money values based on your shop currency settings\n * @param  {Number|string} cents - value in cents or dollar amount e.g. 300 cents\n * or 3.00 dollars\n * @param  {String} format - shop money_format setting\n * @return {String} value - formatted value\n */\nexport function formatMoney(cents, format) {\n  if (typeof cents === 'string') {\n    cents = cents.replace('.', '');\n  }\n  let value = '';\n  const placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/;\n  const formatString = format || moneyFormat;\n\n  function formatWithDelimiters(\n    number,\n    precision = 2,\n    thousands = ',',\n    decimal = '.'\n  ) {\n    if (isNaN(number) || number == null) {\n      return 0;\n    }\n\n    number = (number / 100.0).toFixed(precision);\n\n    const parts = number.split('.');\n    const dollarsAmount = parts[0].replace(\n      /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\n      `$1${thousands}`\n    );\n    const centsAmount = parts[1] ? decimal + parts[1] : '';\n\n    return dollarsAmount + centsAmount;\n  }\n\n  switch (formatString.match(placeholderRegex)[1]) {\n    case 'amount':\n      value = formatWithDelimiters(cents, 2);\n      break;\n    case 'amount_no_decimals':\n      value = formatWithDelimiters(cents, 0);\n      break;\n    case 'amount_with_comma_separator':\n      value = formatWithDelimiters(cents, 2, '.', ',');\n      break;\n    case 'amount_no_decimals_with_comma_separator':\n      value = formatWithDelimiters(cents, 0, '.', ',');\n      break;\n  }\n\n  return formatString.replace(placeholderRegex, value);\n}\n","// Fetch the product data from the .js endpoint because it includes\n// more data than the .json endpoint.\n\nexport default handle => cb =>\n  fetch(`${window.theme.routes.products}/${handle}.js`)\n    .then(res => res.json())\n    .then(data => cb(data))\n    .catch(err => console.log(err.message));\n","/**\n * Image Helper Functions\n * -----------------------------------------------------------------------------\n * A collection of functions that help with basic image operations.\n *\n */\n\n/**\n * Preloads an image in memory and uses the browsers cache to store it until needed.\n *\n * @param {Array} images - A list of image urls\n * @param {String} size - A shopify image size attribute\n */\nexport function preload(images, size) {\n  if (typeof images === \"string\") {\n    images = [images];\n  }\n\n  for (var i = 0; i < images.length; i++) {\n    var image = images[i];\n    loadImage(getSizedImageUrl(image, size));\n  }\n}\n\n/**\n * Loads and caches an image in the browsers cache.\n * @param {string} path - An image url\n */\nexport function loadImage(path) {\n  /* eslint-disable */\n  new Image().src = path;\n  /* eslint-enable */\n}\n\n/**\n * Find the Shopify image attribute size\n *\n * @param {string} src\n * @returns {null}\n */\nexport function imageSize(src) {\n  /* eslint-disable */\n  var match = src.match(\n    /.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\\d{1,4}x\\d{0,4}|x\\d{1,4})[_\\.@]/\n  );\n  /* esling-enable */\n\n  if (match) {\n    return match[1];\n  } else {\n    return null;\n  }\n}\n\n/**\n * Adds a Shopify size attribute to a URL\n *\n * @param src\n * @param size\n * @returns {*}\n */\nexport function getSizedImageUrl(src, size) {\n  if (size === null) {\n    return src;\n  }\n\n  if (size === \"master\") {\n    return removeProtocol(src);\n  }\n\n  var match = src.match(\n    /\\.(jpg\\.webp|jpeg\\.webp|jpg|jpeg|gif|png|bmp|bitmap|tiff|tif|webp)(\\?v=\\d+)?$/i\n  );\n\n  if (match) {\n    var prefix = src.split(match[0]);\n    var suffix = match[0];\n\n    return removeProtocol(prefix[0] + \"_\" + size + suffix);\n  } else {\n    return null;\n  }\n}\n\nexport function removeProtocol(path) {\n  return path.replace(/http(s)?:/, \"\");\n}\n\nexport function onImagesLoaded(container, event) {\n  const images = container.getElementsByTagName(\"img\");\n  const imageCount = images.length;\n  let imagesLoaded = 0;\n\n  for (let i = 0; i < imageCount; i++) {\n    images[i].onload = function () {\n      imagesLoaded++;\n\n      if (imagesLoaded === imageCount) {\n        event();\n      }\n    };\n  }\n}\n","import { qsa, toggle } from '@fluorescent/dom';\nimport { formatMoney } from '@/glow';\n\nconst {\n  strings: { products: strings },\n} = window.theme;\n\nconst selectors = {\n  unitPriceContainer: '[data-unit-price-container]',\n  unitPrice: '[data-unit-price]',\n  unitPriceBase: '[data-unit-base]',\n};\n\nconst classes = {\n  available: 'unit-price--available',\n};\n\nconst updateUnitPrices = (container, variant) => {\n  const unitPriceContainers = qsa(selectors.unitPriceContainer, container);\n  const unitPrices = qsa(selectors.unitPrice, container);\n  const unitPriceBases = qsa(selectors.unitPriceBase, container);\n\n  const showUnitPricing = !variant || !variant.unit_price;\n\n  toggle(unitPriceContainers, classes.available, !showUnitPricing);\n\n  if (!variant || !variant.unit_price) return;\n\n  _replaceText(unitPrices, formatMoney(variant.unit_price));\n  _replaceText(unitPriceBases, _getBaseUnit(variant.unit_price_measurement));\n};\n\nconst renderUnitPrice = (unitPrice, unitPriceMeasurement) => {\n  if (unitPrice && unitPriceMeasurement) {\n    const label = strings.product.unitPrice;\n    return `\n      <div class=\"unit-price ${classes.available}\">\n        <dt>\n          <span class=\"visually-hidden visually-hidden--inline\">${label}</span>\n        </dt>\n        <dd class=\"unit-price__price\">\n          <span data-unit-price>${formatMoney(\n            unitPrice\n          )}</span><span aria-hidden=\"true\">/</span><span class=\"visually-hidden\">${\n      strings.product.unitPriceSeparator\n    }&nbsp;</span><span data-unit-base>${_getBaseUnit(\n      unitPriceMeasurement\n    )}</span>\n        </dd>\n      </div>\n    `;\n  }\n\n  return '';\n};\n\nconst _getBaseUnit = unitPriceMeasurement => {\n  return unitPriceMeasurement.reference_value === 1\n    ? unitPriceMeasurement.reference_unit\n    : unitPriceMeasurement.reference_value +\n        unitPriceMeasurement.reference_unit;\n};\n\nconst _replaceText = (nodeList, replacementText) => {\n  nodeList.forEach(node => (node.innerText = replacementText));\n};\n\nexport { updateUnitPrices, renderUnitPrice };\n","import { createFocusTrap } from 'focus-trap';\nimport { add, listen, qs, remove } from '@fluorescent/dom';\nimport { formatMoney } from '@/glow';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport { on } from '@/glow/events';\nimport { getSizedImageUrl, imageSize } from '@/lib/images';\nimport { renderUnitPrice } from '@/lib/unit-pricing';\n\nconst classes = {\n  visible: 'is-visible',\n  active: 'active',\n  fixed: 'is-fixed',\n};\n\nconst selectors = {\n  closeBtn: '[data-store-availability-close]',\n  productTitle: '[data-store-availability-product-title]',\n  variantTitle: '[data-store-availability-variant-title]',\n  productCard: '[data-store-availability-product]',\n  storeListcontainer: '[data-store-list-container]',\n  wash: '[data-store-availability-drawer-wash]',\n};\n\nconst storeAvailabilityDrawer = node => {\n  var focusTrap = createFocusTrap(node, { allowOutsideClick: true });\n  const wash = qs(selectors.wash, node.parentNode);\n  const productCard = qs(selectors.productCard, node);\n  const storeListContainer = qs(selectors.storeListcontainer, node);\n\n  const events = [\n    listen([qs(selectors.closeBtn, node), wash], 'click', e => {\n      e.preventDefault();\n      _close();\n    }),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n    on('availability:showMore', ({ product, variant, storeList, options }) => {\n      productCard.innerHTML = _renderProductCard(product, variant, options);\n      _renderAvailabilityList(storeList);\n      _open();\n    }),\n  ];\n\n  const _renderAvailabilityList = storeList => {\n    storeListContainer.innerHTML = '';\n    storeListContainer.appendChild(storeList);\n  };\n\n  const _renderProductCard = (\n    { featured_image: image, title },\n    {\n      title: variant_title,\n      featured_image,\n      price,\n      unit_price,\n      unit_price_measurement,\n    },\n    { hideVariantTitle }\n  ) => {\n    let productImage = _getVariantImage(image, featured_image);\n\n    return `\n      <div class=\"store-availbility-drawer__product-card\">\n        ${\n          productImage\n            ? `\n            <div class='store-availbility-drawer__product-card-image'>\n              <img src='${productImage}' alt='${title}'/>\n            </div>\n          `\n            : ''\n        }\n        <div class='store-availbility-drawer__product-card-details'>\n          <div>\n            <h4 class=\"fs-body-bold\">\n              <span>${title}</span>\n            </h4>\n            <div class=\"store-availbility-drawer__product-price-wrapper\">\n              <span class=\"store-availbility-drawer__product-price\">${formatMoney(\n                price\n              )}</span>\n              ${renderUnitPrice(unit_price, unit_price_measurement)}\n            </div>\n            <div class=\"store-availbility-drawer__product-card-variant${\n              hideVariantTitle ? ' hidden' : ''\n            }\">\n              ${variant_title}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  };\n\n  const _getVariantImage = (productImage, variantImage) => {\n    if (!productImage && !variantImage) return '';\n\n    if (variantImage) {\n      return _updateImageSize(variantImage.src);\n    }\n\n    return _updateImageSize(productImage);\n  };\n\n  const _updateImageSize = imageUrl => {\n    return getSizedImageUrl(\n      imageUrl.replace('.' + imageSize(imageUrl), ''),\n      '200x'\n    );\n  };\n\n  const _open = () => {\n    // Due to this component being shared between templates we have to\n    // animate around it being fixed to the window\n    add(node, classes.fixed);\n\n    setTimeout(() => {\n      add(node, classes.visible);\n      add(node, classes.active);\n    }, 50);\n\n    node.setAttribute('aria-hidden', 'false');\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  };\n\n  const _close = () => {\n    focusTrap.deactivate();\n    remove(node, classes.active);\n    remove(node, classes.visible);\n    node.setAttribute('aria-hidden', 'true');\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      remove(node, classes.fixed);\n    }, 300);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n};\n\nexport default storeAvailabilityDrawer;\n","import { qs, listen } from '@fluorescent/dom';\n\nconst {\n  strings: { accessibility: strings },\n} = window.theme;\n\nconst handleTab = () => {\n  let tabHandler = null;\n  const formElments = ['INPUT', 'TEXTAREA', 'SELECT'];\n  // Determine if the user is a mouse or keyboard user\n  function handleFirstTab(e) {\n    if (\n      e.keyCode === 9 &&\n      !formElments.includes(document.activeElement.tagName)\n    ) {\n      document.body.classList.add('user-is-tabbing');\n\n      tabHandler();\n      tabHandler = listen(window, 'mousedown', handleMouseDownOnce);\n    }\n  }\n\n  function handleMouseDownOnce() {\n    document.body.classList.remove('user-is-tabbing');\n\n    tabHandler();\n    tabHandler = listen(window, 'keydown', handleFirstTab);\n  }\n\n  tabHandler = listen(window, 'keydown', handleFirstTab);\n};\n\nconst focusFormStatus = node => {\n  const formStatus = qs('.form-status', node);\n\n  if (!formStatus) return;\n\n  const focusElement = qs('[data-form-status]', formStatus);\n\n  focusElement.focus();\n};\n\nconst prefersReducedMotion = () => {\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n};\n\nfunction backgroundVideoHandler(container) {\n  const pause = qs('.video-pause', container);\n  const video = container.getElementsByTagName('VIDEO')[0];\n\n  if (!pause || !video) return;\n\n  const pauseListener = listen(pause, 'click', e => {\n    e.preventDefault();\n\n    if (video.paused) {\n      video.play();\n      pause.innerText = strings.pause_video;\n    } else {\n      video.pause();\n      pause.innerText = strings.play_video;\n    }\n  });\n\n  return () => pauseListener();\n}\n\nexport {\n  handleTab,\n  focusFormStatus,\n  prefersReducedMotion,\n  backgroundVideoHandler,\n};\n","import { add, qsa, listen } from '@fluorescent/dom';\n\nconst classes = {\n  contrast: 'section--contrast',\n  parentContrast: 'shopify-section--contrast',\n  parentContrastBeforeFooter: 'shoping-section--contrast-before-footer',\n  logoList: 'logo-list',\n  parentLogoList: 'shopify-section--logo-list',\n  hidden: 'hidden',\n};\n\nexport default () => {\n  function adjustClasses() {\n    const sections = qsa('.main .shopify-section');\n    sections.forEach((section, index) => {\n      const { firstElementChild: child } = section;\n\n      // Add contrast class to all parents of contrast sections\n      if (child && child.classList.contains(classes.contrast)) {\n        add(section, classes.parentContrast);\n\n        // Add spacing class if last section is a contrast section\n        if (index === sections.length - 1) {\n          add(section, classes.parentContrastBeforeFooter);\n        }\n      }\n\n      // Add logo list class to all parents of logo lists\n      if (child && child.classList.contains(classes.logoList)) {\n        add(section, classes.parentLogoList);\n      }\n\n      // Specific to recommended hidden products\n      if (child && child.classList.contains(classes.hidden)) {\n        add(section, classes.hidden);\n      }\n    });\n  }\n\n  adjustClasses();\n  listen(document, 'shopify:section:load', adjustClasses);\n};\n","import Delegate from 'ftdomdelegate';\nimport { add, remove, qs } from '@fluorescent/dom';\nimport { emit } from '@/glow/events';\nimport { cart } from '@/glow';\n\nimport { makeRequest } from '@/lib/xhr';\n\nconst selectors = {\n  quickAddButton: '[data-quick-add]',\n  quantityButton: '[data-quick-add-quantity]',\n  quantityInput: '[data-quantity-input]',\n};\n\nconst classes = {\n  loading: 'loading',\n  itemAdded: 'item-added',\n};\n\nexport default function () {\n  let productContent;\n  const delegate = new Delegate(document.body);\n  delegate.on('click', `button${selectors.quickAddButton}`, _handleClick);\n  delegate.on(\n    'click',\n    `button${selectors.quantityButton}`,\n    _handleQuantityClick\n  );\n\n  function _handleClick(e, target) {\n    const {\n      quickAdd: handle,\n      productId,\n      openModal,\n      openQuickCart,\n    } = target.dataset;\n    const quantityEl = qs(selectors.quantityInput, e.target.parentNode);\n    const quantity = quantityEl ? quantityEl.value : 1;\n\n    // Open the modal with variant information and a product form\n    if (openModal) {\n      _openModal({ handle, openQuickCart, quantity });\n    } else {\n      // Or add directly to cart\n      _addToCart({ productId, target: e.target, openQuickCart, quantity });\n    }\n  }\n\n  function _openModal({ handle, openQuickCart, quantity }) {\n    const requestUrl = `${window.theme.routes.products}/${encodeURIComponent(\n      handle\n    )}?section_id=quick-add-product`;\n\n    makeRequest('GET', requestUrl)\n      .then(response => {\n        productContent = response;\n      })\n      .then(() => {\n        emit('quick-add:open', null, {\n          productContent,\n          openQuickCart,\n          quantity,\n        });\n      });\n  }\n\n  function _addToCart({ productId, target, openQuickCart, quantity }) {\n    add(target, classes.loading);\n\n    cart.addItemById(productId, quantity).then(() => {\n      if (openQuickCart) {\n        emit('cart:open', null, { flash: productId });\n        remove(target, classes.loading);\n        add(target, classes.itemAdded);\n      } else {\n        remove(target, classes.loading);\n        add(target, classes.itemAdded);\n      }\n    });\n  }\n\n  function _handleQuantityClick(_, target) {\n    const { change } = target.dataset;\n    const quantityInput = qs(selectors.quantityInput, target.parentNode);\n    const quantity = parseInt(quantityInput.value, 10);\n\n    if (change === 'increment') {\n      quantityInput.value = quantity + 1;\n    } else {\n      quantityInput.value = quantity > 1 ? (quantityInput.value -= 1) : 1;\n    }\n  }\n}\n","/**\n * Returns a product JSON object when passed a product URL\n * @param {*} url\n */\nexport function getProductJson(handle) {\n  return fetch('/products/' + handle + '.js').then(function(response) {\n    return response.json();\n  });\n}\n\n/**\n * Find a match in the project JSON (using a ID number) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Number} value Accepts Number (e.g. 6908023078973)\n * @returns {Object} The variant object once a match has been successful. Otherwise null will be return\n */\nexport function getVariantFromId(product, value) {\n  _validateProductStructure(product);\n\n  if (typeof value !== 'number') {\n    throw new TypeError(value + ' is not a Number.');\n  }\n\n  var result = product.variants.filter(function(variant) {\n    return variant.id === value;\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Convert the Object (with 'name' and 'value' keys) into an Array of values, then find a match & return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Object} collection Object with 'name' and 'value' keys (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromSerializedArray(product, collection) {\n  _validateProductStructure(product);\n\n  // If value is an array of options\n  var optionArray = _createOptionArrayFromOptionCollection(product, collection);\n  return getVariantFromOptionArray(product, optionArray);\n}\n\n/**\n * Find a match in the project JSON (using Array with option values) and return the variant (as an Object)\n * @param {Object} product Product JSON object\n * @param {Array} options List of submitted values (e.g. ['36', 'Black'])\n * @returns {Object || null} The variant object once a match has been successful. Otherwise null will be returned\n */\nexport function getVariantFromOptionArray(product, options) {\n  _validateProductStructure(product);\n  _validateOptionsArray(options);\n\n  var result = product.variants.filter(function(variant) {\n    return options.every(function(option, index) {\n      return variant.options[index] === option;\n    });\n  });\n\n  return result[0] || null;\n}\n\n/**\n * Creates an array of selected options from the object\n * Loops through the project.options and check if the \"option name\" exist (product.options.name) and matches the target\n * @param {Object} product Product JSON object\n * @param {Array} collection Array of object (e.g. [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }])\n * @returns {Array} The result of the matched values. (e.g. ['36', 'Black'])\n */\nfunction _createOptionArrayFromOptionCollection(product, collection) {\n  _validateProductStructure(product);\n  _validateSerializedArray(collection);\n\n  var optionArray = [];\n\n  collection.forEach(function(option) {\n    for (var i = 0; i < product.options.length; i++) {\n      if (product.options[i].name.toLowerCase() === option.name.toLowerCase()) {\n        optionArray[i] = option.value;\n        break;\n      }\n    }\n  });\n\n  return optionArray;\n}\n\n/**\n * Check if the product data is a valid JS object\n * Error will be thrown if type is invalid\n * @param {object} product Product JSON object\n */\nfunction _validateProductStructure(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (Object.keys(product).length === 0 && product.constructor === Object) {\n    throw new Error(product + ' is empty.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted like jQuery's serializeArray()\n * @param {Array} collection Array of object [{ name: \"Size\", value: \"36\" }, { name: \"Color\", value: \"Black\" }]\n */\nfunction _validateSerializedArray(collection) {\n  if (!Array.isArray(collection)) {\n    throw new TypeError(collection + ' is not an array.');\n  }\n\n  if (collection.length === 0) {\n    return [];\n  }\n\n  if (collection[0].hasOwnProperty('name')) {\n    if (typeof collection[0].name !== 'string') {\n      throw new TypeError(\n        'Invalid value type passed for name of option ' +\n          collection[0].name +\n          '. Value should be string.'\n      );\n    }\n  } else {\n    throw new Error(collection[0] + 'does not contain name key.');\n  }\n}\n\n/**\n * Validate the structure of the array\n * It must be formatted as list of values\n * @param {Array} collection Array of object (e.g. ['36', 'Black'])\n */\nfunction _validateOptionsArray(options) {\n  if (Array.isArray(options) && typeof options[0] === 'object') {\n    throw new Error(options + 'is not a valid array of options.');\n  }\n}\n","import { listen } from '@fluorescent/dom';\nimport { getVariantFromSerializedArray } from '@shopify/theme-product';\n\nconst selectors = {\n  idInput: '[name=\"id\"]',\n  optionInput: '[name^=\"options\"]',\n  quantityInput: '[data-quantity-input]',\n  formQuantity: '[name=\"quantity\"]',\n  propertyInput: '[name^=\"properties\"]',\n};\n\nexport default function ProductForm(container, form, prod, config = {}) {\n  const product = validateProductObject(prod);\n  const listeners = [];\n\n  const getOptions = () => {\n    return _serializeOptionValues(optionInputs, function (item) {\n      var regex = /(?:^(options\\[))(.*?)(?:\\])/;\n      item.name = regex.exec(item.name)[2]; // Use just the value between 'options[' and ']'\n      return item;\n    });\n  };\n\n  const getVariant = () => {\n    return getVariantFromSerializedArray(product, getOptions());\n  };\n\n  const getProperties = () => {\n    const properties = _serializePropertyValues(\n      propertyInputs,\n      function (propertyName) {\n        var regex = /(?:^(properties\\[))(.*?)(?:\\])/;\n        var name = regex.exec(propertyName)[2]; // Use just the value between 'properties[' and ']'\n        return name;\n      }\n    );\n\n    return Object.entries(properties).length === 0 ? null : properties;\n  };\n\n  const getQuantity = () => {\n    return formQuantityInput[0]\n      ? Number.parseInt(formQuantityInput[0].value, 10)\n      : 1;\n  };\n\n  const getProductFormEventData = () => ({\n    options: getOptions(),\n    variant: getVariant(),\n    properties: getProperties(),\n    quantity: getQuantity(),\n  });\n\n  const onFormEvent = cb => {\n    if (typeof cb === 'undefined') return;\n\n    return event => {\n      event.dataset = getProductFormEventData();\n      cb(event);\n    };\n  };\n\n  const setIdInputValue = value => {\n    let idInputElement = form.querySelector(selectors.idInput);\n\n    if (!idInputElement) {\n      idInputElement = document.createElement('input');\n      idInputElement.type = 'hidden';\n      idInputElement.name = 'id';\n      form.appendChild(idInputElement);\n    }\n\n    idInputElement.value = value.toString();\n  };\n\n  const onSubmit = event => {\n    event.dataset = getProductFormEventData();\n    setIdInputValue(event.dataset.variant.id);\n\n    if (config.onFormSubmit) {\n      config.onFormSubmit(event);\n    }\n  };\n\n  const initInputs = (selector, cb) => {\n    const elements = [...container.querySelectorAll(selector)];\n\n    return elements.map(element => {\n      listeners.push(listen(element, 'change', onFormEvent(cb)));\n      return element;\n    });\n  };\n\n  listeners.push(listen(form, 'submit', onSubmit));\n  const optionInputs = initInputs(selectors.optionInput, config.onOptionChange);\n\n  const formQuantityInput = initInputs(\n    selectors.quantityInput,\n    config.onQuantityChange\n  );\n  const propertyInputs = initInputs(\n    selectors.propertyInput,\n    config.onPropertyChange\n  );\n\n  const destroy = () => {\n    listeners.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { getVariant, destroy };\n}\n\nfunction validateProductObject(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (typeof product.variants[0].options === 'undefined') {\n    throw new TypeError(\n      'Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route'\n    );\n  }\n\n  return product;\n}\n\nfunction _serializeOptionValues(inputs, transform) {\n  return inputs.reduce(function (options, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      options.push(transform({ name: input.name, value: input.value }));\n    }\n\n    return options;\n  }, []);\n}\n\nfunction _serializePropertyValues(inputs, transform) {\n  return inputs.reduce(function (properties, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      properties[transform(input.name)] = input.value;\n    }\n\n    return properties;\n  }, {});\n}\n","import { qs, listen } from \"@fluorescent/dom\";\r\n\r\nexport default function (container) {\r\n  const quantityWrapper = qs(\".product__quantity\", container);\r\n  if (!quantityWrapper) return;\r\n  const quantityInput = qs(\"[data-quantity-input]\", quantityWrapper);\r\n  const addQuantity = qs(\"[data-add-quantity]\", quantityWrapper);\r\n  const subtractQuanity = qs(\"[data-subtract-quantity]\", quantityWrapper);\r\n\r\n  const handleAddQuantity = () => {\r\n    const currentValue = parseInt(quantityInput.value);\r\n\r\n    let newValue = currentValue + 1;\r\n\r\n    if (currentValue < 1) {\r\n      newValue = 1;\r\n    }\r\n\r\n    quantityInput.value = newValue;\r\n    quantityInput.dispatchEvent(new Event(\"change\"));\r\n  };\r\n\r\n  const handleSubtractQuantity = () => {\r\n    const currentValue = parseInt(quantityInput.value);\r\n\r\n    if (currentValue <= 1) return;\r\n\r\n    const newValue = currentValue - 1;\r\n    quantityInput.value = newValue;\r\n    quantityInput.dispatchEvent(new Event(\"change\"));\r\n  };\r\n\r\n  const events = [\r\n    listen(addQuantity, \"click\", handleAddQuantity),\r\n    listen(subtractQuanity, \"click\", handleSubtractQuantity),\r\n  ];\r\n\r\n  const unload = () => {\r\n    events.forEach(unsubscribe => unsubscribe());\r\n  };\r\n\r\n  return { unload };\r\n}\r\n","import { qs } from '@fluorescent/dom';\nimport Delegate from 'ftdomdelegate';\nimport { emit } from '@/glow/events';\n\nconst selectors = {\n  variantPopupTrigger: '[data-variant-popup-trigger]',\n};\n\nconst variantPopup = node => {\n  const delegate = new Delegate(node);\n\n  const _variantPopupHandler = e => {\n    e.preventDefault();\n\n    const { modalContentId } = e.target.dataset;\n    const content = qs(`#${modalContentId}`, node);\n\n    emit('modal:open', null, {\n      modalContent: content,\n    });\n  };\n\n  const unload = () => {\n    delegate.destroy();\n  };\n\n  delegate.on('click', selectors.variantPopupTrigger, _variantPopupHandler);\n\n  return { unload };\n};\n\nexport default variantPopup;\n","import { formatMoney } from '@/glow';\nimport { qsa } from '@fluorescent/dom';\n\nconst {\n  strings: { products: strings },\n} = window.theme;\n\nconst selectors = {\n  price: '[data-price]',\n  comparePrice: '[data-compare-price]',\n};\n\nexport default function (container, variant) {\n  const price = qsa(selectors.price, container);\n  const comparePrice = qsa(selectors.comparePrice, container);\n  const unavailableString = strings.product.unavailable;\n\n  if (!variant) {\n    price.forEach(el => (el.innerHTML = unavailableString));\n    comparePrice.forEach(el => (el.innerHTML = ''));\n    return;\n  }\n\n  price.forEach(el => (el.innerHTML = formatMoney(variant.price)));\n  comparePrice.forEach(\n    el =>\n      (el.innerHTML =\n        variant.compare_at_price > variant.price\n          ? formatMoney(variant.compare_at_price)\n          : '')\n  );\n}\n","import { qs } from '@fluorescent/dom';\n\nconst selectors = {\n  productSku: '[data-product-sku]',\n};\n\nconst {\n  strings: { products: strings },\n} = window.theme;\n\nexport default function (container, variant) {\n  const skuElement = qs(selectors.productSku, container);\n\n  if (!skuElement) return;\n\n  const { sku } = strings.product;\n  const skuString = value => `${sku}: ${value}`;\n\n  if (!variant || !variant.sku) {\n    skuElement.innerText = '';\n    return;\n  }\n\n  skuElement.innerText = skuString(variant.sku);\n}\n","import { qs } from '@fluorescent/dom';\n\nexport default function (btn, variant) {\n  const text = qs('[data-add-to-cart-text]', btn);\n  const { langAvailable, langUnavailable, langSoldOut } = btn.dataset;\n\n  if (!variant) {\n    btn.setAttribute('disabled', 'disabled');\n    text.textContent = langUnavailable;\n  } else if (variant.available) {\n    btn.removeAttribute('disabled');\n    text.textContent = langAvailable;\n  } else {\n    btn.setAttribute('disabled', 'disabled');\n    text.textContent = langSoldOut;\n  }\n}\n","import { add, listen, qs, toggle, contains, remove } from \"@fluorescent/dom\";\r\nimport { getSizedImageUrl } from \"@/lib/images\";\r\n\r\nimport { default as updatePrices } from \"@/lib/product/update-prices\";\r\n\r\nimport { get, set } from \"@fluorescent/storage\";\r\nimport { cart } from \"@/glow\";\r\n\r\nconst storage = {\r\n  get: () => get(\"quick_purchase_bar\"),\r\n  set: val => set(\"quick_purchase_bar\", val),\r\n};\r\n\r\nconst selectors = {\r\n  productBar: \"[data-quick-purchase-bar]\",\r\n  purchaseButton: \"[data-quick-purchase-button]\",\r\n  hideButton: \"[data-mobile-hide]\",\r\n  productForm: \".product-form\",\r\n  productTop: \".product__top\",\r\n  productImage: \".quick-purchase-bar__product-image\",\r\n  barQuantity: \"[data-bar-quantity]\",\r\n  barProductTitle: \"[data-bar-product-title]\",\r\n  checkoutLink: \".quick-purchase-bar__purchase-link\",\r\n  addToCartLink: \".product-form__cart-submit\",\r\n};\r\n\r\nconst classes = {\r\n  active: \"active\",\r\n  loading: \"loading\",\r\n  hidden: \"is-hidden\",\r\n};\r\n\r\nexport default function (container, variant) {\r\n  const productForm = qs(selectors.productForm, container);\r\n  const productBar = qs(selectors.productBar, container);\r\n  const purchaseButton = qs(selectors.purchaseButton, container);\r\n  const hideButton = qs(selectors.hideButton, container);\r\n  const productImage = qs(selectors.productImage, container);\r\n  const barQuantity = qs(selectors.barQuantity, container);\r\n  const barProductTitle = qs(selectors.barProductTitle, container);\r\n  const productQuantity = qs('input[name=\"quantity\"]', container);\r\n  const checkoutLink = qs(selectors.checkoutLink, container);\r\n  const addToCartLink = qs(selectors.addToCartLink, container);\r\n\r\n  barQuantity.innerHTML = `x ${parseInt(productQuantity.value, 10)}`;\r\n  barProductTitle.innerHTML = variant.name;\r\n  productBar.dataset.variantId = variant.id;\r\n\r\n  let observer = null;\r\n\r\n  setOffset();\r\n\r\n  if (storage.get()) {\r\n    add(productBar, classes.hidden);\r\n  }\r\n\r\n  const events = [\r\n    listen(hideButton, \"click\", e => {\r\n      setOffset();\r\n      toggle(productBar, classes.hidden);\r\n      storage.set(contains(productBar, classes.hidden));\r\n    }),\r\n    listen(purchaseButton, \"click\", () => {\r\n      if (purchaseButton.dataset.quickPurchaseButton === \"checkout\") {\r\n        cart\r\n          .addItemById(\r\n            productBar.dataset.variantId,\r\n            productQuantity.value > 0 ? productQuantity.value : 1\r\n          )\r\n          .then(() => checkoutLink.click());\r\n      } else if (purchaseButton.dataset.quickPurchaseButton === \"add-to-cart\") {\r\n        addToCartLink.click();\r\n      }\r\n    }),\r\n  ];\r\n\r\n  _intObserver();\r\n\r\n  function setOffset() {\r\n    productBar.style.setProperty(\r\n      \"--quick-purchase-offset\",\r\n      `${productBar.clientHeight - 20}px`\r\n    );\r\n  }\r\n\r\n  function _intObserver() {\r\n    observer = new IntersectionObserver(([{ isIntersecting: visible }]) => {\r\n      toggle(productBar, classes.active, !visible);\r\n    });\r\n    observer.observe(productForm);\r\n  }\r\n\r\n  function hideQuickPurchaseBar() {\r\n    remove(productBar, classes.active);\r\n    observer && observer.unobserve(productForm);\r\n  }\r\n\r\n  function showQuickPurchaseBar() {\r\n    observer && observer.observe(productForm);\r\n  }\r\n\r\n  function update(variant) {\r\n    // if the variant is not available, hide bar and do not update to a sold out product\r\n    if (!variant.available) {\r\n      hideQuickPurchaseBar();\r\n      return;\r\n    }\r\n\r\n    showQuickPurchaseBar();\r\n\r\n    updatePrices(productBar, variant);\r\n    productBar.dataset.variantId = variant.id;\r\n\r\n    barQuantity.innerHTML = \"\";\r\n    barProductTitle.innerHTML = \"\";\r\n\r\n    if (productQuantity.value > 0) {\r\n      barQuantity.innerHTML = `x ${parseInt(productQuantity.value, 10)}`;\r\n    }\r\n    barProductTitle.innerHTML = variant.name;\r\n\r\n    if (variant.featured_media) {\r\n      const img = `<img class=\"image__img lazyload\" data-src=\"${getSizedImageUrl(\r\n        variant.featured_media.preview_image.src,\r\n        \"120x\"\r\n      )}\" />`;\r\n\r\n      productImage.innerHTML = img;\r\n    }\r\n  }\r\n\r\n  const unload = () => {\r\n    observer && observer.disconnect();\r\n    events.forEach(unsubscribe => unsubscribe());\r\n  };\r\n\r\n  return { update, unload };\r\n}\r\n","import { add, listen, qs, qsa } from '@fluorescent/dom';\nimport { emit, on } from '@/glow/events';\n\nconst {\n  strings: { product: strings },\n} = theme;\n\nconst selectors = {\n  sprForm: '.spr-form',\n  newReviewButton: '.spr-summary-actions-newreview',\n  submitButton: '.spr-button',\n  modalContent: '.modal__content',\n  summery: '.spr-summary',\n  starRating: '.spr-starrating',\n  shopifySection: '.shopify-section',\n};\n\nexport default function () {\n  const sprForm = qs(selectors.sprForm, document);\n  const wrappingContainer = sprForm.closest(selectors.shopifySection);\n  const newReviewButton = qs(selectors.newReviewButton, document);\n  const modalContent = qs(selectors.modalContent, document);\n  const reviewsCaption = qs(selectors.summery, document);\n\n  const headingStars = qs(selectors.starRating, reviewsCaption);\n\n  // If reviews don't exist add empty stars to heading\n  if (!headingStars) {\n    const emptyStars = `\n      <span class=\"spr-starrating spr-summary-starrating\">\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n        <i class=\"spr-icon spr-icon-star-empty\"></i>\n      </span>\n    `;\n\n    reviewsCaption.insertAdjacentHTML('afterbegin', emptyStars);\n  }\n\n  // Add wrapping section classes\n  if (wrappingContainer.parentNode.classList.contains('main')) {\n    add(\n      wrappingContainer,\n      'shopify-section--stackable',\n      'shopify-section--contrast'\n    );\n\n    // If last section before footer add appropriate class\n    if (!wrappingContainer.nextElementSibling) {\n      add(wrappingContainer, 'shoping-section--contrast-before-footer');\n    }\n  }\n\n  const formListener = on('spr-form:updated', handleFormUpdate);\n\n  addNewButton();\n\n  function handleFormUpdate() {\n    const sprForm = qs(selectors.sprForm, document);\n    const clonedForm = sprForm.cloneNode(true);\n    modalContent.innerHTML = '';\n    modalContent.appendChild(clonedForm);\n  }\n\n  function addNewButton() {\n    const button = document.createElement('button');\n    add(button, 'spr-summary-actions-newreview', 'active');\n    button.innerText = strings.review;\n    newReviewButton.parentNode.insertBefore(button, newReviewButton);\n    listen(button, 'click', e => {\n      e.preventDefault();\n      emit('modal:open', null, {\n        modalContent: sprForm,\n        narrow: true,\n      });\n    });\n  }\n\n  const unload = () => {\n    formListener();\n  };\n\n  return { unload };\n}\n","import { listen, qs, qsa, toggle } from '@fluorescent/dom';\n\nexport default function OptionButtons(els) {\n  const groups = els.map(createOptionGroup);\n\n  function destroy() {\n    groups && groups.forEach(group => group());\n  }\n\n  return { groups, destroy };\n}\n\nfunction createOptionGroup(el) {\n  const select = qs('select', el);\n  const buttons = qsa('[data-button]', el);\n  const buttonClick = listen(buttons, 'click', e => {\n    e.preventDefault();\n    const { button, swatchButton, label } = e.currentTarget.dataset;\n\n    if (swatchButton) {\n      const optionSelectedLabel = qs(\n        '[data-swatch-selected]',\n        e.currentTarget.closest('.product__option')\n      );\n      if (optionSelectedLabel) optionSelectedLabel.innerHTML = label;\n    }\n\n    buttons.forEach(btn =>\n      toggle(btn, 'selected', btn.dataset.button === button)\n    );\n\n    const opt = qs(`[data-value-handle=\"${button}\"]`, select);\n    opt.selected = true;\n\n    select.dispatchEvent(new Event('change'));\n  });\n\n  return () => buttonClick();\n}\n","import { qs, add, remove, toggle } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  counterContainer: \"[data-inventory-counter]\",\r\n  inventoryMessage: \".inventory-counter__message\",\r\n  countdownBar: \".inventory-counter__bar\",\r\n  progressBar: \".inventory-counter__bar-progress\",\r\n};\r\n\r\nconst classes = {\r\n  active: \"active\",\r\n  inventoryLow: \"inventory--low\",\r\n};\r\n\r\nconst inventoryCounter = (container, config) => {\r\n  const variantsInventories = config.variantsInventories;\r\n  const counterContainer = qs(selectors.counterContainer, container);\r\n  const inventoryMessageElement = qs(selectors.inventoryMessage, container);\r\n  const progressBar = qs(selectors.progressBar, container);\r\n  const { lowInventoryThreshold, showUntrackedQuantity, stockCountdownMax } =\r\n    counterContainer.dataset;\r\n\r\n  // If the threshold or countdownmax contains anything but numbers abort\r\n  if (\r\n    !lowInventoryThreshold.match(/^[0-9]+$/) ||\r\n    !stockCountdownMax.match(/^[0-9]+$/)\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  const threshold = parseInt(lowInventoryThreshold, 10);\r\n  const countDownMax = parseInt(stockCountdownMax, 10);\r\n\r\n  toggle(\r\n    counterContainer,\r\n    classes.active,\r\n    productIventoryValid(variantsInventories[config.id])\r\n  );\r\n\r\n  checkThreshold(variantsInventories[config.id]);\r\n  setProgressBar(\r\n    variantsInventories[config.id].inventory_quantity,\r\n    variantsInventories[config.id].inventory_management\r\n  );\r\n  setInventoryMessage(variantsInventories[config.id].inventory_message);\r\n\r\n  function checkThreshold({\r\n    inventory_policy,\r\n    inventory_quantity,\r\n    inventory_management,\r\n  }) {\r\n    remove(counterContainer, classes.inventoryLow);\r\n\r\n    if (inventory_management !== null) {\r\n      if (inventory_quantity <= threshold) {\r\n        add(counterContainer, classes.inventoryLow);\r\n      }\r\n    }\r\n  }\r\n\r\n  function setProgressBar(inventoryQuantity, inventoryManagement) {\r\n    if (inventoryManagement === null && showUntrackedQuantity == \"true\") {\r\n      progressBar.style.width = `${100}%`;\r\n      return;\r\n    }\r\n\r\n    if (inventoryQuantity <= 0) {\r\n      progressBar.style.width = `${0}%`;\r\n      return;\r\n    }\r\n\r\n    const progressValue =\r\n      inventoryQuantity < countDownMax\r\n        ? (inventoryQuantity / countDownMax) * 100\r\n        : 100;\r\n\r\n    progressBar.style.width = `${progressValue}%`;\r\n  }\r\n\r\n  function setInventoryMessage(message) {\r\n    inventoryMessageElement.innerText = message;\r\n  }\r\n\r\n  function productIventoryValid(product) {\r\n    return (\r\n      product.inventory_message &&\r\n      (product.inventory_management !== null ||\r\n        (product.inventory_management === null &&\r\n          showUntrackedQuantity == \"true\"))\r\n    );\r\n  }\r\n\r\n  const update = variant => {\r\n    toggle(\r\n      counterContainer,\r\n      classes.active,\r\n      variant && productIventoryValid(variantsInventories[variant.id])\r\n    );\r\n\r\n    if (!variant) return;\r\n    checkThreshold(variantsInventories[variant.id]);\r\n    setProgressBar(\r\n      variantsInventories[variant.id].inventory_quantity,\r\n      variantsInventories[variant.id].inventory_management\r\n    );\r\n    setInventoryMessage(variantsInventories[variant.id].inventory_message);\r\n  };\r\n\r\n  return { update };\r\n};\r\n\r\nexport default inventoryCounter;\r\n","var n,e,i,o,t,r,f,d,p,u=[];function w(n,a){return e=window.pageXOffset,o=window.pageYOffset,r=window.innerHeight,d=window.innerWidth,void 0===i&&(i=e),void 0===t&&(t=o),void 0===p&&(p=d),void 0===f&&(f=r),(a||o!==t||e!==i||r!==f||d!==p)&&(!function(n){for(var w=0;w<u.length;w++)u[w]({x:e,y:o,px:i,py:t,vh:r,pvh:f,vw:d,pvw:p},n)}(n),i=e,t=o,f=r,p=d),requestAnimationFrame(w)}export default function(e){return u.indexOf(e)<0&&u.push(e),n=n||w(performance.now()),{update:function(){return w(performance.now(),!0),this},destroy:function(){u.splice(u.indexOf(e),1)}}}\n//# sourceMappingURL=srraf.es.js.map\n","// LERP returns a number between start and end based on the amt\r\n// Often used to smooth animations\r\n// Eg. Given: start = 0, end = 100\r\n// - if amt = 0.1 then lerp will return 10\r\n// - if amt = 0.5 then lerp will return 50\r\n// - if amt = 0.9 then lerp will return 90\r\nconst lerp = (start, end, amt) => {\r\n  return (1 - amt) * start + amt * end;\r\n};\r\n\r\nexport default lerp;\r\n","import srraf from \"srraf\";\r\nimport lerp from \"@/lib/animation/lerp\";\r\nimport { qs, add, remove } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  productMeta: \".product__meta\",\r\n};\r\n\r\nconst classes = {\r\n  hasSticky: \"product--has-sticky-scroll\",\r\n};\r\n\r\nexport default function (node) {\r\n  const productMeta = qs(selectors.productMeta, node);\r\n\r\n  node.style.setProperty(\"--product-meta-top\", 0);\r\n\r\n  // Init position vars\r\n  // The previous scroll position of the page\r\n  let previousScrollY = window.scrollY;\r\n  // To keep track of the amount scrolled per event\r\n  let currentScrollAmount = 0;\r\n  // Height of the header bar, used for calculating position\r\n  // Set in `_observeHeight()` when the --header-desktop-sticky-height var is set\r\n  let headerHeight = 0;\r\n  // The value to set the product meta `top` value to\r\n  let metaTop = headerHeight;\r\n  let metaTopPrevious = metaTop;\r\n  // The height of the product meta container\r\n  // Gets updated by a resize observer on the window and the meta container\r\n  let metaHeight = productMeta.offsetHeight;\r\n  // The height of the product meta container plus the height of the header\r\n  let metaHeightWithHeader = metaHeight + headerHeight;\r\n  // The max amount to set the meta `top` value\r\n  // This is equal to the number of pixels\r\n  // that the meta container is hidden by the viewport.\r\n  // Gets updated by a resize observer on the window and the meta container\r\n  let metaMaxTop = metaHeightWithHeader - window.innerHeight;\r\n\r\n  // Whatch scroll updates\r\n  const scroller = srraf(({ y }) => {\r\n    _scrollHandler(y);\r\n  });\r\n\r\n  // Resize observer on the window and the product meta\r\n  // Things like accordions can change the height of the meta container\r\n  const resizeObserver = new ResizeObserver(_observeHeight);\r\n\r\n  resizeObserver.observe(productMeta);\r\n  resizeObserver.observe(document.documentElement);\r\n\r\n  // Start the animation loop\r\n  requestAnimationFrame(() => _updateMetaTopLoop());\r\n\r\n  function _observeHeight() {\r\n    metaHeight = productMeta.offsetHeight;\r\n    headerHeight = parseInt(\r\n      getComputedStyle(document.documentElement)\r\n        .getPropertyValue(\"--height-header\")\r\n        .replace(/px/gi, \"\")\r\n    );\r\n    metaHeightWithHeader = metaHeight + headerHeight;\r\n    metaMaxTop = metaHeightWithHeader - window.innerHeight;\r\n\r\n    // Check if the product meta container is taller than the viewport\r\n    // and section container has room for the meta to scroll.\r\n    // The product meta could be taller than the images\r\n    // so it won't have room to scroll.\r\n    if (\r\n      metaHeightWithHeader > window.innerHeight &&\r\n      node.offsetHeight > metaHeightWithHeader\r\n    ) {\r\n      add(node, classes.hasSticky);\r\n      _scrollHandler(window.scrollY);\r\n    } else {\r\n      remove(node, classes.hasSticky);\r\n    }\r\n  }\r\n\r\n  function _scrollHandler(y) {\r\n    currentScrollAmount = previousScrollY - y;\r\n\r\n    // The offset based on how far the page has been scrolled from last event\r\n    const currentScrollOffset = metaTop + currentScrollAmount;\r\n    // The max top value while scrolling up\r\n    const topMax = headerHeight;\r\n    // The max top value while scrolling down\r\n    const bottomMax = -metaMaxTop + headerHeight - 60;\r\n\r\n    // Calculate the current top value based on the currentScrollOffset value\r\n    // in the range of topMax and bottomMax.\r\n    metaTop = Math.max(bottomMax, Math.min(currentScrollOffset, topMax));\r\n\r\n    // Update the previous scroll position for next time.\r\n    previousScrollY = y;\r\n  }\r\n\r\n  // This is an endless RAF loop used to update the top position CSS var.\r\n  // We're using this with a LERP function to smooth out the position updating\r\n  // instead of having large jumps while scrolling fast.\r\n  function _updateMetaTopLoop() {\r\n    // We want to continue to update the top var until fully into the stopped position\r\n    if (metaTop !== metaTopPrevious) {\r\n      metaTopPrevious = lerp(metaTopPrevious, metaTop, 0.5);\r\n      node.style.setProperty(\"--product-meta-top\", `${metaTopPrevious}px`);\r\n    }\r\n    requestAnimationFrame(() => _updateMetaTopLoop());\r\n  }\r\n\r\n  function destroy() {\r\n    scroller?.scroller.destroy();\r\n    resizeObserver?.disconnect();\r\n  }\r\n\r\n  return { destroy };\r\n}\r\n","// wrapAround: false,\r\n// adaptiveHeight: true,\r\n\r\nimport { qs, listen, remove } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  slider: \"[data-slider]\",\r\n  prev: \"[data-prev]\",\r\n  next: \"[data-next]\",\r\n};\r\n\r\nexport default node => {\r\n  const sliderElement = qs(selectors.slider, node);\r\n  const previousButton = qs(selectors.prev, node);\r\n  const nextButton = qs(selectors.next, node);\r\n  let slider = null;\r\n  const events = [];\r\n\r\n  const config = {\r\n    adaptiveHeight: true,\r\n    cellAlign: \"left\",\r\n    cellSelector: \"[data-slide]\",\r\n    pageDots: false,\r\n    prevNextButtons: false,\r\n    contain: true,\r\n    watchCSS: true,\r\n    imagesLoaded: true,\r\n    initialIndex: \".is-initial-select\",\r\n    pauseAutoPlayOnHover: !window.Shopify.designMode,\r\n    on: {\r\n      ready: function () {\r\n        this.resize();\r\n        // Need to wait for the flicktiy view-port transiton\r\n        setTimeout(() => {\r\n          _updateNavigationPosition(qs(\".media, .placeholder-image\", node));\r\n        }, 350);\r\n      },\r\n      scroll: function () {\r\n        _updateNavigationPosition(this.element);\r\n      },\r\n    },\r\n  };\r\n\r\n  previousButton.disabled = true;\r\n\r\n  const _updateNavigationPosition = image => {\r\n    const currentImageHeight = image.clientHeight;\r\n    const buttonHeight = nextButton.clientHeight;\r\n    const halfcurrentImageHeight = currentImageHeight / 2;\r\n    const halfButtonHeight = buttonHeight / 2;\r\n\r\n    const offset = halfcurrentImageHeight - halfButtonHeight;\r\n\r\n    node.style.setProperty(\"--navigation-offset\", `${offset}px`);\r\n\r\n    remove(nextButton, \"hidden\");\r\n    remove(previousButton, \"hidden\");\r\n  };\r\n\r\n  import(flu.chunks.flickity).then(({ Flickity }) => {\r\n    slider = new Flickity(sliderElement, config);\r\n\r\n    slider.on(\"scroll\", progress => {\r\n      const progressScale = progress * 100;\r\n\r\n      // https://github.com/metafizzy/flickity/issues/289\r\n      previousButton.disabled = progressScale < 1;\r\n      nextButton.disabled = progressScale > 99;\r\n    });\r\n  });\r\n\r\n  let prevClick;\r\n  let nextClick;\r\n  let prevMouseenter;\r\n  let nextMouseenter;\r\n\r\n  import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\r\n    gsap.registerPlugin(CustomEase);\r\n    prevClick = listen(previousButton, \"click\", handleClick);\r\n    nextClick = listen(nextButton, \"click\", handleClick);\r\n    prevMouseenter = listen(previousButton, \"mouseenter\", arrowMouseenter);\r\n    nextMouseenter = listen(nextButton, \"mouseenter\", arrowMouseenter);\r\n\r\n    const arrowClickEase = gsap.parseEase(window.theme.animation.ease);\r\n    const arrowHoverEase = gsap.parseEase(window.theme.animation.ease);\r\n\r\n    function handleClick(evt) {\r\n      const prev = evt.target.closest(selectors.prev);\r\n      const next = evt.target.closest(selectors.next);\r\n\r\n      if (prev) {\r\n        slider && slider.previous();\r\n        arrowClick(prev);\r\n      }\r\n      if (next) {\r\n        slider && slider.next();\r\n        arrowClick(next);\r\n      }\r\n    }\r\n\r\n    function arrowClick(button) {\r\n      gsap.to(button, {\r\n        keyframes: [{ scale: 0.8 }, { scale: 1 }],\r\n        duration: 0.33,\r\n        ease: arrowClickEase,\r\n      });\r\n    }\r\n\r\n    function arrowMouseenter(evt) {\r\n      const svg = qs(\"svg\", evt.target);\r\n      gsap.to(svg, {\r\n        keyframes: [\r\n          { x: 15, opacity: 0 },\r\n          { x: -15, duration: 0 },\r\n          { x: 0, opacity: 1 },\r\n        ],\r\n        duration: 0.43,\r\n        ease: arrowHoverEase,\r\n      });\r\n    }\r\n  });\r\n\r\n  return {\r\n    destroy: () => {\r\n      if ((slider.slides || {}).length > 1) {\r\n        prevClick && prevClick();\r\n        nextClick && nextClick();\r\n        prevMouseenter && prevMouseenter();\r\n        nextMouseenter && nextMouseenter();\r\n      }\r\n      slider && slider.destroy();\r\n      events.forEach(unsubscribe => unsubscribe());\r\n    },\r\n    select: index => {\r\n      slider?.select(index);\r\n    },\r\n  };\r\n};\r\n","import { qs, qsa, contains, add, remove, listen } from \"@fluorescent/dom\";\r\n\r\nconst classes = {\r\n  disabled: \"disabled\",\r\n};\r\n\r\nconst selectors = {\r\n  variantsWrapper: \"[data-product-variants]\",\r\n  variantsJson: \"[data-variant-json]\",\r\n  input: \"[dynamic-variant-input]\",\r\n  inputWrap: \"[dynamic-variant-input-wrap]\",\r\n  inputWrapWithValue: option =>\r\n    `${selectors.inputWrap}[data-index=\"${option}\"]`,\r\n  buttonWrap: \"[dynamic-variant-button]\",\r\n  buttonWrapWithValue: value =>\r\n    `${selectors.buttonWrap}[data-option-value=\"${value}\"]`,\r\n};\r\n\r\n/**\r\n *  VariantAvailability\r\n    - Cross out sold out or unavailable variants\r\n    - Required markup:\r\n      - class=dynamic-variant-input-wrap + data-index=\"option{{ forloop.index }}\" to wrap select or button group\r\n      - class=dynamic-variant-input + data-index=\"option{{ forloop.index }}\" to wrap selects associated with variant potentially hidden if swatch / chip\r\n      - class=dynamic-variant-button + data-option-value=\"{{ value | escape }}\" to wrap button of swatch / chip\r\n      - hidden product variants json markup\r\n  * @param {node} container product container element\r\n  * @returns {unload} remove event listeners\r\n */\r\nexport default function (container) {\r\n  const variantsWrapper = qs(selectors.variantsWrapper, container);\r\n\r\n  // Variant options block do not exist\r\n  if (!variantsWrapper) return;\r\n\r\n  const { enableDynamicProductOptions, currentVariantId } =\r\n    variantsWrapper.dataset;\r\n\r\n  if (enableDynamicProductOptions === \"false\") return;\r\n\r\n  const productVariants = JSON.parse(\r\n    qs(selectors.variantsJson, container).innerText\r\n  );\r\n\r\n  // Using associated selects as buy buttons may be disabled.\r\n  const variantSelectors = qsa(selectors.input, container);\r\n  const variantSelectorWrappers = qsa(selectors.inputWrap, container);\r\n  const events = [];\r\n\r\n  init();\r\n\r\n  function init() {\r\n    variantSelectors.forEach(el => {\r\n      events.push(listen(el, \"change\", handleChange));\r\n    });\r\n\r\n    setInitialAvailability();\r\n  }\r\n\r\n  function setInitialAvailability() {\r\n    // Disable all options on initial load\r\n    variantSelectorWrappers.forEach(group => disableVariantGroup(group));\r\n\r\n    const initiallySelectedVariant = productVariants.find(\r\n      variant => variant.id === parseInt(currentVariantId, 10)\r\n    );\r\n\r\n    const currentlySelectedValues = initiallySelectedVariant.options.map(\r\n      (value, index) => {\r\n        return { value, index: `option${index + 1}` };\r\n      }\r\n    );\r\n\r\n    const initialOptions = createAvailableOptionsTree(\r\n      productVariants,\r\n      currentlySelectedValues\r\n    );\r\n\r\n    for (const [option, values] of Object.entries(initialOptions)) {\r\n      manageOptionState(option, values);\r\n    }\r\n  }\r\n\r\n  // Create a list of all options. If any variant exists and is in stock with that option, it's considered available\r\n  function createAvailableOptionsTree(variants, currentlySelectedValues) {\r\n    // Reduce variant array into option availability tree\r\n    return variants.reduce(\r\n      (options, variant) => {\r\n        // Check each option group (e.g. option1, option2, option3) of the variant\r\n        Object.keys(options).forEach(index => {\r\n          if (variant[index] === null) return;\r\n\r\n          let entry = options[index].find(\r\n            option => option.value === variant[index]\r\n          );\r\n\r\n          if (typeof entry === \"undefined\") {\r\n            // If option has yet to be added to the options tree, add it\r\n            entry = { value: variant[index], soldOut: true };\r\n            options[index].push(entry);\r\n          }\r\n\r\n          const currentOption1 = currentlySelectedValues.find(\r\n            ({ index }) => index === \"option1\"\r\n          );\r\n\r\n          const currentOption2 = currentlySelectedValues.find(\r\n            ({ index }) => index === \"option2\"\r\n          );\r\n\r\n          switch (index) {\r\n            case \"option1\":\r\n              // Option1 inputs should always remain enabled based on all available variants\r\n              entry.soldOut =\r\n                entry.soldOut && variant.available ? false : entry.soldOut;\r\n              break;\r\n            case \"option2\":\r\n              // Option2 inputs should remain enabled based on available variants that match first option group\r\n              if (currentOption1 && variant.option1 === currentOption1.value) {\r\n                entry.soldOut =\r\n                  entry.soldOut && variant.available ? false : entry.soldOut;\r\n              }\r\n              break;\r\n            case \"option3\":\r\n              // Option 3 inputs should remain enabled based on available variants that match first and second option group\r\n              if (\r\n                currentOption1 &&\r\n                variant.option1 === currentOption1.value &&\r\n                currentOption2 &&\r\n                variant.option2 === currentOption2.value\r\n              ) {\r\n                entry.soldOut =\r\n                  entry.soldOut && variant.available ? false : entry.soldOut;\r\n              }\r\n          }\r\n        });\r\n\r\n        return options;\r\n      },\r\n      { option1: [], option2: [], option3: [] }\r\n    );\r\n  }\r\n\r\n  function handleChange() {\r\n    const currentlySelectedValues = variantSelectors.map(el => {\r\n      return { value: el.value, index: el.id };\r\n    });\r\n\r\n    setAvailability(currentlySelectedValues);\r\n  }\r\n\r\n  function setAvailability(selectedValues) {\r\n    // Object to hold all options by value.\r\n    // This will be what sets a button/dropdown as\r\n    // sold out or unavailable (not a combo set as purchasable)\r\n    const valuesToManage = createAvailableOptionsTree(\r\n      productVariants,\r\n      selectedValues\r\n    );\r\n\r\n    // Loop through all option levels and send each\r\n    // value w/ args to function that determines to show/hide/enable/disable\r\n    for (const [option, values] of Object.entries(valuesToManage)) {\r\n      manageOptionState(option, values);\r\n    }\r\n  }\r\n\r\n  function manageOptionState(option, values) {\r\n    const group = qs(selectors.inputWrapWithValue(option), container);\r\n\r\n    // Loop through each option value\r\n    values.forEach(obj => {\r\n      toggleVariantOption(group, obj);\r\n    });\r\n  }\r\n\r\n  function toggleVariantOption(group, obj) {\r\n    // Selecting by value so escape it\r\n    const value = escapeQuotes(obj.value);\r\n\r\n    // Do nothing if the option is a select dropdown\r\n    if (qs(\".product__option-select-wrapper\", group)) return;\r\n\r\n    const button = qs(selectors.buttonWrapWithValue(value), group);\r\n\r\n    // Variant exists - enable & show variant\r\n    remove(button, classes.disabled);\r\n    // Variant sold out - cross out option (remains selectable)\r\n    if (obj.soldOut) {\r\n      add(button, classes.disabled);\r\n    }\r\n  }\r\n\r\n  function disableVariantGroup(group) {\r\n    if (qs(\".product__option-select-wrapper\", group)) return;\r\n\r\n    qsa(selectors.buttonWrap, group).forEach(button =>\r\n      add(button, classes.disabled)\r\n    );\r\n  }\r\n\r\n  function escapeQuotes(str) {\r\n    const escapeMap = {\r\n      '\"': '\\\\\"',\r\n      \"'\": \"\\\\'\",\r\n    };\r\n\r\n    return str.replace(/\"|'/g, m => escapeMap[m]);\r\n  }\r\n\r\n  const unload = () => {\r\n    events.forEach(unsubscribe => unsubscribe());\r\n  };\r\n\r\n  return { unload };\r\n}\r\n","import { qsa, qs, listen, add, remove } from \"@fluorescent/dom\";\nimport { emit, on } from \"@/glow/events\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  prev: \"[data-prev]\",\n  next: \"[data-next]\",\n};\n\nexport default (node, type, opts = {}) => {\n  const sliderElement = qs(selectors.slider, node);\n  const previousButton = qs(selectors.prev, node);\n  const nextButton = qs(selectors.next, node);\n  let slider = null;\n  const events = [];\n\n  const defaultOpts = {\n    adaptiveHeight: !window.matchMedia(\"(min-width: 45em)\").matches,\n    cellAlign: \"left\",\n    cellSelector: \"[data-slide]\",\n    pageDots: false,\n    prevNextButtons: false,\n    contain: true,\n    imagesLoaded: true,\n    pauseAutoPlayOnHover: !window.Shopify.designMode,\n    on: {\n      ready: function () {\n        _updateNavigationPosition();\n        this.resize();\n\n        // optional onReady event callback\n        if (opts.onReady && typeof opts.onReady === \"function\") {\n          opts.onReady();\n        }\n      },\n      change: function (index) {\n        // optional onchange\n        if (opts.onChange && typeof opts.onChange === \"function\") {\n          opts.onChange(index);\n        }\n      },\n    },\n  };\n\n  const config = Object.assign({}, defaultOpts, opts);\n\n  if (!config.wrapAround) {\n    previousButton.disabled = true;\n  }\n\n  const _updateNavigationPosition = () => {\n    const firstImage = qs(\".image__img, .placeholder-image\", node);\n    const firstImageHeight = firstImage.clientHeight;\n    const buttonHeight = nextButton.clientHeight;\n    const halfFirstImageHeight = firstImageHeight / 2;\n    const halfButtonHeight = buttonHeight / 2;\n\n    const offset = halfFirstImageHeight - halfButtonHeight;\n\n    node.style.setProperty(\"--navigation-offset\", `${offset}px`);\n\n    remove(nextButton, \"hidden\");\n    remove(previousButton, \"hidden\");\n  };\n\n  import(flu.chunks.flickity).then(({ Flickity }) => {\n    slider = new Flickity(sliderElement, config);\n\n    if (!config.wrapAround) {\n      slider.on(\"scroll\", progress => {\n        const progressScale = progress * 100;\n\n        // https://github.com/metafizzy/flickity/issues/289\n        previousButton.disabled = progressScale < 1;\n        nextButton.disabled = progressScale > 99;\n      });\n    }\n\n    // Account for page-transition links that can fire on flickity drag\n    slider.on(\"dragStart\", () =>\n      slider.slider.childNodes.forEach(slide =>\n        qsa(\"a[href]\", slide).forEach(element => add(element, \"no-transition\"))\n      )\n    );\n    slider.on(\"dragEnd\", () =>\n      setTimeout(() => {\n        slider.slider.childNodes.forEach(slide =>\n          qsa(\"a[href]\", slide).forEach(element =>\n            remove(element, \"no-transition\")\n          )\n        );\n      }, 100)\n    );\n\n    emit(`${type}:initialized`);\n  });\n\n  let prevClick;\n  let nextClick;\n  let prevMouseenter;\n  let nextMouseenter;\n\n  import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\n    gsap.registerPlugin(CustomEase);\n    prevClick = listen(previousButton, \"click\", handleClick);\n    nextClick = listen(nextButton, \"click\", handleClick);\n    prevMouseenter = listen(previousButton, \"mouseenter\", arrowMouseenter);\n    nextMouseenter = listen(nextButton, \"mouseenter\", arrowMouseenter);\n\n    const arrowClickEase = gsap.parseEase(window.theme.animation.ease);\n    const arrowHoverEase = gsap.parseEase(window.theme.animation.ease);\n\n    function handleClick(evt) {\n      const prev = evt.target.closest(selectors.prev);\n      const next = evt.target.closest(selectors.next);\n\n      if (prev) {\n        slider && slider.previous();\n        arrowClick(prev);\n      }\n      if (next) {\n        slider && slider.next();\n        arrowClick(next);\n      }\n    }\n\n    function arrowClick(button) {\n      gsap.to(button, {\n        keyframes: [{ scale: 0.8 }, { scale: 1 }],\n        duration: 0.33,\n        ease: arrowClickEase,\n      });\n    }\n\n    function arrowMouseenter(evt) {\n      const svg = qs(\"svg\", evt.target);\n      gsap.to(svg, {\n        keyframes: [\n          { x: 15, opacity: 0 },\n          { x: -15, duration: 0 },\n          { x: 0, opacity: 1 },\n        ],\n        duration: 0.43,\n        ease: arrowHoverEase,\n      });\n    }\n  });\n\n  return {\n    destroy: () => {\n      if ((slider.slides || {}).length > 1) {\n        prevClick && prevClick();\n        nextClick && nextClick();\n        prevMouseenter && prevMouseenter();\n        nextMouseenter && nextMouseenter();\n      }\n      slider && slider.destroy();\n      events.forEach(unsubscribe => unsubscribe());\n    },\n    select: index => {\n      if (slider) {\n        slider.select(index);\n      } else {\n        events.push(on(`${type}:initialized`, () => slider.select(index)));\n      }\n    },\n  };\n};\n","export default function getMediaQuery(querySize) {\n  const value = getComputedStyle(document.documentElement).getPropertyValue(\n    `--${querySize}`\n  );\n\n  if (!value) {\n    console.warn(\"Invalid querySize passed to getMediaQuery\");\n    return false;\n  }\n\n  return value;\n}\n","import { add, contains } from \"@fluorescent/dom\";\nimport getMediaQuery from \"@/lib/media-queries\";\nconst classes = {\n  small: 'section--small',\n  extraSmall: 'section--extra-small',\n};\n\nconst mobileSizes = {\n  default: 40,\n  small: 40,\n  extraSmall: 28\n};\n\nconst desktopSizes = {\n  default: 56,\n  small: 120,\n  extraSmall: 28\n};\n\nexport default (node, options = { instant: false }) => {\n  let threshold = 0;\n  if (!options.instant) {\n    // Get section size, this determines how much margin the section has\n    let sectionSize = 'default';\n    if (contains(node, classes.small)) {\n      sectionSize = 'small';\n    } else if (contains(node, classes.extraSmall)) {\n      sectionSize = 'extraSmall';\n    }\n\n    // Get the margin amount based on section sizes and screen width\n    let margin = 56;\n    if (window.matchMedia(getMediaQuery(\"not-small\")).matches) {\n      margin = desktopSizes[sectionSize];\n    } else {\n      margin = mobileSizes[sectionSize];\n    }\n\n    threshold = Math.min(margin / node.offsetHeight, 0.5);\n  }\n\n  const observer = new IntersectionObserver(\n    ([{ isIntersecting: visible }]) => {\n      if (visible) {\n        add(node, \"is-visible\");\n\n        if (typeof options.cb === 'function') {\n          options.cb();\n        }\n\n        observer.disconnect();\n      }\n    },\n    { threshold: threshold }\n  );\n\n  observer.observe(node);\n\n  return {\n    destroy() {\n      observer?.disconnect();\n    },\n  };\n};\n","import { contains } from \"@fluorescent/dom\";\n\nexport default node => {\n  return (\n    contains(node, \"animation\") &&\n    !contains(document.documentElement, \"prefers-reduced-motion\")\n  );\n};\n","import { listen, qs, qsa } from \"@fluorescent/dom\";\r\nimport isMobile from \"is-mobile\";\r\n\r\nexport default items => {\r\n  const events = [];\r\n\r\n  const showSecondaryImageOnHover =\r\n    document.body.dataset.showSecondaryImageOnHover === \"true\";\r\n\r\n  import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\r\n    gsap.registerPlugin(CustomEase);\r\n    const opacityEase = gsap.parseEase(\"0.40,0.00,0.00,1.00\");\r\n    const chipEaseIn = gsap.parseEase(\"0.40,0.00,0.10,1.00\");\r\n    const chipEaseOut = gsap.parseEase(\"0.30,0.00,0.00,1.00\");\r\n\r\n    items.forEach(item => {\r\n      const imageOne = qs(\".product-item__image--one\", item);\r\n      const imageTwo = qs(\".product-item__image--two\", item);\r\n      const optionsElements = qsa(\".product-item-options__list\", item);\r\n\r\n      if (\r\n        !isMobile() &&\r\n        ((showSecondaryImageOnHover && imageTwo) || optionsElements)\r\n      ) {\r\n        events.push(\r\n          listen(item, \"mouseenter\", () => {\r\n            enterItemAnimation(imageOne, imageTwo, optionsElements);\r\n          })\r\n        );\r\n        events.push(\r\n          listen(item, \"mouseleave\", () => {\r\n            leaveItemAnimation(imageOne, imageTwo, optionsElements);\r\n          })\r\n        );\r\n      }\r\n    });\r\n\r\n    function enterItemAnimation(imageOne, imageTwo, optionsElements) {\r\n      if (showSecondaryImageOnHover && imageTwo) {\r\n        gsap.killTweensOf(imageTwo);\r\n        gsap.killTweensOf(imageOne);\r\n        gsap.set(imageTwo, { zIndex: 2 });\r\n        gsap.set(imageOne, { zIndex: 1 });\r\n        gsap.fromTo(\r\n          imageTwo,\r\n          { scale: 1.2, opacity: 0 },\r\n          { scale: 1, opacity: 1, ease: opacityEase, duration: 0.66 }\r\n        );\r\n        gsap.to(imageOne, { opacity: 0, delay: 0.66 });\r\n      }\r\n\r\n      if (optionsElements) {\r\n        optionsElements.forEach((optionElement, i) => {\r\n          gsap.killTweensOf(optionElement);\r\n          gsap.fromTo(\r\n            optionElement,\r\n            { y: 20, opacity: 0 },\r\n            {\r\n              y: 0,\r\n              opacity: 1,\r\n              ease: chipEaseIn,\r\n              duration: 0.66,\r\n              delay: Number(i) * 0.1,\r\n            }\r\n          );\r\n        });\r\n      }\r\n    }\r\n\r\n    function leaveItemAnimation(imageOne, imageTwo, optionsElements) {\r\n      if (showSecondaryImageOnHover && imageTwo) {\r\n        gsap.killTweensOf(imageTwo);\r\n        gsap.killTweensOf(imageOne);\r\n        gsap.set(imageOne, { zIndex: 2, opacity: 1 });\r\n        gsap.set(imageTwo, { zIndex: 1, opacity: 0 });\r\n      }\r\n\r\n      if (optionsElements) {\r\n        optionsElements.forEach(optionElement => {\r\n          gsap.killTweensOf(optionElement);\r\n          gsap.fromTo(\r\n            optionElement,\r\n            { y: 0, opacity: 1 },\r\n            { opacity: 0, duration: 0.33, ease: chipEaseOut }\r\n          );\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  return {\r\n    destroy() {\r\n      events.forEach(unsubscribe => unsubscribe());\r\n    },\r\n  };\r\n};\r\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  ImageReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  images: \".image\",\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const images = qsa(selectors.images, node);\n  const textReveals = [];\n  const imageReveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      textReveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    images.forEach(image => {\n      imageReveals.push(new ImageReveal(image));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = window.theme.animation.delay;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n\n    let imageDelay = window.theme.animation.delay;\n    imageReveals.reverse().forEach((reveal, i) => {\n      imageDelay = window.theme.animation.delayLong * i;\n      reveal.play(imageDelay);\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa } from \"@fluorescent/dom\";\nimport {\n  ImageReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  image: \".image-with-features__image-container .image\",\n  title: \".image-with-features__heading\",\n  featuresItem: \".image-with-features__item\",\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const sectionTitle = qs(selectors.title, node);\n  const featureItems = qsa(selectors.featuresItem, node);\n  const image = qs(selectors.image, node);\n\n  const featureItemReveals = [];\n  let imageReveal = null;\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    featureItemReveals.push(new FadeUpSplitReveal(sectionTitle));\n\n    featureItems.forEach(item => {\n      featureItemReveals.push(\n        new FadeUpSplitReveal(qs(selectors.fadeUpSplit, item))\n      );\n      qsa(selectors.fadeUp, item).forEach(fadeItem => {\n        featureItemReveals.push(new FadeUpReveal(fadeItem));\n      });\n    });\n\n    if (image) {\n      imageReveal = new ImageReveal(image);\n    }\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let featureItemDelay = window.theme.animation.delay;\n    featureItemReveals.forEach(featureItem => {\n      featureItem.play(featureItemDelay);\n\n      if (featureItem.type === \"FadeUpSplitReveal\") {\n        featureItemDelay +=\n          featureItem.lineCount * window.theme.animation.delay;\n      } else {\n        featureItemDelay += window.theme.animation.delay;\n      }\n    });\n\n    if (imageReveal) {\n      imageReveal.play(window.theme.animation.delay);\n    }\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  group: \".text-columns-with-images__item\",\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  // Each group has a staggered animation delay so we get each groups container\n  const revealGroup = qsa(selectors.group, node);\n\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    // Loop through each reveal group and initialize the reveals for each item in the group\n    revealGroup.forEach(item => {\n      const groupReveals = [];\n      qsa(selectors.revealItem, item).forEach(revealItem => {\n        // check which type of reveal needs to be initialized\n        if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n          groupReveals.push(new FadeUpSplitReveal(revealItem));\n        } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n          groupReveals.push(new FadeUpReveal(revealItem));\n        }\n      });\n      reveals.push(groupReveals);\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let revealGroupDelay = 0;\n    reveals.forEach((revealGroup, i) => {\n      revealGroupDelay = window.theme.animation.delay * i;\n\n      revealGroup.forEach(revealItem => {\n        revealItem.play(revealGroupDelay);\n\n        if (revealItem.type === \"FadeUpSplitReveal\") {\n          revealGroupDelay +=\n            revealItem.lineCount * window.theme.animation.delay;\n        } else {\n          revealGroupDelay += window.theme.animation.delay;\n        }\n      });\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpItem = qs(selectors.fadeUp, node);\n  let reveal = null;\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    reveal = new FadeUpReveal(fadeUpItem);\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    reveal.play();\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, add, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  FadeScaleReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  revealItems: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n  slideItems: \".featured-collection__slide\",\n};\n\nexport default node => {\n  let observer = null;\n  const sliderElement = qs(selectors.slider, node);\n  const columns = parseInt(node.dataset.columns);\n  const slideItems = qsa(selectors.slideItems, node);\n  const headerRevealItems = qsa(selectors.revealItems, node);\n  const headerReveals = [];\n  const slideReveals = [];\n\n  if (shouldAnimate(node)) {\n    headerRevealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        headerReveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        headerReveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n\n    slideItems.forEach((item, i) => {\n      if (i < columns) {\n        const slideItemReveals = [];\n        const image = qs(\".product-item__media .image\", item);\n        if (image) {\n          slideItemReveals.push(new FadeScaleReveal(image));\n        }\n\n        qsa(\n          \".product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        ).forEach(revealItem => {\n          slideItemReveals.push(new FadeUpReveal(revealItem));\n        });\n\n        slideReveals.push(slideItemReveals);\n      } else {\n        const slideAnimItems = qsa(\n          \".product-item__media .image, .product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        );\n\n        if (slideAnimItems) {\n          add(slideAnimItems, \"animation-initialized\");\n        }\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  sliderElement.style.opacity = 1;\n\n  function isVisible() {\n    let delay = 0;\n    headerReveals.forEach(reveal => {\n      reveal.play(delay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        delay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        delay += window.theme.animation.delay;\n      }\n    });\n\n    slideReveals.forEach(slide => {\n      let slideDelay = delay;\n      slide.forEach(reveal => {\n        reveal.play(slideDelay);\n        slideDelay += window.theme.animation.delay;\n      });\n      delay += window.theme.animation.delay;\n    });\n\n    setTimeout(() => {\n      add(node, \"animation--complete\");\n    }, (headerReveals.length + slideReveals.length) * window.theme.animation.duration);\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  group: \".section-header, .testimonials__item\",\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  // Each group has a staggered animation delay so we get each groups container\n  const revealGroup = qsa(selectors.group, node);\n\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    // Loop through each reveal group and initialize the reveals for each item in the group\n    revealGroup.forEach(item => {\n      const groupReveals = [];\n      qsa(selectors.revealItem, item).forEach(revealItem => {\n        // check which type of reveal needs to be initialized\n        if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n          groupReveals.push(new FadeUpSplitReveal(revealItem));\n        } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n          groupReveals.push(new FadeUpReveal(revealItem));\n        }\n      });\n      reveals.push(groupReveals);\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    // increment a delay for each group of reveal animations\n    let revealGroupDelay = 0;\n    // loop through each group\n    reveals.forEach((revealGroup, i) => {\n      revealGroupDelay = window.theme.animation.delay * i;\n\n      let previousType = null;\n      // loop through each reveal item in the group\n      revealGroup.forEach((revealItem, j) => {\n        // This section is a little different.\n        // This section has a quote icon in each group that needs to\n        // animate at the same time as the first line of text in the title.\n        // Here we only apply the item delay if the previous item isn't the icon\n        if (\n          revealItem.type !== \"FadeUpSplitReveal\" ||\n          (revealItem.type !== \"FadeUpSplitReveal\" &&\n            previousType === \"FadeUpSplitReveal\")\n        ) {\n          revealGroupDelay += window.theme.animation.delay * j;\n        }\n        revealItem.play(revealGroupDelay);\n        previousType = revealItem.type;\n      });\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeScaleReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  socialProofItems: \".social-proof__slide\",\n  headerRevealItem:\n    \".section-header .animation-fade-up-split-reveal, .section-header .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const socialProofItems = qsa(selectors.socialProofItems, node);\n  const headerRevealItems = qsa(selectors.headerRevealItem, node);\n  const headerReveals = [];\n  const slideReveals = [];\n\n  if (shouldAnimate(node)) {\n    headerRevealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        headerReveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        headerReveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n    socialProofItems.forEach(item => {\n      if (contains(item, \"is-visible\")) {\n        const slideItemReveals = [];\n        const image = qs(\".image\", item);\n        if (image) {\n          slideItemReveals.push(new FadeScaleReveal(image));\n        }\n\n        qsa(\".social-proof__item-likes, .social-proof__content\", item).forEach(\n          revealItem => {\n            slideItemReveals.push(new FadeUpReveal(revealItem));\n          }\n        );\n\n        slideReveals.push(slideItemReveals);\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let delay = 0;\n    headerReveals.forEach(reveal => {\n      reveal.play(delay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        delay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        delay += window.theme.animation.delay;\n      }\n    });\n\n    slideReveals.forEach(slide => {\n      let slideDelay = delay;\n      slide.forEach(reveal => {\n        reveal.play(slideDelay);\n        slideDelay += window.theme.animation.delay;\n      });\n      delay += window.theme.animation.delay;\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, add } from \"@fluorescent/dom\";\r\nimport {\r\n  ImageReveal,\r\n  FadeUpReveal,\r\n  intersectionWatcher,\r\n  shouldAnimate,\r\n} from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  details: \".featured-product__details .animation-fade-up-reveal\",\r\n  featuredImage:\r\n    \".featured-product__media-container .product__media-item:not(.hidden) .image\",\r\n  remainingImages:\r\n    \".featured-product__media-container .product__media-item.hidden .image\",\r\n};\r\n\r\nexport default node => {\r\n  let observer = null;\r\n  const revealsRight = [];\r\n  let imageReveal = null;\r\n\r\n  const details = qsa(selectors.details, node);\r\n  const featuredImage = qs(selectors.featuredImage, node);\r\n  const remainingImages = qsa(selectors.remainingImages, node);\r\n\r\n  if (shouldAnimate(node)) {\r\n    details.forEach(item => {\r\n      revealsRight.push(new FadeUpReveal(item));\r\n    });\r\n\r\n    if (featuredImage) {\r\n      imageReveal = new ImageReveal(featuredImage);\r\n    }\r\n\r\n    if (remainingImages.length) {\r\n      add(remainingImages, \"animation-initialized\");\r\n    }\r\n\r\n    observer = intersectionWatcher(node, { cb: isVisible });\r\n  }\r\n\r\n  function isVisible() {\r\n    revealsRight.forEach((reveal, i) => {\r\n      reveal.play(window.theme.animation.delayExtraShort * i);\r\n    });\r\n\r\n    if (imageReveal) {\r\n      imageReveal.play(window.theme.animation.delayExtraShort);\r\n    }\r\n  }\r\n\r\n  return {\r\n    destroy() {\r\n      observer?.destroy();\r\n    },\r\n  };\r\n};\r\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeScaleReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const revealItems = qsa(selectors.revealItem, node);\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    revealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        reveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        reveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  function open(inner) {\n    if (inner) {\n      const contentScale = new FadeScaleReveal(inner, { scaleStart: 0.8 });\n      contentScale.play();\n    }\n  }\n\n  function close(inner) {\n    if (inner) {\n      const contentScale = new FadeScaleReveal(inner, { scaleStart: 0.8 });\n      contentScale.reverse();\n    }\n  }\n\n  return {\n    open,\n    close,\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeScaleReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  group: \".section-header, .blog-posts__item\",\n  revealItem:\n    \".animation-fade-up-split-reveal, .animation-fade-up-reveal, .image .image__reveal-container\",\n};\n\nexport default node => {\n  let observer = null;\n  // Each group has a staggered animation delay so we get each groups container\n  const revealGroup = qsa(selectors.group, node);\n\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    // Loop through each reveal group and initialize the reveals for each item in the group\n    revealGroup.forEach(item => {\n      const groupReveals = [];\n      qsa(selectors.revealItem, item).forEach(revealItem => {\n        // check which type of reveal needs to be initialized\n        if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n          groupReveals.push(new FadeUpSplitReveal(revealItem));\n        } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n          groupReveals.push(new FadeUpReveal(revealItem));\n        } else if (contains(revealItem, \"image__reveal-container\")) {\n          groupReveals.push(new FadeScaleReveal(revealItem));\n        }\n      });\n      reveals.push(groupReveals);\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    // increment a delay for each group of reveal animations\n    let revealGroupDelay = window.theme.animation.delay;\n    // loop through each group\n    reveals.forEach((revealGroup, i) => {\n      revealGroupDelay = window.theme.animation.delay * i;\n\n      // loop through each reveal item in the group\n      revealGroup.forEach(revealItem => {\n        revealItem.play(revealGroupDelay);\n\n        if (revealItem.type === \"FadeUpSplitReveal\") {\n          revealGroupDelay +=\n            revealItem.lineCount * window.theme.animation.delay;\n        } else {\n          revealGroupDelay += window.theme.animation.delay;\n        }\n      });\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, add, contains } from \"@fluorescent/dom\";\nimport getMediaQuery from \"@/lib/media-queries\";\nimport {\n  FadeScaleReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  desktopRevealItem:\n    \".featured-collection-row__slider .animation-fade-up-split-reveal, .featured-collection-row__slider .animation-fade-up-reveal\",\n  mobileRevealItem:\n    \".featured-collection-row__header .animation-fade-up-split-reveal, .featured-collection-row__header .animation-fade-up-reveal\",\n  slideItems: \".featured-collection-row__slide\",\n};\n\nexport default node => {\n  let observer = null;\n  const sliderElement = qs(selectors.slider, node);\n  const columns = parseInt(node.dataset.columns);\n\n  const slideItems = qsa(selectors.slideItems, node);\n  let revealItems = [];\n\n  if (window.matchMedia(getMediaQuery(\"not-small\")).matches) {\n    revealItems = qsa(selectors.desktopRevealItem, node);\n  } else {\n    revealItems = qsa(selectors.mobileRevealItem, node);\n  }\n  const headerReveals = [];\n  const slideReveals = [];\n\n  if (shouldAnimate(node)) {\n    revealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        headerReveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        headerReveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n\n    slideItems.forEach((item, i) => {\n      if (i < columns) {\n        const slideItemReveals = [];\n        const image = qs(\".product-item__media .image\", item);\n        if (image) {\n          slideItemReveals.push(new FadeScaleReveal(image));\n        }\n\n        qsa(\n          \".product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        ).forEach(revealItem => {\n          slideItemReveals.push(new FadeUpReveal(revealItem));\n        });\n\n        slideReveals.push(slideItemReveals);\n      } else {\n        const slideAnimItems = qsa(\n          \".product-item__media .image, .product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        );\n\n        if (slideAnimItems) {\n          add(slideAnimItems, \"animation-initialized\");\n        }\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  sliderElement.style.opacity = 1;\n\n  function isVisible() {\n    let delay = 0;\n    headerReveals.forEach(reveal => {\n      reveal.play(delay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        delay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        delay += window.theme.animation.delay;\n      }\n    });\n\n    slideReveals.forEach(slide => {\n      let slideDelay = delay;\n      slide.forEach(reveal => {\n        reveal.play(slideDelay);\n        slideDelay += window.theme.animation.delay;\n      });\n      delay += window.theme.animation.delay;\n    });\n\n    setTimeout(() => {\n      add(node, \"animation--complete\");\n    }, (headerReveals.length + slideReveals.length) * window.theme.animation.duration);\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeScaleReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  group: \".section-header, .collection-item\",\n  revealItem:\n    \".animation-fade-up-split-reveal, .animation-fade-up-reveal, .image .image__reveal-container\",\n};\n\nexport default node => {\n  let observer = null;\n\n  // Each group has a staggered animation delay so we get each groups container\n  const revealGroup = qsa(selectors.group, node);\n\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    // Loop through each reveal group and initialize the reveals for each item in the group\n    revealGroup.forEach(item => {\n      const groupReveals = [];\n      qsa(selectors.revealItem, item).forEach(revealItem => {\n        // check which type of reveal needs to be initialized\n        if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n          groupReveals.push(new FadeUpSplitReveal(revealItem));\n        } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n          groupReveals.push(new FadeUpReveal(revealItem));\n        } else if (contains(revealItem, \"image__reveal-container\")) {\n          groupReveals.push(new FadeScaleReveal(revealItem));\n        }\n      });\n      reveals.push(groupReveals);\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    // increment a delay for each group of reveal animations\n    let revealGroupDelay = 0;\n    // loop through each group\n    reveals.forEach((revealGroup, i) => {\n      revealGroupDelay = window.theme.animation.delay * i;\n\n      // loop through each reveal item in the group\n      revealGroup.forEach(revealItem => {\n        revealItem.play(revealGroupDelay);\n\n        if (revealItem.type === \"FadeUpSplitReveal\") {\n          revealGroupDelay +=\n            revealItem.lineCount * window.theme.animation.delay;\n        } else {\n          revealGroupDelay += window.theme.animation.delay;\n        }\n      });\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { add, qsa } from \"@fluorescent/dom\";\nimport {\n  ImageReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  images: \".shoppable-feature__image, .shoppable-image__image\",\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nconst classes = {\n  revealed: \"revealed\",\n};\n\nexport default node => {\n  let observer = null;\n\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const images = qsa(selectors.images, node);\n  const textReveals = [];\n  const imageReveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      textReveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    images.forEach(image => {\n      imageReveals.push(new ImageReveal(image));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let totalDelay = 0;\n    let textDelay = 0;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n\n      totalDelay += textDelay;\n    });\n\n    let imageDelay = 0;\n    imageReveals.reverse().forEach((reveal, i) => {\n      imageDelay = window.theme.animation.delayLong * i;\n      reveal.play(imageDelay);\n\n      totalDelay += imageDelay;\n    });\n\n    setTimeout(() => {\n      add(node, classes.revealed);\n    }, totalDelay * 1000);\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa } from \"@fluorescent/dom\";\nimport {\n  ImageReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  map: \".map__element\",\n  imageReveal: \".image\",\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const mapItem = qs(selectors.map, node);\n  const imageItem = qs(selectors.imageReveal, node);\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      reveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      reveals.push(new FadeUpReveal(item));\n    });\n\n    if (mapItem) {\n      reveals.push(new FadeUpReveal(mapItem, { yStart: 0 }));\n    } else if (imageItem) {\n      reveals.push(new ImageReveal(imageItem));\n    }\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, add, contains } from \"@fluorescent/dom\";\nimport {\n  FadeScaleReveal,\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n  slideItems: \"[data-slide]\",\n};\n\nexport default node => {\n  let observer = null;\n  const sliderElement = qs(selectors.slider, node);\n  const columns = parseInt(node.dataset.columns);\n  const slideItems = qsa(selectors.slideItems, node);\n  const headerRevealItems = qsa(selectors.revealItem, node);\n  const headerReveals = [];\n  const slideReveals = [];\n\n  if (shouldAnimate(node)) {\n    headerRevealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        headerReveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        headerReveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n\n    slideItems.forEach((item, i) => {\n      if (i < columns) {\n        const slideItemReveals = [];\n        const image = qs(\n          \".product-item__media .image, .product-item__media .placeholder-image\",\n          item\n        );\n        if (image) {\n          slideItemReveals.push(new FadeScaleReveal(image));\n        }\n\n        qsa(\n          \".product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        ).forEach(revealItem => {\n          slideItemReveals.push(new FadeUpReveal(revealItem));\n        });\n\n        slideReveals.push(slideItemReveals);\n      } else {\n        const slideAnimItems = qsa(\n          \".product-item__media .image, .product-item__product-title, .product-item__price-wrapper, .product-item__badges\",\n          item\n        );\n\n        if (slideAnimItems) {\n          add(slideAnimItems, \"animation-initialized\");\n        }\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  sliderElement.style.opacity = 1;\n\n  function isVisible() {\n    let delay = 0;\n    headerReveals.forEach(reveal => {\n      reveal.play(delay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        delay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        delay += window.theme.animation.delay;\n      }\n    });\n\n    slideReveals.forEach(slide => {\n      let slideDelay = delay;\n      slide.forEach(reveal => {\n        reveal.play(slideDelay);\n        slideDelay += window.theme.animation.delay;\n      });\n      delay += window.theme.animation.delay;\n    });\n\n    setTimeout(() => {\n      add(node, \"animation--complete\");\n    }, (headerReveals.length + slideReveals.length) * window.theme.animation.duration);\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n\n  const revealItems = qsa(selectors.revealItem, node);\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    revealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        reveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        if (contains(revealItem, \"mosaic-grid__item\")) {\n          reveals.push(new FadeUpReveal(revealItem, { yStart: 0 }));\n        } else {\n          reveals.push(new FadeUpReveal(revealItem));\n        }\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n\n  const revealItems = qsa(selectors.revealItem, node);\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    revealItems.forEach(revealItem => {\n      // check which type of reveal needs to be initialized\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n        reveals.push(new FadeUpSplitReveal(revealItem));\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n        reveals.push(new FadeUpReveal(revealItem));\n      }\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qs, qsa, add, contains } from \"@fluorescent/dom\";\r\nimport { ImageReveal, FadeUpReveal, shouldAnimate } from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  details: \".product__details .animation-fade-up-reveal\",\r\n  images: \".product__media-container .product__media-item .image\",\r\n  featuredImage:\r\n    \".product__media-container .product__media-item:not(.hidden) .image\",\r\n  remainingImages:\r\n    \".product__media-container .product__media-item.hidden .image\",\r\n  detailsLeft: \".product__media-container .animation-fade-up-reveal\",\r\n};\r\n\r\nconst classes = {\r\n  isListStyle: \"product--gallery-style-list\",\r\n  isThumbnailStyle: \"product--gallery-style-thumbnails\",\r\n  isGridStyle: \"product--gallery-style-grid\",\r\n};\r\n\r\nexport default node => {\r\n  const revealsRight = [];\r\n  const revealsLeft = [];\r\n\r\n  const details = qsa(selectors.details, node);\r\n  const images = qsa(selectors.images, node);\r\n  const featuredImage = qs(selectors.featuredImage, node);\r\n  const remainingImages = qsa(selectors.remainingImages, node);\r\n  const detailsLeft = qsa(selectors.detailsLeft, node);\r\n\r\n  if (shouldAnimate(node)) {\r\n    details.forEach(item => {\r\n      revealsRight.push(new FadeUpReveal(item));\r\n    });\r\n\r\n    if (contains(node, classes.isListStyle)) {\r\n      images.forEach(image => {\r\n        revealsLeft.push(new ImageReveal(image));\r\n      });\r\n    } else if (contains(node, classes.isGridStyle)) {\r\n      // Grid layout doesn't look great with any animations\r\n      add(images, \"animation-initialized\");\r\n    } else if (contains(node, classes.isThumbnailStyle)) {\r\n      if (featuredImage) {\r\n        revealsLeft.push(new ImageReveal(featuredImage));\r\n      }\r\n\r\n      if (remainingImages) {\r\n        add(remainingImages, \"animation-initialized\");\r\n      }\r\n    }\r\n\r\n    detailsLeft.forEach(item => {\r\n      revealsLeft.push(new FadeUpReveal(item));\r\n    });\r\n\r\n    revealsRight.forEach((reveal, i) => {\r\n      reveal.play(window.theme.animation.delayExtraShort * i);\r\n    });\r\n    revealsLeft.forEach((reveal, i) => {\r\n      reveal.play(\r\n        window.theme.animation.delayExtraShort * i +\r\n          window.theme.animation.delayExtraShort\r\n      );\r\n    });\r\n\r\n    setTimeout(() => {\r\n      add(node, \"animation--complete\");\r\n    }, (revealsRight.length + revealsLeft.length) * window.theme.animation.duration);\r\n  }\r\n};\r\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    fadeUpItems.forEach(item => {\n      reveals.push(new FadeUpReveal(item, { yStart: \"40px\" }));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let delay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(delay);\n      delay += window.theme.animation.delay;\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\r\nimport {\r\n  FadeUpReveal,\r\n  intersectionWatcher,\r\n  shouldAnimate,\r\n} from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  fadeUp: \".animation-fade-up-reveal\",\r\n};\r\n\r\nexport default node => {\r\n  let observer = null;\r\n  const fadeUpItems = qsa(selectors.fadeUp, node);\r\n  const reveals = [];\r\n\r\n  if (shouldAnimate(node)) {\r\n    // Initialize animations and intersection observer\r\n    fadeUpItems.forEach(item => {\r\n      reveals.push(new FadeUpReveal(item));\r\n    });\r\n\r\n    observer = intersectionWatcher(node, { cb: isVisible });\r\n  }\r\n\r\n  function isVisible() {\r\n    let delay = 0;\r\n    reveals.forEach(reveal => {\r\n      reveal.play(delay);\r\n      delay += window.theme.animation.delay;\r\n    });\r\n  }\r\n\r\n  return {\r\n    destroy() {\r\n      observer?.destroy();\r\n    },\r\n  };\r\n};\r\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal:not(.animation-initialized)\",\n};\n\nexport default node => {\n  let observer = null;\n  let fadeUpItems = null;\n  let reveals = [];\n\n  _initializeItems(_initObserver);\n\n  function _initializeItems(cb) {\n    if (shouldAnimate(node)) {\n      fadeUpItems = qsa(selectors.fadeUp, node);\n      reveals = [];\n      // Initialize animations and intersection observer\n      fadeUpItems.forEach(item => {\n        reveals.push(new FadeUpReveal(item, { yStart: \"40px\" }));\n      });\n\n      if (typeof cb === \"function\") {\n        cb();\n      }\n    }\n  }\n\n  function _initObserver() {\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let delay = 0;\n    reveals.forEach(reveal => {\n      reveal.play(delay);\n      delay += window.theme.animation.delay;\n    });\n  }\n\n  function updateItems() {\n    _initializeItems(isVisible);\n  }\n\n  return {\n    updateItems,\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, add } from \"@fluorescent/dom\";\r\nimport {\r\n  FadeUpReveal,\r\n  intersectionWatcher,\r\n  shouldAnimate,\r\n} from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  fadeUp: \".animation-fade-up-reveal:not(.animation-initialized)\",\r\n};\r\n\r\nexport default node => {\r\n  let observer = null;\r\n  let fadeUpItems = null;\r\n  let reveals = [];\r\n\r\n  _initializeItems(_initObserver);\r\n\r\n  function _initializeItems(cb, resetItems) {\r\n    if (shouldAnimate(node)) {\r\n      fadeUpItems = qsa(selectors.fadeUp, node);\r\n\r\n      // When a filter has been applied to the collection\r\n      // items need to be fully reset.\r\n      if (resetItems) {\r\n        reveals = [];\r\n      }\r\n\r\n      // Initialize animations and intersection observer\r\n      fadeUpItems.forEach(item => {\r\n        reveals.push(new FadeUpReveal(item, { yStart: \"40px\" }));\r\n      });\r\n\r\n      if (typeof cb === \"function\") {\r\n        cb();\r\n      }\r\n    }\r\n  }\r\n\r\n  function _initObserver() {\r\n    observer = intersectionWatcher(node, { cb: isVisible });\r\n  }\r\n\r\n  function isVisible() {\r\n    let delay = 0;\r\n    reveals.forEach(reveal => {\r\n      reveal.play(delay);\r\n      delay += window.theme.animation.delay;\r\n    });\r\n\r\n    setTimeout(() => {\r\n      add(node, \"animation--complete\");\r\n    }, reveals.length * window.theme.animation.duration);\r\n  }\r\n\r\n  function updateItems(resetItems = true) {\r\n    _initializeItems(isVisible, resetItems);\r\n  }\r\n\r\n  return {\r\n    updateItems,\r\n    destroy() {\r\n      observer?.destroy();\r\n    },\r\n  };\r\n};\r\n","import { qs, qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  FadeScaleReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n  fadeScale: \".animation-scale-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeScale = qs(selectors.fadeScale, node);\n  const fadeUpSplitItem = qs(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const textReveals = [];\n  let videoReveal = null;\n\n  if (shouldAnimate(node)) {\n    videoReveal = new FadeScaleReveal(fadeScale, {\n      scaleStart: 1.25,\n    });\n\n    if (fadeUpSplitItem) {\n      textReveals.push(new FadeUpSplitReveal(fadeUpSplitItem));\n    }\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    videoReveal.play(0);\n\n    let textDelay = window.theme.animation.delay;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delayExtraShort;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa, contains } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  group: \".inline-features__item\",\n  revealItem: \".animation-fade-up-split-reveal, .animation-fade-up-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  // Each group has a staggered animation delay so we get each groups container\n  const revealGroup = qsa(selectors.group, node);\n\n  const reveals = [];\n\n  if (shouldAnimate(node)) {\n    // Initialize animations and intersection observer\n    // Loop through each reveal group and initialize the reveals for each item in the group\n    revealGroup.forEach(item => {\n      const groupReveals = [];\n      qsa(selectors.revealItem, item).forEach(revealItem => {\n        // check which type of reveal needs to be initialized\n        if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\n          groupReveals.push(new FadeUpSplitReveal(revealItem));\n        } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\n          groupReveals.push(new FadeUpReveal(revealItem));\n        }\n      });\n      reveals.push(groupReveals);\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let revealGroupDelay = 0;\n    reveals.forEach((revealGroup, i) => {\n      revealGroupDelay = window.theme.animation.delay * i;\n\n      revealGroup.forEach(revealItem => {\n        revealItem.play(revealGroupDelay);\n\n        revealGroupDelay += window.theme.animation.delayExtraShort;\n      });\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const textReveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      textReveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const textReveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      textReveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\nimport {\n  FadeUpReveal,\n  FadeUpSplitReveal,\n  intersectionWatcher,\n  shouldAnimate,\n} from \"@/lib/animation\";\n\nconst selectors = {\n  fadeUp: \".animation-fade-up-reveal\",\n  fadeUpSplit: \".animation-fade-up-split-reveal\",\n};\n\nexport default node => {\n  let observer = null;\n  const fadeUpSplitItems = qsa(selectors.fadeUpSplit, node);\n  const fadeUpItems = qsa(selectors.fadeUp, node);\n  const textReveals = [];\n\n  if (shouldAnimate(node)) {\n    fadeUpSplitItems.forEach(item => {\n      textReveals.push(new FadeUpSplitReveal(item));\n    });\n\n    fadeUpItems.forEach(item => {\n      textReveals.push(new FadeUpReveal(item));\n    });\n\n    observer = intersectionWatcher(node, { cb: isVisible });\n  }\n\n  function isVisible() {\n    let textDelay = 0;\n    textReveals.forEach(reveal => {\n      reveal.play(textDelay);\n\n      if (reveal.type === \"FadeUpSplitReveal\") {\n        textDelay += reveal.lineCount * window.theme.animation.delay;\n      } else {\n        textDelay += window.theme.animation.delay;\n      }\n    });\n  }\n\n  return {\n    destroy() {\n      observer?.destroy();\n    },\n  };\n};\n","import { qsa } from \"@fluorescent/dom\";\r\nimport {\r\n  FadeUpReveal,\r\n  intersectionWatcher,\r\n  shouldAnimate,\r\n} from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  fadeUp: \".animation-fade-up-reveal\",\r\n};\r\n\r\nexport default node => {\r\n  let observer = null;\r\n  const fadeUpItems = qsa(selectors.fadeUp, node);\r\n  const textReveals = [];\r\n\r\n  if (shouldAnimate(node)) {\r\n    fadeUpItems.forEach(item => {\r\n      textReveals.push(new FadeUpReveal(item));\r\n    });\r\n\r\n    observer = intersectionWatcher(node, { cb: isVisible });\r\n  }\r\n\r\n  function isVisible() {\r\n    let textDelay = window.theme.animation.delay;\r\n    textReveals.forEach(reveal => {\r\n      reveal.play(textDelay);\r\n      textDelay += window.theme.animation.delay;\r\n    });\r\n  }\r\n\r\n  return {\r\n    destroy() {\r\n      observer?.destroy();\r\n    },\r\n  };\r\n};\r\n","import { qs, qsa, contains } from \"@fluorescent/dom\";\r\nimport {\r\n  FadeUpReveal,\r\n  FadeScaleReveal,\r\n  FadeUpSplitReveal,\r\n  intersectionWatcher,\r\n  shouldAnimate,\r\n} from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  headerItems: \".section-header\",\r\n  eventItems: \".event-item\",\r\n  revealItem:\r\n    \".animation-fade-up-split-reveal, .animation-fade-up-reveal, .image .image__reveal-container\",\r\n};\r\n\r\nexport default node => {\r\n  let sectionIsVisible = false;\r\n  let observer = null;\r\n  // Each group has a staggered animation delay so we get each groups container\r\n  const headerItems = qs(selectors.headerItems, node);\r\n\r\n  const headerReveals = [];\r\n  let eventItemsReveals = [];\r\n\r\n  if (shouldAnimate(node)) {\r\n    // Initialize animations and intersection observer\r\n    // Loop through each reveal group and initialize the reveals for each item in the header\r\n    qsa(selectors.revealItem, headerItems).forEach(revealItem => {\r\n      // check which type of reveal needs to be initialized\r\n      if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\r\n        headerReveals.push(new FadeUpSplitReveal(revealItem));\r\n      } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\r\n        headerReveals.push(new FadeUpReveal(revealItem));\r\n      }\r\n    });\r\n\r\n    initEventItems();\r\n\r\n    observer = intersectionWatcher(node, { cb: isVisible });\r\n  }\r\n\r\n  function isVisible() {\r\n    sectionIsVisible = true;\r\n    // increment a delay for each group of reveal animations\r\n    let revealGroupDelay = window.theme.animation.delay;\r\n    // loop through each header reveal item in the group\r\n    headerReveals.forEach(revealItem => {\r\n      revealItem.play(revealGroupDelay);\r\n\r\n      if (revealItem.type === \"FadeUpSplitReveal\") {\r\n        revealGroupDelay += revealItem.lineCount * window.theme.animation.delay;\r\n      } else {\r\n        revealGroupDelay += window.theme.animation.delay;\r\n      }\r\n    });\r\n\r\n    animateEventItems();\r\n  }\r\n\r\n  function initEventItems() {\r\n    eventItemsReveals = [];\r\n\r\n    if (shouldAnimate(node)) {\r\n      const eventItems = qsa(selectors.eventItems, node);\r\n      eventItems.forEach(item => {\r\n        if (contains(item, \"event-item--skeleton\")) {\r\n          // animate skeletons differently than regular items\r\n          eventItemsReveals.push([new FadeUpReveal(item)]);\r\n        } else {\r\n          const groupReveals = [];\r\n          qsa(selectors.revealItem, item).forEach(revealItem => {\r\n            // check which type of reveal needs to be initialized\r\n            if (contains(revealItem, \"animation-fade-up-split-reveal\")) {\r\n              groupReveals.push(new FadeUpSplitReveal(revealItem));\r\n            } else if (contains(revealItem, \"animation-fade-up-reveal\")) {\r\n              groupReveals.push(new FadeUpReveal(revealItem));\r\n            } else if (contains(revealItem, \"image__reveal-container\")) {\r\n              groupReveals.push(new FadeScaleReveal(revealItem));\r\n            }\r\n          });\r\n          eventItemsReveals.push(groupReveals);\r\n        }\r\n      });\r\n\r\n      if (sectionIsVisible) {\r\n        animateEventItems();\r\n      }\r\n    }\r\n  }\r\n\r\n  function animateEventItems() {\r\n    // increment a delay for each item of reveal animations\r\n    let eventItemDelay = window.theme.animation.delay;\r\n    // loop through each group\r\n    eventItemsReveals.forEach((eventItem, i) => {\r\n      eventItemDelay = window.theme.animation.delay * i;\r\n\r\n      // loop through each reveal item in the group\r\n      eventItem.forEach(revealItem => {\r\n        revealItem.play(eventItemDelay);\r\n\r\n        if (revealItem.type === \"FadeUpSplitReveal\") {\r\n          eventItemDelay += revealItem.lineCount * window.theme.animation.delay;\r\n        } else {\r\n          eventItemDelay += window.theme.animation.delay;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  return {\r\n    initEventItems,\r\n    destroy() {\r\n      observer?.destroy();\r\n    },\r\n  };\r\n};\r\n","import { qs, add } from \"@fluorescent/dom\";\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * A complex image reveal animation with mask and scale transition.\n * @param {Object} node the target element for the animation\n * @param {Object} options optional default overrides\n * @options {Number} duration override the default duration\n */\nexport class ImageReveal {\n  constructor(node, options = {}) {\n    this.node = node;\n    this.type = \"ImageReveal\";\n\n    this.defaultOpts = {\n      duration: window.theme.animation.duration,\n    };\n    this.config = { ...this.defaultOpts, ...options };\n\n    this.imageEndY = \"0%\";\n\n    this.imageReveal = qs(\".image__reveal-container\", this.node);\n    this.img = qs(\".image__img\", this.node);\n\n    this.gsapImport = import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\n      gsap.registerPlugin(CustomEase);\n      this.imageEase = gsap.parseEase(window.theme.animation.ease);\n\n      gsap.set(this.imageReveal, { y: \"100%\" });\n      gsap.set(this.img, { y: \"-100%\", scale: 1.75 });\n\n      add(this.node, \"animation-initialized\");\n\n      return { gsap };\n    });\n  }\n\n  play(delay) {\n    this.gsapImport.then(({ gsap }) => {\n      gsap.to(this.imageReveal, {\n        y: \"0%\",\n        duration: this.config.duration,\n        delay: delay,\n        ease: this.imageEase,\n      });\n      gsap.to(this.img, {\n        y: 0,\n        duration: this.config.duration,\n        delay: delay,\n        ease: this.imageEase,\n      });\n      gsap.to(this.img, {\n        scale: 1,\n        duration: this.config.duration + this.config.duration / 2,\n        delay: delay,\n        ease: this.imageEase,\n      });\n    });\n  }\n}\n","import { add } from \"@fluorescent/dom\";\r\n\r\n// eslint-disable-next-line valid-jsdoc\r\n/**\r\n * A slide up and fade in reveal animation.\r\n * Can work on any type of element. Commonly used for subheadings, buttons, and images.\r\n * @param {Object} node the target element for the animation\r\n * @param {Object} options optional default overrides\r\n * @options {String} yStart the starting Y position\r\n * @options {Number} duration override the default duration\r\n */\r\nexport class FadeUpReveal {\r\n  constructor(node, options = {}) {\r\n    this.node = node;\r\n    this.defaultOpts = {\r\n      yStart: \"20px\",\r\n      duration: window.theme.animation.duration,\r\n    };\r\n    this.config = { ...this.defaultOpts, ...options };\r\n    this.type = \"FadeUpReveal\";\r\n\r\n    this.gsapImport = import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\r\n      gsap.registerPlugin(CustomEase);\r\n      this.itemEase = gsap.parseEase(window.theme.animation.ease);\r\n      gsap.set(this.node, { y: this.config.yStart, opacity: 0 });\r\n      add(this.node, \"animation-initialized\");\r\n\r\n      return { gsap };\r\n    });\r\n  }\r\n\r\n  init() {\r\n    this.gsapImport.then(({ gsap }) => {\r\n      gsap.set(this.node, { y: this.config.yStart, opacity: 0 });\r\n    });\r\n  }\r\n\r\n  play(delay = 0) {\r\n    this.gsapImport.then(({ gsap }) => {\r\n      gsap.to(this.node, {\r\n        y: 0,\r\n        opacity: 1,\r\n        duration: this.config.duration,\r\n        delay: delay,\r\n        ease: this.itemEase,\r\n        onComplete: function () {\r\n          gsap.set(this.targets(), { clearProps: \"opacity,y\" });\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { add } from \"@fluorescent/dom\";\n\n// eslint-disable-next-line valid-jsdoc\n/**\n * A scale down and fade in reveal animation.\n * Commonly used for images.\n * @param {Object} node the target element for the animation\n * @param {Object} options optional default overrides\n * @options {Number} scaleStart the starting scale value\n * @options {Number} duration override the default duration\n */\nexport class FadeScaleReveal {\n  constructor(node, options = {}) {\n    this.node = node;\n    this.defaultOpts = {\n      scaleStart: 1.2,\n      duration: window.theme.animation.duration,\n    };\n    this.config = { ...this.defaultOpts, ...options };\n    this.type = \"FadeScaleReveal\";\n\n    this.gsapImport = import(flu.chunks.gsap).then(({ gsap, CustomEase }) => {\n      gsap.registerPlugin(CustomEase);\n      this.itemEase = gsap.parseEase(window.theme.animation.ease);\n\n      gsap.set(this.node, { scale: this.config.scaleStart, opacity: 0 });\n\n      add(node, \"animation-initialized\");\n\n      return { gsap };\n    });\n  }\n\n  init() {\n    this.gsapImport.then(({ gsap }) => {\n      gsap.set(this.node, { scale: this.config.scaleStart, opacity: 0 });\n    });\n  }\n\n  play(delay = 0) {\n    this.gsapImport.then(({ gsap }) => {\n      gsap.to(this.node, {\n        scale: 1,\n        opacity: 1,\n        duration: this.config.duration,\n        delay: delay,\n        ease: this.itemEase,\n      });\n    });\n  }\n\n  reverse(delay = 0) {\n    this.gsapImport.then(({ gsap }) => {\n      gsap.set(this.node, { scale: 1, opacity: 1 });\n      gsap.to(this.node, {\n        scale: this.config.scaleStart,\n        opacity: 0,\n        duration: this.config.duration,\n        delay: delay,\n        ease: this.itemEase,\n      });\n    });\n  }\n}\n","import { add } from \"@fluorescent/dom\";\r\n\r\n// eslint-disable-next-line valid-jsdoc\r\n/**\r\n * A fade in and slide up reveal with split text lines\r\n * @param {Object} node the target element for the animation\r\n * @param {Object} options optional default overrides\r\n * @options {Number} duration override the default duration\r\n * @options {Number} stagger override the default stagger duration\r\n */\r\nexport class FadeUpSplitReveal {\r\n  constructor(node, options = {}) {\r\n    this.node = node;\r\n    this.defaultOpts = {\r\n      duration: window.theme.animation.duration,\r\n      stagger: window.theme.animation.delay,\r\n    };\r\n    this.config = { ...this.defaultOpts, ...options };\r\n    this.type = \"FadeUpSplitReveal\";\r\n\r\n    this.gsapImport = import(flu.chunks.gsap).then(\r\n      ({ gsap, CustomEase, SplitText }) => {\r\n        gsap.registerPlugin(CustomEase);\r\n        gsap.registerPlugin(SplitText);\r\n        this.itemEase = gsap.parseEase(window.theme.animation.ease);\r\n\r\n        this.splitItems = new SplitText(this.node, {\r\n          type: \"lines\",\r\n          linesClass: \"animation-fade-up-split-reveal__line\",\r\n          lineThreshold: 0.5,\r\n        });\r\n        this.lineCount = this.splitItems.lines.length;\r\n\r\n        gsap.set(this.splitItems.lines, { y: \"20px\", opacity: 0 });\r\n\r\n        add(this.node, \"animation-initialized\");\r\n\r\n        return { gsap };\r\n      }\r\n    );\r\n  }\r\n\r\n  play(delay = 0) {\r\n    this.gsapImport.then(({ gsap }) => {\r\n      gsap.to(this.splitItems.lines, {\r\n        y: 0,\r\n        opacity: 1,\r\n        duration: this.config.duration,\r\n        delay: delay,\r\n        stagger: this.config.stagger,\r\n        ease: this.itemEase,\r\n        onComplete: () => {\r\n          this.splitItems.revert();\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { add, remove, qs, qsa } from '@fluorescent/dom';\n\nimport { AnimateProductItem } from '@/lib/animation';\n\nconst selectors = {\n  item: '.product-item',\n  itemInner: '.product-item__inner',\n  quickShopButton: '.product-item__quick-add-button',\n  quickShopHeightTest: '.product-item__quick-add-button-text-height',\n};\n\nexport default function ProductItem(container) {\n  const items = qsa(selectors.item, container);\n  if (!items.length) return;\n\n  // Add z-index for quick-buy overlap\n  items.forEach((item, i) =>\n    item.style.setProperty('--z-index-item', items.length - i)\n  );\n\n  const productItemAnimations = AnimateProductItem(items);\n  let resizeTimeout;\n\n  // Update item height on window resize\n  window.onresize = function () {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(handleResize, 100);\n  };\n\n  checkQuickBuyTextHeight();\n\n  function handleResize() {\n    checkQuickBuyTextHeight();\n  }\n\n  function checkQuickBuyTextHeight() {\n    items.forEach(item => {\n      const quickShopButtonText = qs(`${selectors.quickShopButton} span`, item);\n      if (!quickShopButtonText) return;\n      const testHeight = qs(\n        selectors.quickShopHeightTest,\n        quickShopButtonText.parentNode\n      ).offsetHeight;\n      const textHeight = quickShopButtonText.offsetHeight;\n\n      if (textHeight > testHeight) {\n        add(quickShopButtonText.parentNode.parentNode, 'show-icon');\n      } else {\n        remove(quickShopButtonText.parentNode.parentNode, 'show-icon');\n      }\n    });\n  }\n\n  const unload = () => {\n    productItemAnimations.destroy();\n  };\n\n  return { unload };\n}\n","import { add, contains, qs, qsa, remove } from \"@fluorescent/dom\";\r\nimport Carousel from \"@/lib/carousel\";\r\n\r\nimport ProductItem from \"@/lib/product-item\";\r\n\r\nconst selectors = {\r\n  slider: \"[data-slider]\",\r\n  wrappingContainer: \".complementary-products\",\r\n  complementaryProducts: \"[data-complementary-products]\",\r\n  complementaryProductsContent: \"[data-complementary-products-content]\",\r\n};\r\n\r\nconst classes = {\r\n  hasSlider: \"complementary-products__content--has-slider\",\r\n  hidden: \"hidden\",\r\n};\r\n\r\nconst complementaryProducts = node => {\r\n  const complementaryProducts = qsa(selectors.complementaryProducts, node);\r\n\r\n  if (!complementaryProducts.length) return;\r\n\r\n  let productItems = [];\r\n  let carousels = [];\r\n\r\n  const {\r\n    recommendationsType,\r\n    productId: id,\r\n    sectionId,\r\n    layout,\r\n    maxRecommendations,\r\n  } = complementaryProducts[0].dataset;\r\n\r\n  if (recommendationsType === \"app-recommendations\") {\r\n    handleRecommendedProducts();\r\n  } else {\r\n    // Merchant is using custom product list\r\n    complementaryProducts.forEach(block => {\r\n      productItems.push(ProductItem(block));\r\n    });\r\n\r\n    initSlider();\r\n  }\r\n\r\n  function handleRecommendedProducts() {\r\n    const requestUrl = `${window.theme.routes.productRecommendations}?section_id=${sectionId}&limit=${maxRecommendations}&product_id=${id}&intent=complementary`;\r\n\r\n    fetch(requestUrl)\r\n      .then(response => response.text())\r\n      .then(text => {\r\n        const html = document.createElement(\"div\");\r\n        html.innerHTML = text;\r\n\r\n        const recommendations = qs(\r\n          selectors.complementaryProductsContent,\r\n          html\r\n        );\r\n\r\n        if (recommendations && recommendations.innerHTML.trim().length) {\r\n          complementaryProducts.forEach(\r\n            block => (block.innerHTML = recommendations.innerHTML)\r\n          );\r\n\r\n          complementaryProducts.forEach(block => {\r\n            productItems.push(ProductItem(block));\r\n          });\r\n\r\n          // Remove hidden flag as content has been fetched\r\n          complementaryProducts.forEach(block => {\r\n            remove(block.closest(selectors.wrappingContainer), classes.hidden);\r\n          });\r\n\r\n          initSlider();\r\n        }\r\n      })\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  function initSlider() {\r\n    if (layout !== \"slider\") return;\r\n\r\n    complementaryProducts.forEach(block => {\r\n      const sliderElement = qs(selectors.slider, block);\r\n\r\n      if (contains(sliderElement, classes.hasSlider)) {\r\n        carousels.push(\r\n          Carousel(block, \"complementary-products\", { wrapAround: false })\r\n        );\r\n        add(block, \"slider-enabled\");\r\n      }\r\n    });\r\n  }\r\n\r\n  function unload() {\r\n    productItems.forEach(item => item.unload());\r\n    carousels.forEach(carousel => carousel.destroy());\r\n  }\r\n\r\n  return { unload };\r\n};\r\n\r\nexport default complementaryProducts;\r\n","import { qs, qsa, listen } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  siblingProducts: \"[data-sibling-products]\",\r\n  siblingSwatch: \"[data-sibling-swatch]\",\r\n  siblingLabelEl: \"[data-sibling-label-value]\",\r\n};\r\n\r\nexport default function (container) {\r\n  const siblingProducts = qs(selectors.siblingProducts, container);\r\n  if (!siblingProducts) return;\r\n\r\n  const siblingSwatches = qsa(selectors.siblingSwatch, siblingProducts);\r\n  const labelValueEl = qs(selectors.siblingLabelEl, siblingProducts);\r\n  const baseLabel = labelValueEl.innerText;\r\n\r\n  const events = [];\r\n\r\n  siblingSwatches.forEach(item => {\r\n    events.push(\r\n      listen(item, \"mouseout\", () => handleOut()),\r\n      listen(item, \"mouseover\", e => handleOver(e))\r\n    );\r\n  });\r\n\r\n  function handleOver(e) {\r\n    const cutline = e.target.dataset.siblingCutline;\r\n    labelValueEl.innerText = cutline;\r\n  }\r\n\r\n  function handleOut() {\r\n    if (labelValueEl.innerText !== baseLabel) {\r\n      labelValueEl.innerText = baseLabel;\r\n    }\r\n  }\r\n\r\n  const unload = () => {\r\n    events.forEach(unsubscribe => unsubscribe());\r\n  };\r\n\r\n  return {\r\n    unload,\r\n  };\r\n}\r\n","import { add, qs, qsa, remove } from \"@fluorescent/dom\";\r\nimport { cart, getProduct } from \"@/glow\";\r\nimport { emit } from \"@/glow/events\";\r\n\r\nimport ProductForm from \"@/lib/product-form\";\r\nimport {\r\n  quantityInput,\r\n  updatePrices,\r\n  updateSku,\r\n  updateBuyButton,\r\n  optionButtons,\r\n  variantAvailability,\r\n} from \"@/lib/product\";\r\nimport { updateUnitPrices } from \"@/lib/unit-pricing\";\r\nimport dispatchCustomEvent from \"@/lib/dispatch-custom-event\";\r\n\r\nconst selectors = {\r\n  form: \"[data-product-form]\",\r\n  addToCart: \"[data-add-to-cart]\",\r\n  variantSelect: \"[data-variant-select]\",\r\n  optionById: id => `[value='${id}']`,\r\n  quantityError: \"[data-quantity-error]\",\r\n};\r\n\r\nexport default function QuickAddProductForm(node, openQuickCart) {\r\n  let productForm;\r\n  const formElement = qs(selectors.form, node);\r\n  const quantityError = qs(selectors.quantityError, node);\r\n\r\n  const { productHandle } = formElement.dataset;\r\n  const product = getProduct(productHandle);\r\n  product(data => {\r\n    productForm = ProductForm(node, formElement, data, {\r\n      onOptionChange: e => _onOptionChange(e),\r\n      onFormSubmit: e => _onFormSubmit(e),\r\n      onQuantityChange: e => _onQuantityChange(e),\r\n    });\r\n  }).then(() => {\r\n    dispatchCustomEvent(\"quickview:loaded\");\r\n  });\r\n\r\n  // Handle dynamic variant options\r\n  const dynamicVariantAvailability = variantAvailability(node);\r\n\r\n  const optionButtonsEls = optionButtons(qsa(\"[data-option-buttons]\", node));\r\n  const quantityInputEls = quantityInput(node);\r\n\r\n  // When the user changes a product option\r\n  function _onOptionChange({ dataset: { variant } }) {\r\n    const buyButton = qs(selectors.addToCart, node);\r\n\r\n    // Update prices to reflect selected variant\r\n    updatePrices(node, variant);\r\n\r\n    // Update buy button\r\n    updateBuyButton(buyButton, variant);\r\n\r\n    // Update unit pricing\r\n    updateUnitPrices(node, variant);\r\n\r\n    // Update sku\r\n    updateSku(node, variant);\r\n\r\n    dispatchCustomEvent(\"product:variant-change\", { variant: variant });\r\n\r\n    if (!variant) {\r\n      updateBuyButton(qs(\"[data-add-to-cart]\", node), false);\r\n\r\n      return;\r\n    }\r\n\r\n    // We need to set the id input manually so the Dynamic Checkout Button works\r\n    const selectedVariantOpt = qs(\r\n      `${selectors.variantSelect} ${selectors.optionById(variant.id)}`,\r\n      node\r\n    );\r\n    selectedVariantOpt.selected = true;\r\n  }\r\n\r\n  function _onFormSubmit(e) {\r\n    const { enableQuickCart } = document.body.dataset;\r\n\r\n    // If a featured product section is on the cart page we will need to refresh\r\n    // the cart to show a product has been added.\r\n    const cartPage = document.body.classList.contains(\"template-cart\");\r\n\r\n    if (!enableQuickCart || cartPage) return;\r\n\r\n    e.preventDefault();\r\n\r\n    add(quantityError, \"hidden\");\r\n\r\n    const button = qs(selectors.addToCart, node);\r\n    add(button, \"loading\");\r\n    cart\r\n      .addItem(formElement)\r\n      .then(({ item }) => {\r\n        remove(button, \"loading\");\r\n        add(button, \"item-added\");\r\n        emit(\"quick-add:close\");\r\n        if (openQuickCart) {\r\n          emit(\"cart:open\", null, { flash: item.variant_id });\r\n        }\r\n        dispatchCustomEvent(\"cart:item-added\", { product: item });\r\n      })\r\n      .catch(() => {\r\n        remove(quantityError, \"hidden\");\r\n        const button = qs(selectors.addToCart, node);\r\n        remove(button, \"loading\");\r\n      });\r\n  }\r\n\r\n  function _onQuantityChange({ dataset: { variant, quantity } }) {\r\n    // Adjust the hidden quantity input within the form\r\n    const quantityInputs = [...qsa('[name=\"quantity\"]', formElement)];\r\n    quantityInputs.forEach(quantityInput => {\r\n      quantityInput.value = quantity;\r\n    });\r\n\r\n    dispatchCustomEvent(\"product:quantity-update\", {\r\n      quantity: quantity,\r\n      variant: variant,\r\n    });\r\n  }\r\n\r\n  const unload = () => {\r\n    productForm && productForm.destroy();\r\n    optionButtonsEls.destroy();\r\n    quantityInputEls.unload();\r\n    dynamicVariantAvailability?.unload();\r\n  };\r\n\r\n  return { unload };\r\n}\r\n","import { createFocusTrap } from 'focus-trap';\nimport { add, listen, qs, qsa, remove } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport { on } from '@/glow/events';\nimport QuickAddProductForm from '@/lib/quick-add-product';\n\nconst classes = {\n  visible: 'is-visible',\n  active: 'active',\n  fixed: 'is-fixed',\n};\n\nconst selectors = {\n  closeBtn: '[data-quick-add-modal-close]',\n  wash: '.quick-add-modal__wash',\n  modalContent: '.quick-add-modal__content',\n};\n\nconst quickAddModal = node => {\n  const focusTrap = createFocusTrap(node, { allowOutsideClick: true });\n  const wash = qs(selectors.wash, node.parentNode);\n  const modalContent = qs(selectors.modalContent, node);\n  let productForm;\n\n  const events = [\n    listen([qs(selectors.closeBtn, node), wash], 'click', e => {\n      e.preventDefault();\n      _close();\n    }),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n    on(\n      'quick-add:open',\n      (state, { productContent, openQuickCart, quantity }) => {\n        _renderProductContent(productContent, openQuickCart, quantity);\n        _open();\n      }\n    ),\n    on('quick-add:close', () => {\n      _close();\n    }),\n  ];\n\n  const _renderProductContent = (content, openQuickCart, quantity) => {\n    let container = document.createElement('div');\n    container.innerHTML = content;\n\n    const productElement = qs('[data-quick-add-product]', container);\n\n    if (quantity > 1) {\n      const quantityInputs = qsa(\n        ['.product-form__input--quantity', '.product__input--quantity'],\n        container\n      );\n      quantityInputs.forEach(input => (input.value = quantity));\n    }\n\n    modalContent.appendChild(productElement);\n    productForm = QuickAddProductForm(modalContent, openQuickCart);\n  };\n\n  const _open = () => {\n    // Due to this component being shared between templates we have to\n    // animate around it being fixed to the window\n    add(node, classes.fixed);\n\n    setTimeout(() => {\n      add(node, classes.visible);\n      add(node, classes.active);\n    }, 50);\n\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  };\n\n  const _close = () => {\n    focusTrap.deactivate();\n    remove(node, classes.visible);\n    remove(node, classes.active);\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      remove(node, classes.fixed);\n      modalContent.innerHTML = '';\n      productForm.unload();\n    }, 300);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n};\n\nexport default quickAddModal;\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(initialEvent){\n\t\tfactory(window.lazySizes, initialEvent);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes, initialEvent) {\n\t'use strict';\n\tvar cloneElementClass;\n\tvar style = document.createElement('a').style;\n\tvar fitSupport = 'objectFit' in style;\n\tvar positionSupport = fitSupport && 'objectPosition' in style;\n\tvar regCssFit = /object-fit[\"']*\\s*:\\s*[\"']*(contain|cover)/;\n\tvar regCssPosition = /object-position[\"']*\\s*:\\s*[\"']*(.+?)(?=($|,|'|\"|;))/;\n\tvar blankSrc = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\tvar regBgUrlEscape = /\\(|\\)|'/;\n\tvar positionDefaults = {\n\t\tcenter: 'center',\n\t\t'50% 50%': 'center',\n\t};\n\n\tfunction getObject(element){\n\t\tvar css = (getComputedStyle(element, null) || {});\n\t\tvar content = css.fontFamily || '';\n\t\tvar objectFit = content.match(regCssFit) || '';\n\t\tvar objectPosition = objectFit && content.match(regCssPosition) || '';\n\n\t\tif(objectPosition){\n\t\t\tobjectPosition = objectPosition[1];\n\t\t}\n\n\t\treturn {\n\t\t\tfit: objectFit && objectFit[1] || '',\n\t\t\tposition: positionDefaults[objectPosition] || objectPosition || 'center',\n\t\t};\n\t}\n\n\tfunction generateStyleClass() {\n\t\tif (cloneElementClass) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar styleElement = document.createElement('style');\n\n\t\tcloneElementClass = lazySizes.cfg.objectFitClass || 'lazysizes-display-clone';\n\n\t\tdocument.querySelector('head').appendChild(styleElement);\n\t}\n\n\tfunction removePrevClone(element) {\n\t\tvar prev = element.previousElementSibling;\n\n\t\tif (prev && lazySizes.hC(prev, cloneElementClass)) {\n\t\t\tprev.parentNode.removeChild(prev);\n\t\t\telement.style.position = prev.getAttribute('data-position') || '';\n\t\t\telement.style.visibility = prev.getAttribute('data-visibility') || '';\n\t\t}\n\t}\n\n\tfunction initFix(element, config){\n\t\tvar switchClassesAdded, addedSrc, styleElement, styleElementStyle;\n\t\tvar lazysizesCfg = lazySizes.cfg;\n\n\t\tvar onChange = function(){\n\t\t\tvar src = element.currentSrc || element.src;\n\n\t\t\tif(src && addedSrc !== src){\n\t\t\t\taddedSrc = src;\n\t\t\t\tstyleElementStyle.backgroundImage = 'url(' + (regBgUrlEscape.test(src) ? JSON.stringify(src) : src ) + ')';\n\n\t\t\t\tif(!switchClassesAdded){\n\t\t\t\t\tswitchClassesAdded = true;\n\t\t\t\t\tlazySizes.rC(styleElement, lazysizesCfg.loadingClass);\n\t\t\t\t\tlazySizes.aC(styleElement, lazysizesCfg.loadedClass);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar rafedOnChange = function(){\n\t\t\tlazySizes.rAF(onChange);\n\t\t};\n\n\t\telement._lazysizesParentFit = config.fit;\n\n\t\telement.addEventListener('lazyloaded', rafedOnChange, true);\n\t\telement.addEventListener('load', rafedOnChange, true);\n\n\t\tlazySizes.rAF(function(){\n\n\t\t\tvar hideElement = element;\n\t\t\tvar container = element.parentNode;\n\n\t\t\tif(container.nodeName.toUpperCase() == 'PICTURE'){\n\t\t\t\thideElement = container;\n\t\t\t\tcontainer = container.parentNode;\n\t\t\t}\n\n\t\t\tremovePrevClone(hideElement);\n\n\t\t\tif (!cloneElementClass) {\n\t\t\t\tgenerateStyleClass();\n\t\t\t}\n\n\t\t\tstyleElement = element.cloneNode(false);\n\t\t\tstyleElementStyle = styleElement.style;\n\n\t\t\tstyleElement.addEventListener('load', function(){\n\t\t\t\tvar curSrc = styleElement.currentSrc || styleElement.src;\n\n\t\t\t\tif(curSrc && curSrc != blankSrc){\n\t\t\t\t\tstyleElement.src = blankSrc;\n\t\t\t\t\tstyleElement.srcset = '';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.loadedClass);\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.lazyClass);\n\t\t\tlazySizes.rC(styleElement, lazysizesCfg.autosizesClass);\n\t\t\tlazySizes.aC(styleElement, lazysizesCfg.loadingClass);\n\t\t\tlazySizes.aC(styleElement, cloneElementClass);\n\n\t\t\t['data-parent-fit', 'data-parent-container', 'data-object-fit-polyfilled',\n\t\t\t\tlazysizesCfg.srcsetAttr, lazysizesCfg.srcAttr].forEach(function(attr) {\n\t\t\t\tstyleElement.removeAttribute(attr);\n\t\t\t});\n\n\t\t\tstyleElement.src = blankSrc;\n\t\t\tstyleElement.srcset = '';\n\n\t\t\tstyleElementStyle.backgroundRepeat = 'no-repeat';\n\t\t\tstyleElementStyle.backgroundPosition = config.position;\n\t\t\tstyleElementStyle.backgroundSize = config.fit;\n\n\t\t\tstyleElement.setAttribute('data-position', hideElement.style.position);\n\t\t\tstyleElement.setAttribute('data-visibility', hideElement.style.visibility);\n\n\t\t\thideElement.style.visibility = 'hidden';\n\t\t\thideElement.style.position = 'absolute';\n\n\t\t\telement.setAttribute('data-parent-fit', config.fit);\n\t\t\telement.setAttribute('data-parent-container', 'prev');\n\t\t\telement.setAttribute('data-object-fit-polyfilled', '');\n\t\t\telement._objectFitPolyfilledDisplay = styleElement;\n\n\t\t\tcontainer.insertBefore(styleElement, hideElement);\n\n\t\t\tif(element._lazysizesParentFit){\n\t\t\t\tdelete element._lazysizesParentFit;\n\t\t\t}\n\n\t\t\tif(element.complete){\n\t\t\t\tonChange();\n\t\t\t}\n\t\t});\n\t}\n\n\tif(!fitSupport || !positionSupport){\n\t\tvar onRead = function(e){\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\t\tvar element = e.target;\n\t\t\tvar obj = getObject(element);\n\n\t\t\tif(obj.fit && (!fitSupport || (obj.position != 'center'))){\n\t\t\t\tinitFix(element, obj);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\twindow.addEventListener('lazybeforesizes', function(e) {\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\t\t\tvar element = e.target;\n\n\t\t\tif (element.getAttribute('data-object-fit-polyfilled') != null && !element._objectFitPolyfilledDisplay) {\n\t\t\t\tif(!onRead(e)){\n\t\t\t\t\tlazySizes.rAF(function () {\n\t\t\t\t\t\telement.removeAttribute('data-object-fit-polyfilled');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\twindow.addEventListener('lazyunveilread', onRead, true);\n\n\t\tif(initialEvent && initialEvent.detail){\n\t\t\tonRead(initialEvent);\n\t\t}\n\t}\n}));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t'use strict';\n\n\tif(!window.addEventListener){return;}\n\n\tvar regDescriptors = /\\s+(\\d+)(w|h)\\s+(\\d+)(w|h)/;\n\tvar regCssFit = /parent-fit[\"']*\\s*:\\s*[\"']*(contain|cover|width)/;\n\tvar regCssObject = /parent-container[\"']*\\s*:\\s*[\"']*(.+?)(?=(\\s|$|,|'|\"|;))/;\n\tvar regPicture = /^picture$/i;\n\tvar cfg = lazySizes.cfg;\n\n\tvar getCSS = function (elem){\n\t\treturn (getComputedStyle(elem, null) || {});\n\t};\n\n\tvar parentFit = {\n\n\t\tgetParent: function(element, parentSel){\n\t\t\tvar parent = element;\n\t\t\tvar parentNode = element.parentNode;\n\n\t\t\tif((!parentSel || parentSel == 'prev') && parentNode && regPicture.test(parentNode.nodeName || '')){\n\t\t\t\tparentNode = parentNode.parentNode;\n\t\t\t}\n\n\t\t\tif(parentSel != 'self'){\n\t\t\t\tif(parentSel == 'prev'){\n\t\t\t\t\tparent = element.previousElementSibling;\n\t\t\t\t} else if(parentSel && (parentNode.closest || window.jQuery)){\n\t\t\t\t\tparent = (parentNode.closest ?\n\t\t\t\t\t\t\tparentNode.closest(parentSel) :\n\t\t\t\t\t\t\tjQuery(parentNode).closest(parentSel)[0]) ||\n\t\t\t\t\t\tparentNode\n\t\t\t\t\t;\n\t\t\t\t} else {\n\t\t\t\t\tparent = parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn parent;\n\t\t},\n\n\t\tgetFit: function(element){\n\t\t\tvar tmpMatch, parentObj;\n\t\t\tvar css = getCSS(element);\n\t\t\tvar content = css.content || css.fontFamily;\n\t\t\tvar obj = {\n\t\t\t\tfit: element._lazysizesParentFit || element.getAttribute('data-parent-fit')\n\t\t\t};\n\n\t\t\tif(!obj.fit && content && (tmpMatch = content.match(regCssFit))){\n\t\t\t\tobj.fit = tmpMatch[1];\n\t\t\t}\n\n\t\t\tif(obj.fit){\n\t\t\t\tparentObj = element._lazysizesParentContainer || element.getAttribute('data-parent-container');\n\n\t\t\t\tif(!parentObj && content && (tmpMatch = content.match(regCssObject))){\n\t\t\t\t\tparentObj = tmpMatch[1];\n\t\t\t\t}\n\n\t\t\t\tobj.parent = parentFit.getParent(element, parentObj);\n\n\n\t\t\t} else {\n\t\t\t\tobj.fit = css.objectFit;\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\n\t\tgetImageRatio: function(element){\n\t\t\tvar i, srcset, media, ratio, match, width, height;\n\t\t\tvar parent = element.parentNode;\n\t\t\tvar elements = parent && regPicture.test(parent.nodeName || '') ?\n\t\t\t\t\tparent.querySelectorAll('source, img') :\n\t\t\t\t\t[element]\n\t\t\t\t;\n\n\t\t\tfor(i = 0; i < elements.length; i++){\n\t\t\t\telement = elements[i];\n\t\t\t\tsrcset = element.getAttribute(cfg.srcsetAttr) || element.getAttribute('srcset') || element.getAttribute('data-pfsrcset') || element.getAttribute('data-risrcset') || '';\n\t\t\t\tmedia = element._lsMedia || element.getAttribute('media');\n\t\t\t\tmedia = cfg.customMedia[element.getAttribute('data-media') || media] || media;\n\n\t\t\t\tif(srcset && (!media || (window.matchMedia && matchMedia(media) || {}).matches )){\n\t\t\t\t\tratio = parseFloat(element.getAttribute('data-aspectratio'));\n\n\t\t\t\t\tif (!ratio) {\n\t\t\t\t\t\tmatch = srcset.match(regDescriptors);\n\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\tif(match[2] == 'w'){\n\t\t\t\t\t\t\t\twidth = match[1];\n\t\t\t\t\t\t\t\theight = match[3];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twidth = match[3];\n\t\t\t\t\t\t\t\theight = match[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidth = element.getAttribute('width');\n\t\t\t\t\t\t\theight = element.getAttribute('height');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tratio = width / height;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ratio;\n\t\t},\n\n\t\tcalculateSize: function(element, width){\n\t\t\tvar displayRatio, height, imageRatio, retWidth;\n\t\t\tvar fitObj = this.getFit(element);\n\t\t\tvar fit = fitObj.fit;\n\t\t\tvar fitElem = fitObj.parent;\n\n\t\t\tif(fit != 'width' && ((fit != 'contain' && fit != 'cover') || !(imageRatio = this.getImageRatio(element)))){\n\t\t\t\treturn width;\n\t\t\t}\n\n\t\t\tif(fitElem){\n\t\t\t\twidth = fitElem.clientWidth;\n\t\t\t} else {\n\t\t\t\tfitElem = element;\n\t\t\t}\n\n\t\t\tretWidth = width;\n\n\t\t\tif(fit == 'width'){\n\t\t\t\tretWidth = width;\n\t\t\t} else {\n\t\t\t\theight = fitElem.clientHeight;\n\n\t\t\t\tif((displayRatio =  width / height) && ((fit == 'cover' && displayRatio < imageRatio) || (fit == 'contain' && displayRatio > imageRatio))){\n\t\t\t\t\tretWidth = width * (imageRatio / displayRatio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn retWidth;\n\t\t}\n\t};\n\n\tlazySizes.parentFit = parentFit;\n\n\tdocument.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.defaultPrevented || e.detail.instance != lazySizes){return;}\n\n\t\tvar element = e.target;\n\t\te.detail.width = parentFit.calculateSize(element, e.detail.width);\n\t});\n}));\n","(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\n\tvar config, riasCfg;\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar replaceTypes = {string: 1, number: 1};\n\tvar regNumber = /^\\-*\\+*\\d+\\.*\\d*$/;\n\tvar regPicture = /^picture$/i;\n\tvar regWidth = /\\s*\\{\\s*width\\s*\\}\\s*/i;\n\tvar regHeight = /\\s*\\{\\s*height\\s*\\}\\s*/i;\n\tvar regPlaceholder = /\\s*\\{\\s*([a-z0-9]+)\\s*\\}\\s*/ig;\n\tvar regObj = /^\\[.*\\]|\\{.*\\}$/;\n\tvar regAllowedSizes = /^(?:auto|\\d+(px)?)$/;\n\tvar anchor = document.createElement('a');\n\tvar img = document.createElement('img');\n\tvar buggySizes = ('srcset' in img) && !('sizes' in img);\n\tvar supportPicture = !!window.HTMLPictureElement && !buggySizes;\n\n\t(function(){\n\t\tvar prop;\n\t\tvar noop = function(){};\n\t\tvar riasDefaults = {\n\t\t\tprefix: '',\n\t\t\tpostfix: '',\n\t\t\tsrcAttr: 'data-src',\n\t\t\tabsUrl: false,\n\t\t\tmodifyOptions: noop,\n\t\t\twidthmap: {},\n\t\t\tratio: false,\n\t\t\ttraditionalRatio: false,\n\t\t\taspectratio: false,\n\t\t};\n\n\t\tconfig = lazySizes && lazySizes.cfg;\n\n\t\tif(!config.supportsType){\n\t\t\tconfig.supportsType = function(type/*, elem*/){\n\t\t\t\treturn !type;\n\t\t\t};\n\t\t}\n\n\t\tif(!config.rias){\n\t\t\tconfig.rias = {};\n\t\t}\n\t\triasCfg = config.rias;\n\n\t\tif(!('widths' in riasCfg)){\n\t\t\triasCfg.widths = [];\n\t\t\t(function (widths){\n\t\t\t\tvar width;\n\t\t\t\tvar i = 0;\n\t\t\t\twhile(!width || width < 3000){\n\t\t\t\t\ti += 5;\n\t\t\t\t\tif(i > 30){\n\t\t\t\t\t\ti += 1;\n\t\t\t\t\t}\n\t\t\t\t\twidth = (36 * i);\n\t\t\t\t\twidths.push(width);\n\t\t\t\t}\n\t\t\t})(riasCfg.widths);\n\t\t}\n\n\t\tfor(prop in riasDefaults){\n\t\t\tif(!(prop in riasCfg)){\n\t\t\t\triasCfg[prop] = riasDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tfunction getElementOptions(elem, src, options){\n\t\tvar attr, parent, setOption, prop, opts;\n\t\tvar elemStyles = window.getComputedStyle(elem);\n\n\t\tif (!options) {\n\t\t\tparent = elem.parentNode;\n\n\t\t\toptions = {\n\t\t\t\tisPicture: !!(parent && regPicture.test(parent.nodeName || ''))\n\t\t\t};\n\t\t} else {\n\t\t\topts = {};\n\n\t\t\tfor (prop in options) {\n\t\t\t\topts[prop] = options[prop];\n\t\t\t}\n\n\t\t\toptions = opts;\n\t\t}\n\n\t\tsetOption = function(attr, run){\n\t\t\tvar attrVal = elem.getAttribute('data-'+ attr);\n\n\t\t\tif (!attrVal) {\n\t\t\t\t// no data- attr, get value from the CSS\n\t\t\t\tvar styles = elemStyles.getPropertyValue('--ls-' + attr);\n\t\t\t\t// at least Safari 9 returns null rather than\n\t\t\t\t// an empty string for getPropertyValue causing\n\t\t\t\t// .trim() to fail\n\t\t\t\tif (styles) {\n\t\t\t\t\tattrVal = styles.trim();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (attrVal) {\n\t\t\t\tif(attrVal == 'true'){\n\t\t\t\t\tattrVal = true;\n\t\t\t\t} else if(attrVal == 'false'){\n\t\t\t\t\tattrVal = false;\n\t\t\t\t} else if(regNumber.test(attrVal)){\n\t\t\t\t\tattrVal = parseFloat(attrVal);\n\t\t\t\t} else if(typeof riasCfg[attr] == 'function'){\n\t\t\t\t\tattrVal = riasCfg[attr](elem, attrVal);\n\t\t\t\t} else if(regObj.test(attrVal)){\n\t\t\t\t\ttry {\n\t\t\t\t\t\tattrVal = JSON.parse(attrVal);\n\t\t\t\t\t} catch(e){}\n\t\t\t\t}\n\t\t\t\toptions[attr] = attrVal;\n\t\t\t} else if((attr in riasCfg) && typeof riasCfg[attr] != 'function' && !options[attr]){\n\t\t\t\toptions[attr] = riasCfg[attr];\n\t\t\t} else if(run && typeof riasCfg[attr] == 'function'){\n\t\t\t\toptions[attr] = riasCfg[attr](elem, attrVal);\n\t\t\t}\n\t\t};\n\n\t\tfor(attr in riasCfg){\n\t\t\tsetOption(attr);\n\t\t}\n\t\tsrc.replace(regPlaceholder, function(full, match){\n\t\t\tif(!(match in options)){\n\t\t\t\tsetOption(match, true);\n\t\t\t}\n\t\t});\n\n\t\treturn options;\n\t}\n\n\tfunction replaceUrlProps(url, options){\n\t\tvar candidates = [];\n\t\tvar replaceFn = function(full, match){\n\t\t\treturn (replaceTypes[typeof options[match]]) ? options[match] : full;\n\t\t};\n\t\tcandidates.srcset = [];\n\n\t\tif(options.absUrl){\n\t\t\tanchor.setAttribute('href', url);\n\t\t\turl = anchor.href;\n\t\t}\n\n\t\turl = ((options.prefix || '') + url + (options.postfix || '')).replace(regPlaceholder, replaceFn);\n\n\t\toptions.widths.forEach(function(width){\n\t\t\tvar widthAlias = options.widthmap[width] || width;\n\t\t\tvar ratio = options.aspectratio || options.ratio;\n\t\t\tvar traditionalRatio = !options.aspectratio && riasCfg.traditionalRatio;\n\t\t\tvar candidate = {\n\t\t\t\tu: url.replace(regWidth, widthAlias)\n\t\t\t\t\t\t.replace(regHeight, ratio ?\n\t\t\t\t\t\t\ttraditionalRatio ?\n\t\t\t\t\t\t\t\tMath.round(width * ratio) :\n\t\t\t\t\t\t\t\tMath.round(width / ratio)\n\t\t\t\t\t\t\t: ''),\n\t\t\t\tw: width\n\t\t\t};\n\n\t\t\tcandidates.push(candidate);\n\t\t\tcandidates.srcset.push( (candidate.c = candidate.u + ' ' + width + 'w') );\n\t\t});\n\t\treturn candidates;\n\t}\n\n\tfunction setSrc(src, opts, elem){\n\t\tvar elemW = 0;\n\t\tvar elemH = 0;\n\t\tvar sizeElement = elem;\n\n\t\tif(!src){return;}\n\n\t\tif (opts.ratio === 'container') {\n\t\t\t// calculate image or parent ratio\n\t\t\telemW = sizeElement.scrollWidth;\n\t\t\telemH = sizeElement.scrollHeight;\n\n\t\t\twhile ((!elemW || !elemH) && sizeElement !== document) {\n\t\t\t\tsizeElement = sizeElement.parentNode;\n\t\t\t\telemW = sizeElement.scrollWidth;\n\t\t\t\telemH = sizeElement.scrollHeight;\n\t\t\t}\n\t\t\tif (elemW && elemH) {\n\t\t\t\topts.ratio = opts.traditionalRatio ? elemH / elemW : elemW / elemH;\n\t\t\t}\n\t\t}\n\n\t\tsrc = replaceUrlProps(src, opts);\n\n\t\tsrc.isPicture = opts.isPicture;\n\n\t\tif(buggySizes && elem.nodeName.toUpperCase() == 'IMG'){\n\t\t\telem.removeAttribute(config.srcsetAttr);\n\t\t} else {\n\t\t\telem.setAttribute(config.srcsetAttr, src.srcset.join(', '));\n\t\t}\n\n\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\tvalue: src,\n\t\t\twritable: true\n\t\t});\n\t}\n\n\tfunction createAttrObject(elem, src){\n\t\tvar opts = getElementOptions(elem, src);\n\n\t\triasCfg.modifyOptions.call(elem, {target: elem, details: opts, detail: opts});\n\n\t\tlazySizes.fire(elem, 'lazyriasmodifyoptions', opts);\n\t\treturn opts;\n\t}\n\n\tfunction getSrc(elem){\n\t\treturn elem.getAttribute( elem.getAttribute('data-srcattr') || riasCfg.srcAttr ) || elem.getAttribute(config.srcsetAttr) || elem.getAttribute(config.srcAttr) || elem.getAttribute('data-pfsrcset') || '';\n\t}\n\n\taddEventListener('lazybeforesizes', function(e){\n\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\tvar elem, src, elemOpts, sourceOpts, parent, sources, i, len, sourceSrc, sizes, detail, hasPlaceholder, modified, emptyList;\n\t\telem = e.target;\n\n\t\tif(!e.detail.dataAttr || e.defaultPrevented || riasCfg.disabled || !((sizes = elem.getAttribute(config.sizesAttr) || elem.getAttribute('sizes')) && regAllowedSizes.test(sizes))){return;}\n\n\t\tsrc = getSrc(elem);\n\n\t\telemOpts = createAttrObject(elem, src);\n\n\t\thasPlaceholder = regWidth.test(elemOpts.prefix) || regWidth.test(elemOpts.postfix);\n\n\t\tif(elemOpts.isPicture && (parent = elem.parentNode)){\n\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\tif ( hasPlaceholder || regWidth.test(sourceSrc = getSrc(sources[i])) ){\n\t\t\t\t\tsourceOpts = getElementOptions(sources[i], sourceSrc, elemOpts);\n\t\t\t\t\tsetSrc(sourceSrc, sourceOpts, sources[i]);\n\t\t\t\t\tmodified = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( hasPlaceholder || regWidth.test(src) ){\n\t\t\tsetSrc(src, elemOpts, elem);\n\t\t\tmodified = true;\n\t\t} else if (modified) {\n\t\t\temptyList = [];\n\t\t\temptyList.srcset = [];\n\t\t\temptyList.isPicture = true;\n\t\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\t\tvalue: emptyList,\n\t\t\t\twritable: true\n\t\t\t});\n\t\t}\n\n\t\tif(modified){\n\t\t\tif(supportPicture){\n\t\t\t\telem.removeAttribute(config.srcAttr);\n\t\t\t} else if(sizes != 'auto') {\n\t\t\t\tdetail = {\n\t\t\t\t\twidth: parseInt(sizes, 10)\n\t\t\t\t};\n\t\t\t\tpolyfill({\n\t\t\t\t\ttarget: elem,\n\t\t\t\t\tdetail: detail\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, true);\n\t// partial polyfill\n\tvar polyfill = (function(){\n\t\tvar ascendingSort = function( a, b ) {\n\t\t\treturn a.w - b.w;\n\t\t};\n\n\t\tvar reduceCandidate = function (srces) {\n\t\t\tvar lowerCandidate, bonusFactor;\n\t\t\tvar len = srces.length;\n\t\t\tvar candidate = srces[len -1];\n\t\t\tvar i = 0;\n\n\t\t\tfor(i; i < len;i++){\n\t\t\t\tcandidate = srces[i];\n\t\t\t\tcandidate.d = candidate.w / srces.w;\n\t\t\t\tif(candidate.d >= srces.d){\n\t\t\t\t\tif(!candidate.cached && (lowerCandidate = srces[i - 1]) &&\n\t\t\t\t\t\tlowerCandidate.d > srces.d - (0.13 * Math.pow(srces.d, 2.2))){\n\n\t\t\t\t\t\tbonusFactor = Math.pow(lowerCandidate.d - 0.6, 1.6);\n\n\t\t\t\t\t\tif(lowerCandidate.cached) {\n\t\t\t\t\t\t\tlowerCandidate.d += 0.15 * bonusFactor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(lowerCandidate.d + ((candidate.d - srces.d) * bonusFactor) > srces.d){\n\t\t\t\t\t\t\tcandidate = lowerCandidate;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn candidate;\n\t\t};\n\n\t\tvar getWSet = function(elem, testPicture){\n\t\t\tvar src;\n\t\t\tif(!elem._lazyrias && lazySizes.pWS && (src = lazySizes.pWS(elem.getAttribute(config.srcsetAttr || ''))).length){\n\t\t\t\tObject.defineProperty(elem, '_lazyrias', {\n\t\t\t\t\tvalue: src,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t\tif(testPicture && elem.parentNode){\n\t\t\t\t\tsrc.isPicture = elem.parentNode.nodeName.toUpperCase() == 'PICTURE';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn elem._lazyrias;\n\t\t};\n\n\t\tvar getX = function(elem){\n\t\t\tvar dpr = window.devicePixelRatio || 1;\n\t\t\tvar optimum = lazySizes.getX && lazySizes.getX(elem);\n\t\t\treturn Math.min(optimum || dpr, 2.4, dpr);\n\t\t};\n\n\t\tvar getCandidate = function(elem, width){\n\t\t\tvar sources, i, len, media, srces, src;\n\n\t\t\tsrces = elem._lazyrias;\n\n\t\t\tif(srces.isPicture && window.matchMedia){\n\t\t\t\tfor(i = 0, sources = elem.parentNode.getElementsByTagName('source'), len = sources.length; i < len; i++){\n\t\t\t\t\tif(getWSet(sources[i]) && !sources[i].getAttribute('type') && ( !(media = sources[i].getAttribute('media')) || ((matchMedia(media) || {}).matches))){\n\t\t\t\t\t\tsrces = sources[i]._lazyrias;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!srces.w || srces.w < width){\n\t\t\t\tsrces.w = width;\n\t\t\t\tsrces.d = getX(elem);\n\t\t\t\tsrc = reduceCandidate(srces.sort(ascendingSort));\n\t\t\t}\n\n\t\t\treturn src;\n\t\t};\n\n\t\tvar polyfill = function(e){\n\t\t\tif(e.detail.instance != lazySizes){return;}\n\n\t\t\tvar candidate;\n\t\t\tvar elem = e.target;\n\n\t\t\tif(!buggySizes && (window.respimage || window.picturefill || lazySizesCfg.pf)){\n\t\t\t\tdocument.removeEventListener('lazybeforesizes', polyfill);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!('_lazyrias' in elem) && (!e.detail.dataAttr || !getWSet(elem, true))){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcandidate = getCandidate(elem, e.detail.width);\n\n\t\t\tif(candidate && candidate.u && elem._lazyrias.cur != candidate.u){\n\t\t\t\telem._lazyrias.cur = candidate.u;\n\t\t\t\tcandidate.cached = true;\n\t\t\t\tlazySizes.rAF(function(){\n\t\t\t\t\telem.setAttribute(config.srcAttr, candidate.u);\n\t\t\t\t\telem.setAttribute('src', candidate.u);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tif(!supportPicture){\n\t\t\taddEventListener('lazybeforesizes', polyfill);\n\t\t} else {\n\t\t\tpolyfill = function(){};\n\t\t}\n\n\t\treturn polyfill;\n\n\t})();\n\n}));\n","(function(window, factory) {\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(window, function(window, document, lazySizes) {\n\t'use strict';\n\tif(!window.addEventListener){return;}\n\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar regWhite = /\\s+/g;\n\tvar regSplitSet = /\\s*\\|\\s+|\\s+\\|\\s*/g;\n\tvar regSource = /^(.+?)(?:\\s+\\[\\s*(.+?)\\s*\\])(?:\\s+\\[\\s*(.+?)\\s*\\])?$/;\n\tvar regType = /^\\s*\\(*\\s*type\\s*:\\s*(.+?)\\s*\\)*\\s*$/;\n\tvar regBgUrlEscape = /\\(|\\)|'/;\n\tvar allowedBackgroundSize = {contain: 1, cover: 1};\n\tvar proxyWidth = function(elem){\n\t\tvar width = lazySizes.gW(elem, elem.parentNode);\n\n\t\tif(!elem._lazysizesWidth || width > elem._lazysizesWidth){\n\t\t\telem._lazysizesWidth = width;\n\t\t}\n\t\treturn elem._lazysizesWidth;\n\t};\n\tvar getBgSize = function(elem){\n\t\tvar bgSize;\n\n\t\tbgSize = (getComputedStyle(elem) || {getPropertyValue: function(){}}).getPropertyValue('background-size');\n\n\t\tif(!allowedBackgroundSize[bgSize] && allowedBackgroundSize[elem.style.backgroundSize]){\n\t\t\tbgSize = elem.style.backgroundSize;\n\t\t}\n\n\t\treturn bgSize;\n\t};\n\tvar setTypeOrMedia = function(source, match){\n\t\tif(match){\n\t\t\tvar typeMatch = match.match(regType);\n\t\t\tif(typeMatch && typeMatch[1]){\n\t\t\t\tsource.setAttribute('type', typeMatch[1]);\n\t\t\t} else {\n\t\t\t\tsource.setAttribute('media', lazySizesCfg.customMedia[match] || match);\n\t\t\t}\n\t\t}\n\t};\n\tvar createPicture = function(sets, elem, img){\n\t\tvar picture = document.createElement('picture');\n\t\tvar sizes = elem.getAttribute(lazySizesCfg.sizesAttr);\n\t\tvar ratio = elem.getAttribute('data-ratio');\n\t\tvar optimumx = elem.getAttribute('data-optimumx');\n\n\t\tif(elem._lazybgset && elem._lazybgset.parentNode == elem){\n\t\t\telem.removeChild(elem._lazybgset);\n\t\t}\n\n\t\tObject.defineProperty(img, '_lazybgset', {\n\t\t\tvalue: elem,\n\t\t\twritable: true\n\t\t});\n\t\tObject.defineProperty(elem, '_lazybgset', {\n\t\t\tvalue: picture,\n\t\t\twritable: true\n\t\t});\n\n\t\tsets = sets.replace(regWhite, ' ').split(regSplitSet);\n\n\t\tpicture.style.display = 'none';\n\t\timg.className = lazySizesCfg.lazyClass;\n\n\t\tif(sets.length == 1 && !sizes){\n\t\t\tsizes = 'auto';\n\t\t}\n\n\t\tsets.forEach(function(set){\n\t\t\tvar match;\n\t\t\tvar source = document.createElement('source');\n\n\t\t\tif(sizes && sizes != 'auto'){\n\t\t\t\tsource.setAttribute('sizes', sizes);\n\t\t\t}\n\n\t\t\tif((match = set.match(regSource))){\n\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, match[1]);\n\n\t\t\t\tsetTypeOrMedia(source, match[2]);\n\t\t\t\tsetTypeOrMedia(source, match[3]);\n\t\t\t} else {\n\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, set);\n\t\t\t}\n\n\t\t\tpicture.appendChild(source);\n\t\t});\n\n\t\tif(sizes){\n\t\t\timg.setAttribute(lazySizesCfg.sizesAttr, sizes);\n\t\t\telem.removeAttribute(lazySizesCfg.sizesAttr);\n\t\t\telem.removeAttribute('sizes');\n\t\t}\n\t\tif(optimumx){\n\t\t\timg.setAttribute('data-optimumx', optimumx);\n\t\t}\n\t\tif(ratio) {\n\t\t\timg.setAttribute('data-ratio', ratio);\n\t\t}\n\n\t\tpicture.appendChild(img);\n\n\t\telem.appendChild(picture);\n\t};\n\n\tvar proxyLoad = function(e){\n\t\tif(!e.target._lazybgset){return;}\n\n\t\tvar image = e.target;\n\t\tvar elem = image._lazybgset;\n\t\tvar bg = image.currentSrc || image.src;\n\n\n\t\tif(bg){\n\t\t\tvar useSrc = regBgUrlEscape.test(bg) ? JSON.stringify(bg) : bg;\n\t\t\tvar event = lazySizes.fire(elem, 'bgsetproxy', {\n\t\t\t\tsrc: bg,\n\t\t\t\tuseSrc: useSrc,\n\t\t\t\tfullSrc: null,\n\t\t\t});\n\n\t\t\tif(!event.defaultPrevented){\n\t\t\t\telem.style.backgroundImage = event.detail.fullSrc || 'url(' + event.detail.useSrc + ')';\n\t\t\t}\n\t\t}\n\n\t\tif(image._lazybgsetLoading){\n\t\t\tlazySizes.fire(elem, '_lazyloaded', {}, false, true);\n\t\t\tdelete image._lazybgsetLoading;\n\t\t}\n\t};\n\n\taddEventListener('lazybeforeunveil', function(e){\n\t\tvar set, image, elem;\n\n\t\tif(e.defaultPrevented || !(set = e.target.getAttribute('data-bgset'))){return;}\n\n\t\telem = e.target;\n\t\timage = document.createElement('img');\n\n\t\timage.alt = '';\n\n\t\timage._lazybgsetLoading = true;\n\t\te.detail.firesLoad = true;\n\n\t\tcreatePicture(set, elem, image);\n\n\t\tsetTimeout(function(){\n\t\t\tlazySizes.loader.unveil(image);\n\n\t\t\tlazySizes.rAF(function(){\n\t\t\t\tlazySizes.fire(image, '_lazyloaded', {}, true, true);\n\t\t\t\tif(image.complete) {\n\t\t\t\t\tproxyLoad({target: image});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t});\n\n\tdocument.addEventListener('load', proxyLoad, true);\n\n\twindow.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.detail.instance != lazySizes){return;}\n\t\tif(e.target._lazybgset && e.detail.dataAttr){\n\t\t\tvar elem = e.target._lazybgset;\n\t\t\tvar bgSize = getBgSize(elem);\n\n\t\t\tif(allowedBackgroundSize[bgSize]){\n\t\t\t\te.target._lazysizesParentFit = bgSize;\n\n\t\t\t\tlazySizes.rAF(function(){\n\t\t\t\t\te.target.setAttribute('data-parent-fit', bgSize);\n\t\t\t\t\tif(e.target._lazysizesParentFit){\n\t\t\t\t\t\tdelete e.target._lazysizesParentFit;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, true);\n\n\tdocument.documentElement.addEventListener('lazybeforesizes', function(e){\n\t\tif(e.defaultPrevented || !e.target._lazybgset || e.detail.instance != lazySizes){return;}\n\t\te.detail.width = proxyWidth(e.target._lazybgset);\n\t});\n}));\n","(function(window, factory) {\n\tif(!window) {return;}\n\tvar globalInstall = function(){\n\t\tfactory(window.lazySizes);\n\t\twindow.removeEventListener('lazyunveilread', globalInstall, true);\n\t};\n\n\tfactory = factory.bind(null, window, window.document);\n\n\tif(typeof module == 'object' && module.exports){\n\t\tfactory(require('lazysizes'));\n\t} else if (typeof define == 'function' && define.amd) {\n\t\tdefine(['lazysizes'], factory);\n\t} else if(window.lazySizes) {\n\t\tglobalInstall();\n\t} else {\n\t\twindow.addEventListener('lazyunveilread', globalInstall, true);\n\t}\n}(typeof window != 'undefined' ?\n\twindow : 0, function(window, document, lazySizes) {\n\t/*jshint eqnull:true */\n\t'use strict';\n\tvar polyfill;\n\tvar lazySizesCfg = lazySizes.cfg;\n\tvar img = document.createElement('img');\n\tvar supportSrcset = ('sizes' in img) && ('srcset' in img);\n\tvar regHDesc = /\\s+\\d+h/g;\n\tvar fixEdgeHDescriptor = (function(){\n\t\tvar regDescriptors = /\\s+(\\d+)(w|h)\\s+(\\d+)(w|h)/;\n\t\tvar forEach = Array.prototype.forEach;\n\n\t\treturn function(){\n\t\t\tvar img = document.createElement('img');\n\t\t\tvar removeHDescriptors = function(source){\n\t\t\t\tvar ratio, match;\n\t\t\t\tvar srcset = source.getAttribute(lazySizesCfg.srcsetAttr);\n\t\t\t\tif(srcset){\n\t\t\t\t\tif((match = srcset.match(regDescriptors))){\n\t\t\t\t\t\tif(match[2] == 'w'){\n\t\t\t\t\t\t\tratio = match[1] / match[3];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tratio = match[3] / match[1];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(ratio){\n\t\t\t\t\t\t\tsource.setAttribute('data-aspectratio', ratio);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource.setAttribute(lazySizesCfg.srcsetAttr, srcset.replace(regHDesc, ''));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar handler = function(e){\n\t\t\t\tif(e.detail.instance != lazySizes){return;}\n\t\t\t\tvar picture = e.target.parentNode;\n\n\t\t\t\tif(picture && picture.nodeName == 'PICTURE'){\n\t\t\t\t\tforEach.call(picture.getElementsByTagName('source'), removeHDescriptors);\n\t\t\t\t}\n\t\t\t\tremoveHDescriptors(e.target);\n\t\t\t};\n\n\t\t\tvar test = function(){\n\t\t\t\tif(!!img.currentSrc){\n\t\t\t\t\tdocument.removeEventListener('lazybeforeunveil', handler);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdocument.addEventListener('lazybeforeunveil', handler);\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\n\t\t\timg.srcset = 'data:,a 1w 1h';\n\n\t\t\tif(img.complete){\n\t\t\t\ttest();\n\t\t\t}\n\t\t};\n\t})();\n\n\tif(!lazySizesCfg.supportsType){\n\t\tlazySizesCfg.supportsType = function(type/*, elem*/){\n\t\t\treturn !type;\n\t\t};\n\t}\n\n\tif (window.HTMLPictureElement && supportSrcset) {\n\t\tif(!lazySizes.hasHDescriptorFix && document.msElementsFromPoint){\n\t\t\tlazySizes.hasHDescriptorFix = true;\n\t\t\tfixEdgeHDescriptor();\n\t\t}\n\t\treturn;\n\t}\n\n\tif(window.picturefill || lazySizesCfg.pf){return;}\n\n\tlazySizesCfg.pf = function(options){\n\t\tvar i, len;\n\t\tif(window.picturefill){return;}\n\t\tfor(i = 0, len = options.elements.length; i < len; i++){\n\t\t\tpolyfill(options.elements[i]);\n\t\t}\n\t};\n\n\t// partial polyfill\n\tpolyfill = (function(){\n\t\tvar ascendingSort = function( a, b ) {\n\t\t\treturn a.w - b.w;\n\t\t};\n\t\tvar regPxLength = /^\\s*\\d+\\.*\\d*px\\s*$/;\n\t\tvar reduceCandidate = function (srces) {\n\t\t\tvar lowerCandidate, bonusFactor;\n\t\t\tvar len = srces.length;\n\t\t\tvar candidate = srces[len -1];\n\t\t\tvar i = 0;\n\n\t\t\tfor(i; i < len;i++){\n\t\t\t\tcandidate = srces[i];\n\t\t\t\tcandidate.d = candidate.w / srces.w;\n\n\t\t\t\tif(candidate.d >= srces.d){\n\t\t\t\t\tif(!candidate.cached && (lowerCandidate = srces[i - 1]) &&\n\t\t\t\t\t\tlowerCandidate.d > srces.d - (0.13 * Math.pow(srces.d, 2.2))){\n\n\t\t\t\t\t\tbonusFactor = Math.pow(lowerCandidate.d - 0.6, 1.6);\n\n\t\t\t\t\t\tif(lowerCandidate.cached) {\n\t\t\t\t\t\t\tlowerCandidate.d += 0.15 * bonusFactor;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(lowerCandidate.d + ((candidate.d - srces.d) * bonusFactor) > srces.d){\n\t\t\t\t\t\t\tcandidate = lowerCandidate;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn candidate;\n\t\t};\n\n\t\tvar parseWsrcset = (function(){\n\t\t\tvar candidates;\n\t\t\tvar regWCandidates = /(([^,\\s].[^\\s]+)\\s+(\\d+)w)/g;\n\t\t\tvar regMultiple = /\\s/;\n\t\t\tvar addCandidate = function(match, candidate, url, wDescriptor){\n\t\t\t\tcandidates.push({\n\t\t\t\t\tc: candidate,\n\t\t\t\t\tu: url,\n\t\t\t\t\tw: wDescriptor * 1\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn function(input){\n\t\t\t\tcandidates = [];\n\t\t\t\tinput = input.trim();\n\t\t\t\tinput\n\t\t\t\t\t.replace(regHDesc, '')\n\t\t\t\t\t.replace(regWCandidates, addCandidate)\n\t\t\t\t;\n\n\t\t\t\tif(!candidates.length && input && !regMultiple.test(input)){\n\t\t\t\t\tcandidates.push({\n\t\t\t\t\t\tc: input,\n\t\t\t\t\t\tu: input,\n\t\t\t\t\t\tw: 99\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn candidates;\n\t\t\t};\n\t\t})();\n\n\t\tvar runMatchMedia = function(){\n\t\t\tif(runMatchMedia.init){return;}\n\n\t\t\trunMatchMedia.init = true;\n\t\t\taddEventListener('resize', (function(){\n\t\t\t\tvar timer;\n\t\t\t\tvar matchMediaElems = document.getElementsByClassName('lazymatchmedia');\n\t\t\t\tvar run = function(){\n\t\t\t\t\tvar i, len;\n\t\t\t\t\tfor(i = 0, len = matchMediaElems.length; i < len; i++){\n\t\t\t\t\t\tpolyfill(matchMediaElems[i]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function(){\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\ttimer = setTimeout(run, 66);\n\t\t\t\t};\n\t\t\t})());\n\t\t};\n\n\t\tvar createSrcset = function(elem, isImage){\n\t\t\tvar parsedSet;\n\t\t\tvar srcSet = elem.getAttribute('srcset') || elem.getAttribute(lazySizesCfg.srcsetAttr);\n\n\t\t\tif(!srcSet && isImage){\n\t\t\t\tsrcSet = !elem._lazypolyfill ?\n\t\t\t\t\t(elem.getAttribute(lazySizesCfg.srcAttr) || elem.getAttribute('src')) :\n\t\t\t\t\telem._lazypolyfill._set\n\t\t\t\t;\n\t\t\t}\n\n\t\t\tif(!elem._lazypolyfill || elem._lazypolyfill._set != srcSet){\n\n\t\t\t\tparsedSet = parseWsrcset( srcSet || '' );\n\t\t\t\tif(isImage && elem.parentNode){\n\t\t\t\t\tparsedSet.isPicture = elem.parentNode.nodeName.toUpperCase() == 'PICTURE';\n\n\t\t\t\t\tif(parsedSet.isPicture){\n\t\t\t\t\t\tif(window.matchMedia){\n\t\t\t\t\t\t\tlazySizes.aC(elem, 'lazymatchmedia');\n\t\t\t\t\t\t\trunMatchMedia();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tparsedSet._set = srcSet;\n\t\t\t\tObject.defineProperty(elem, '_lazypolyfill', {\n\t\t\t\t\tvalue: parsedSet,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tvar getX = function(elem){\n\t\t\tvar dpr = window.devicePixelRatio || 1;\n\t\t\tvar optimum = lazySizes.getX && lazySizes.getX(elem);\n\t\t\treturn Math.min(optimum || dpr, 2.5, dpr);\n\t\t};\n\n\t\tvar matchesMedia = function(media){\n\t\t\tif(window.matchMedia){\n\t\t\t\tmatchesMedia = function(media){\n\t\t\t\t\treturn !media || (matchMedia(media) || {}).matches;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn !media;\n\t\t\t}\n\n\t\t\treturn matchesMedia(media);\n\t\t};\n\n\t\tvar getCandidate = function(elem){\n\t\t\tvar sources, i, len, media, source, srces, src, width;\n\n\t\t\tsource = elem;\n\t\t\tcreateSrcset(source, true);\n\t\t\tsrces = source._lazypolyfill;\n\n\t\t\tif(srces.isPicture){\n\t\t\t\tfor(i = 0, sources = elem.parentNode.getElementsByTagName('source'), len = sources.length; i < len; i++){\n\t\t\t\t\tif( lazySizesCfg.supportsType(sources[i].getAttribute('type'), elem) && matchesMedia( sources[i].getAttribute('media')) ){\n\t\t\t\t\t\tsource = sources[i];\n\t\t\t\t\t\tcreateSrcset(source);\n\t\t\t\t\t\tsrces = source._lazypolyfill;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(srces.length > 1){\n\t\t\t\twidth = source.getAttribute('sizes') || '';\n\t\t\t\twidth = regPxLength.test(width) && parseInt(width, 10) || lazySizes.gW(elem, elem.parentNode);\n\t\t\t\tsrces.d = getX(elem);\n\t\t\t\tif(!srces.src || !srces.w || srces.w < width){\n\t\t\t\t\tsrces.w = width;\n\t\t\t\t\tsrc = reduceCandidate(srces.sort(ascendingSort));\n\t\t\t\t\tsrces.src = src;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = srces.src;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsrc = srces[0];\n\t\t\t}\n\n\t\t\treturn src;\n\t\t};\n\n\t\tvar p = function(elem){\n\t\t\tif(supportSrcset && elem.parentNode && elem.parentNode.nodeName.toUpperCase() != 'PICTURE'){return;}\n\t\t\tvar candidate = getCandidate(elem);\n\n\t\t\tif(candidate && candidate.u && elem._lazypolyfill.cur != candidate.u){\n\t\t\t\telem._lazypolyfill.cur = candidate.u;\n\t\t\t\tcandidate.cached = true;\n\t\t\t\telem.setAttribute(lazySizesCfg.srcAttr, candidate.u);\n\t\t\t\telem.setAttribute('src', candidate.u);\n\t\t\t}\n\t\t};\n\n\t\tp.parse = parseWsrcset;\n\n\t\treturn p;\n\t})();\n\n\tif(lazySizesCfg.loadedClass && lazySizesCfg.loadingClass){\n\t\t(function(){\n\t\t\tvar sels = [];\n\t\t\t['img[sizes$=\"px\"][srcset].', 'picture > img:not([srcset]).'].forEach(function(sel){\n\t\t\t\tsels.push(sel + lazySizesCfg.loadedClass);\n\t\t\t\tsels.push(sel + lazySizesCfg.loadingClass);\n\t\t\t});\n\t\t\tlazySizesCfg.pf({\n\t\t\t\telements: document.querySelectorAll(sels.join(', '))\n\t\t\t});\n\t\t})();\n\n\t}\n}));\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","export default fn => e => {\n  e.preventDefault();\n  fn();\n};\n","import { add, qs, qsa, remove } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  imageById: id => `[data-media-item-id='${id}']`,\r\n  imageWrapper: \"[data-product-media-wrapper]\",\r\n};\r\n\r\nconst classes = {\r\n  hidden: \"hidden\",\r\n};\r\n\r\nexport default function (container, imageId, inYourSpaceButton) {\r\n  const newImage = qs(\r\n    selectors.imageWrapper + selectors.imageById(imageId),\r\n    container\r\n  );\r\n\r\n  const newImageMedia = qs(\".media\", newImage);\r\n\r\n  const otherImages = qsa(\r\n    `${selectors.imageWrapper}:not(${selectors.imageById(imageId)})`,\r\n    container\r\n  );\r\n\r\n  remove(newImage, classes.hidden);\r\n\r\n  // Update view in space button\r\n  if (inYourSpaceButton) {\r\n    if (newImageMedia.dataset.mediaType === \"model\") {\r\n      inYourSpaceButton.setAttribute(\r\n        \"data-shopify-model3d-id\",\r\n        newImageMedia.dataset.mediaId\r\n      );\r\n    }\r\n  }\r\n\r\n  otherImages.forEach(image => add(image, classes.hidden));\r\n}\r\n","export default {\n  add: `\n    <div class=\"icon\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M12 5v14M5 12h14\"/>\n      </svg>\n    </div>\n  `,\n  minus: `\n    <div class=\"icon\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 12h14\"/>\n      </svg>\n    </div>\n  `,\n  remove: `\n    <div class=\"icon\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" stroke=\"currentColor\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\"/>\n      </svg>\n    </div>\n  `,\n};\n","import { add, listen, qs, remove, toggle } from \"@fluorescent/dom\";\r\nimport { getSizedImageUrl } from \"@/lib/images\";\r\nimport Delegate from \"ftdomdelegate\";\r\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\r\nimport { createFocusTrap } from \"focus-trap\";\r\nimport { renderUnitPrice } from \"@/lib/unit-pricing\";\r\nimport { emit } from \"evx\";\r\n\r\nimport { on } from \"@/glow/events\";\r\nimport { cart, formatMoney } from \"@/glow\";\r\nimport dispatchCustomEvent from \"@/lib/dispatch-custom-event\";\r\n\r\nconst { strings } = window.theme;\r\n\r\nimport svg from \"@/lib/svg\";\r\n\r\nexport default function QuickCart(node) {\r\n  const delegate = new Delegate(node);\r\n  const overlay = qs(\"[data-overlay]\", node);\r\n\r\n  const cartTab = qs(\"[data-cart]\", node);\r\n\r\n  // Cart\r\n  const itemsContainer = qs(\"[data-items]\", node);\r\n  const empty = qs(\"[data-empty]\", node);\r\n  const footer = qs(\"[data-footer]\", node);\r\n  const discounts = qs(\"[data-discounts]\", footer);\r\n  const subtotal = qs(\"[data-subtotal]\", footer);\r\n  const closeButton = qs(\"[data-close-icon]\", node);\r\n\r\n  delegate.on(\"click\", \"button[data-decrease]\", (_, target) => {\r\n    const qty =\r\n      parseInt(target.closest(\".quick-cart__item\").dataset.quantity) - 1;\r\n    cart.updateItem(target.dataset.decrease, qty);\r\n  });\r\n\r\n  delegate.on(\"click\", \"button[data-increase]\", (_, target) => {\r\n    const qty =\r\n      parseInt(target.closest(\".quick-cart__item\").dataset.quantity) + 1;\r\n    cart.updateItem(target.dataset.increase, qty);\r\n  });\r\n\r\n  delegate.on(\"click\", \"button[data-remove]\", (_, target) => {\r\n    cart.updateItem(target.dataset.remove, 0);\r\n  });\r\n\r\n  const cartTrap = createFocusTrap(node, { allowOutsideClick: true });\r\n\r\n  // Initial cart fetch\r\n  cart.get().then(renderCart);\r\n\r\n  // Custom event binding\r\n  listen(document, \"apps:product-added-to-cart\", () => {\r\n    cart.get().then(data => {\r\n      renderCart(data);\r\n      emit(\"cart:updated\", { cart: data });\r\n    });\r\n  });\r\n\r\n  // On every update\r\n  on(\"cart:updated\", ({ cart }) => {\r\n    renderCart(cart);\r\n    dispatchCustomEvent(\"cart:updated\", { cart: cart });\r\n  });\r\n\r\n  const events = [\r\n    listen([overlay, closeButton], \"click\", close),\r\n    listen(node, \"keydown\", ({ keyCode }) => {\r\n      if (keyCode === 27) close();\r\n    }),\r\n  ];\r\n\r\n  on(\"cart:open\", (_, { flash }) => open(flash));\r\n\r\n  function open() {\r\n    add(node, \"active\");\r\n    cartTrap.activate();\r\n    setTimeout(() => {\r\n      disableBodyScroll(node, {\r\n        allowTouchMove: el => {\r\n          while (el && el !== document.body) {\r\n            if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\r\n              return true;\r\n            }\r\n            el = el.parentNode;\r\n          }\r\n        },\r\n        reserveScrollBarGap: true,\r\n      });\r\n      add(node, \"visible\");\r\n      add(cartTab, \"visible\");\r\n      cart\r\n        .get()\r\n        .then(cart => dispatchCustomEvent(\"quick-cart:open\", { cart: cart }));\r\n    }, 50);\r\n  }\r\n\r\n  function close() {\r\n    remove(node, \"visible\");\r\n    setTimeout(() => {\r\n      remove(node, \"active\");\r\n      enableBodyScroll(node);\r\n\r\n      add(cartTab, \"visible\");\r\n\r\n      cartTrap.deactivate();\r\n      dispatchCustomEvent(\"quick-cart:close\");\r\n    }, 350);\r\n  }\r\n\r\n  function renderCart(cart) {\r\n    const { cart_level_discount_applications: cartDiscounts } = cart;\r\n    itemsContainer.innerHTML = renderItems(cart);\r\n    discounts.innerHTML = renderCartDiscounts(cartDiscounts);\r\n\r\n    toggle(footer, \"visible\", cart.sorted.length);\r\n    toggle(empty, \"visible\", !cart.sorted.length);\r\n    toggle(discounts, \"visible\", cartDiscounts.length);\r\n\r\n    subtotal.innerHTML = formatMoney(cart.total_price);\r\n  }\r\n\r\n  function renderItems({ sorted }) {\r\n    return r(\r\n      sorted.length > 0,\r\n      sorted.reduce((markup, item) => (markup += createItem(item)), \"\")\r\n    );\r\n  }\r\n\r\n  function destroy() {\r\n    events.forEach(unsubscribe => unsubscribe());\r\n  }\r\n\r\n  return { open, close, destroy };\r\n}\r\n\r\nfunction createItem({ line_level_discount_allocations: discounts, ...item }) {\r\n  const imgSrc = item.featured_image ? item.featured_image.url : item.image;\r\n  const imgAlt = item.featured_image ? item.featured_image.alt : \"\";\r\n  const imgUrl = imgSrc && getSizedImageUrl(imgSrc, \"240x\");\r\n  const image = r(\r\n    imgSrc,\r\n    `<img class=\"image__img lazyload\" alt=\"${imgAlt}\" data-src=\"${imgUrl}\" />`\r\n  );\r\n\r\n  const sellingPlanName = item.selling_plan_allocation\r\n    ? `<p class=\"fs-body-base c-subdued\">${item.selling_plan_allocation.selling_plan.name}</p>`\r\n    : ``;\r\n\r\n  return `\r\n    <div class=\"quick-cart__item ff-body fs-body-base\" data-id=\"${\r\n      item.variant_id\r\n    }\" data-quantity=\"${item.quantity}\">\r\n      <div class=\"quick-cart__item-left\">\r\n        <a href=\"${item.url}\">\r\n          <div class=\"quick-cart__image\">${image}</div>\r\n        </a>\r\n      </div>\r\n      <div class=\"quick-cart__item-middle\">\r\n        <h4 class=\"fs-body-bold\"><a href=\"${item.url}\">${\r\n    item.product_title\r\n  }</a></h4>\r\n        <div>\r\n          ${r(\r\n            item.original_price > item.final_price,\r\n            `<s class=\"qty\">${formatMoney(item.original_price)}</s>`\r\n          )}\r\n          ${formatMoney(item.final_price)}\r\n          ${r(\r\n            item.quantity > 1,\r\n            `<span class=\"c-subdued\">x ${item.quantity}</span>`\r\n          )}\r\n        </div>\r\n        ${renderUnitPrice(item.unit_price, item.unit_price_measurement)}\r\n        ${renderOptions(item)}\r\n        ${renderLineProperties(item.properties)}\r\n        ${renderLineDiscounts(discounts)}\r\n        ${sellingPlanName}\r\n      </div>\r\n      <div class=\"quick-cart__control\">\r\n        <div class=\"quick-cart__control-top\">\r\n          <button class=\"quick-cart__button quick-cart__button-increase\" data-increase=\"${\r\n            item.variant_id\r\n          }\" aria-label=\"${strings.quickCart.addProductQuantity}\">\r\n            ${svg.add}\r\n          </button>\r\n          <button class=\"quick-cart__button quick-cart__button-decrease\" data-decrease=\"${\r\n            item.variant_id\r\n          }\" aria-label=\"${strings.quickCart.removeProductQuantity}\">\r\n            ${svg.minus}\r\n          </button>\r\n          <button class=\"quick-cart__button quick-cart__button-remove\" data-remove=\"${\r\n            item.variant_id\r\n          }\" aria-label=\"${strings.quickCart.removeProduct}\">\r\n            ${svg.remove}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderOptions({ options_with_values: options, variant_title }) {\r\n  return r(\r\n    options.length > 0 && variant_title,\r\n    options.reduce(\r\n      (markup, { name, value }) => markup + `<div>${name}: ${value}</div>`,\r\n      \"\"\r\n    )\r\n  );\r\n}\r\n\r\nfunction renderLineProperties(properties) {\r\n  properties = properties || {};\r\n  return r(\r\n    Boolean(Object.keys(properties).length),\r\n    Object.keys(properties).reduce(\r\n      (markup, title) =>\r\n        markup +\r\n        `<div class=\"quick-cart__item-properties\">${\r\n          properties[title] ? `${title}: ` : ``\r\n        }${properties[title]}</div>`,\r\n      \"\"\r\n    )\r\n  );\r\n}\r\n\r\nfunction renderCartDiscounts(discounts) {\r\n  return r(\r\n    Boolean(discounts.length),\r\n    `\r\n      <ul>\r\n        ${discounts.map(\r\n          ({ title, total_allocated_amount: value }) =>\r\n            `<div>${title} (-${formatMoney(value)})</div>`\r\n        )}\r\n      </ul>\r\n    `\r\n  );\r\n}\r\n\r\nfunction renderLineDiscounts(discounts) {\r\n  const formatted_discounts = discounts.map(\r\n    ({ amount, discount_application: { title } }) => {\r\n      return `<li>${title} (-${formatMoney(amount)})</li>`;\r\n    }\r\n  );\r\n\r\n  return r(\r\n    Boolean(discounts.length),\r\n    `<ul class=\"quick-cart__item-discounts fs-body-base c-subdued\">${formatted_discounts}</ul>`\r\n  );\r\n}\r\n\r\nfunction r(bool, whenTrue) {\r\n  return bool ? whenTrue : ``;\r\n}\r\n","export default function PredictiveSearch(resultsContainer) {\r\n  const cachedResults = {};\r\n\r\n  function renderSearchResults(resultsMarkup) {\r\n    resultsContainer.innerHTML = resultsMarkup;\r\n  }\r\n\r\n  function getSearchResults(searchTerm) {\r\n    const queryKey = searchTerm.replace(\" \", \"-\").toLowerCase();\r\n\r\n    // Render result if it appears within the cache\r\n    if (cachedResults[`${queryKey}`]) {\r\n      renderSearchResults(cachedResults[`${queryKey}`]);\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return fetch(\r\n      `${window.theme.routes.predictive_search_url}?q=${encodeURIComponent(\r\n        searchTerm\r\n      )}&section_id=predictive-search`\r\n    )\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          const error = new Error(response.status);\r\n          throw error;\r\n        }\r\n\r\n        return response.text();\r\n      })\r\n      .then(text => {\r\n        let resultsMarkup = new DOMParser()\r\n          .parseFromString(text, \"text/html\")\r\n          .querySelector(\"#shopify-section-predictive-search\").innerHTML;\r\n\r\n        // Cache results\r\n        cachedResults[queryKey] = resultsMarkup;\r\n        renderSearchResults(resultsMarkup);\r\n      })\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  return { getSearchResults };\r\n}\r\n","import { add, listen, qs, remove, toggle } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport { createFocusTrap } from 'focus-trap';\nimport PredictiveSearch from '@/lib/predictive-search';\n\nconst classes = {\n  active: 'active',\n  visible: 'visible',\n};\n\nexport default function (node) {\n  const overlay = qs('[data-overlay]', node);\n  const input = qs('[data-input]', node);\n  const clear = qs('[data-clear]', node);\n  const resultsContainer = qs('[data-results]', node);\n  const predictiveSearch = PredictiveSearch(resultsContainer);\n  const closeButton = qs('[data-close-icon]', node);\n\n  const events = [\n    listen([overlay, closeButton], 'click', close),\n    listen(clear, 'click', reset),\n    listen(input, 'input', handleInput),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) close();\n    }),\n  ];\n\n  const trap = createFocusTrap(node, { allowOutsideClick: true });\n\n  function handleInput(e) {\n    if (e.target.value === '') reset();\n    toggle(clear, classes.visible, e.target.value !== '');\n    toggle(input.parentNode, classes.active, e.target.value !== '');\n\n    predictiveSearch.getSearchResults(e.target.value);\n  }\n\n  // Clear contents of the search input and hide results container\n  function reset(e) {\n    e && e.preventDefault();\n    input.value = '';\n    remove(clear, classes.visible);\n    remove(input.parentNode, classes.active);\n    resultsContainer.innerHTML = '';\n\n    input.focus();\n  }\n\n  function open() {\n    add(node, classes.active);\n    trap.activate();\n\n    setTimeout(() => {\n      input.focus();\n      disableBodyScroll(node, { reserveScrollBarGap: true });\n      add(node, classes.visible);\n    }, 50);\n  }\n\n  function close() {\n    remove(node, classes.visible);\n    trap.deactivate();\n    setTimeout(() => {\n      remove(node, classes.active);\n      enableBodyScroll(node);\n    }, 350);\n  }\n\n  function destroy() {\n    close();\n\n    events.forEach(unsubscribe => unsubscribe());\n  }\n\n  return { open, close, destroy };\n}\n","import Delegate from 'ftdomdelegate';\nimport {\n  listen,\n  qs,\n  qsa,\n  add,\n  remove,\n  toggle,\n  contains,\n} from '@fluorescent/dom';\n\nexport default function Navigation(node) {\n  if (!node) return;\n\n  const parents = qsa('[data-parent]', node);\n\n  if (!parents) return;\n\n  const delegate = new Delegate(document.body);\n\n  delegate.on('click', '*', e => handleClick(e));\n\n  const events = [\n    listen(parents, 'click', e => {\n      e.preventDefault();\n\n      toggleMenu(e.currentTarget.parentNode);\n    }),\n\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) closeAll();\n    }),\n\n    listen(qsa('.header__links-list > li > a', node), 'focus', e => {\n      if (!userIsUsingKeyboard()) return;\n\n      closeAll();\n    }),\n\n    listen(qsa('[data-link]', node), 'focus', e => {\n      e.preventDefault();\n\n      if (!userIsUsingKeyboard()) return;\n\n      const link = e.currentTarget;\n\n      if (link.hasAttribute('data-parent')) {\n        toggleMenu(link.parentNode);\n      }\n\n      const siblings = qsa('[data-link]', link.parentNode.parentNode);\n      siblings.forEach(el =>\n        toggle(qsa('[data-submenu]', el.parentNode), 'active', el === link)\n      );\n    }),\n\n    // Close everything when focus leaves the main menu\n    listen(qsa('[data-link]', node), 'focusout', e => {\n      if (!userIsUsingKeyboard()) return;\n\n      if (e.relatedTarget && !e.relatedTarget.hasAttribute('data-link')) {\n        closeAll();\n      }\n    }),\n\n    // Listen to horizontal scroll to offset inner menus\n    listen(node, 'scroll', () => {\n      document.documentElement.style.setProperty(\n        '--navigation-menu-offet',\n        `${node.scrollLeft}px`\n      );\n    }),\n  ];\n\n  function userIsUsingKeyboard() {\n    return contains(document.body, 'user-is-tabbing');\n  }\n\n  function toggleMenu(el) {\n    const menu = qs('[data-submenu]', el);\n    const menuTrigger = qs('[data-link]', el);\n\n    if (!contains(menu, 'active')) {\n      // Make sure all lvl 2 submenus are closed before opening another\n      if (el.parentNode.dataset.depth === '1') {\n        closeAll(el.parentNode);\n      } else {\n        closeAll();\n      }\n\n      menuTrigger.setAttribute('aria-expanded', true);\n      menu.setAttribute('aria-hidden', false);\n      add(menu, 'active');\n    } else {\n      // If the toggle is closing the element from the parent close all internal\n      if (contains(el.parentNode, 'header__links-list')) {\n        closeAll();\n        return;\n      }\n      menuTrigger.setAttribute('aria-expanded', false);\n      menu.setAttribute('aria-hidden', true);\n      remove(menu, 'active');\n    }\n  }\n\n  // We want to close the menu when anything is clicked that isn't a submenu\n  function handleClick(e) {\n    if (!e.target.closest('[data-submenu-parent]')) {\n      closeAll();\n    }\n  }\n\n  function closeAll(target = node) {\n    const subMenus = qsa('[data-submenu]', target);\n    const parentTriggers = qsa('[data-parent]', target);\n\n    remove(subMenus, 'active');\n    subMenus.forEach(sub => sub.setAttribute('aria-hidden', true));\n    parentTriggers.forEach(trig => trig.setAttribute('aria-expanded', false));\n  }\n\n  function destroy() {\n    delegate.off();\n    events.forEach(evt => evt());\n  }\n\n  return { destroy };\n}\n","import { listen, qs, add, remove, toggle } from \"@fluorescent/dom\";\r\nimport PredictiveSearch from \"@/lib/predictive-search\";\r\n\r\nconst selectors = {\r\n  clear: \"[data-search-clear]\",\r\n  input: \"[data-input]\",\r\n  results: \"[data-search-results]\",\r\n  search: \"[data-search-submit]\",\r\n};\r\n\r\nexport default function DrawerSearch(container, cb) {\r\n  // Elements\r\n  const input = qs(selectors.input, container);\r\n  const resultsContainer = qs(selectors.results, container);\r\n  const clearButton = qs(selectors.clear, container);\r\n  const searchButton = qs(selectors.search, container);\r\n\r\n  const predictiveSearch = PredictiveSearch(resultsContainer);\r\n\r\n  // Events\r\n  const inputChange = listen(input, \"input\", handleInputChange);\r\n  const clearClick = listen(clearButton, \"click\", reset);\r\n\r\n  function handleInputChange({ target: { value } }) {\r\n    if (value === \"\") {\r\n      reset();\r\n      return;\r\n    }\r\n\r\n    toggle([clearButton, searchButton], \"visible\", value !== \"\");\r\n    toggle(input, \"active\", value !== \"\");\r\n\r\n    predictiveSearch.getSearchResults(value).then(() => {\r\n      if (typeof cb === \"function\") {\r\n        // eslint-disable-next-line callback-return\r\n        cb();\r\n      }\r\n    });\r\n  }\r\n\r\n  function reset(e) {\r\n    e && e.preventDefault();\r\n\r\n    clear();\r\n    input.focus();\r\n\r\n    if (typeof cb === \"function\") {\r\n      // eslint-disable-next-line callback-return\r\n      cb();\r\n    }\r\n  }\r\n\r\n  function clear() {\r\n    input.value = \"\";\r\n    remove([resultsContainer, clearButton, searchButton], \"visible\");\r\n    remove(input, \"active\");\r\n    resultsContainer.innerHTML = \"\";\r\n  }\r\n\r\n  function destroy() {\r\n    inputChange();\r\n    clearClick();\r\n  }\r\n\r\n  return { destroy, clear };\r\n}\r\n","import { add, listen, qs, qsa, remove } from \"@fluorescent/dom\";\r\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\r\nimport { createFocusTrap } from \"focus-trap\";\r\nimport isMobile from \"is-mobile\";\r\n\r\nimport DrawerSearch from \"@/lib/drawer-search\";\r\nimport { prefersReducedMotion } from \"@/lib/a11y\";\r\nimport { FadeUpReveal } from \"@/lib/animation\";\r\n\r\nconst sel = {\r\n  overlay: \"[data-overlay]\",\r\n  listItem: \"[data-list-item]\",\r\n  item: \"[data-item]\",\r\n  allLinks: \"[data-all-links]\",\r\n  main: \"[data-main]\",\r\n  primary: \"[data-primary-container]\",\r\n  searchMenu: \"[data-search-menu]\",\r\n  animationItems:\r\n    \".drawer-menu__primary-links > .drawer-menu__item, .drawer-menu__primary-links > .drawer-menu__form\",\r\n\r\n  // Cross border\r\n  form: \".drawer-menu__form\",\r\n  localeInput: \"[data-locale-input]\",\r\n  currencyInput: \"[data-currency-input]\",\r\n};\r\n\r\nconst classes = {\r\n  active: \"active\",\r\n  visible: \"visible\",\r\n  childVisible: \"child-visible\",\r\n};\r\n\r\nconst { enableRevealAnimations } = document.body.dataset;\r\n\r\n// Extra space we add to the height of the inner container\r\nconst formatHeight = h => h + 8 + \"px\";\r\nconst formatHeightChild = h => h + 168 + \"px\";\r\nconst formatHeightChildMobile = h => h + 108 + \"px\";\r\n\r\nconst menu = node => {\r\n  const focusTrap = createFocusTrap(node);\r\n\r\n  // The individual link list the merchant selected\r\n  let linksDepth = 0;\r\n\r\n  // This is the element that holds the one we move left and right (primary)\r\n  // We also need to assign its height initially so we get smooth transitions\r\n  const main = qs(sel.main, node);\r\n\r\n  // Element that holds all the primary links and moves left and right\r\n  const primary = qs(sel.primary, node);\r\n\r\n  // Cross border\r\n  const form = qs(sel.form, node);\r\n  const localeInput = qs(sel.localeInput, node);\r\n  const currencyInput = qs(sel.currencyInput, node);\r\n\r\n  const search = DrawerSearch(node, updateSearchHeight);\r\n\r\n  // Nodes\r\n  const overlay = qs(sel.overlay, node);\r\n  const parents = qsa('[data-item=\"parent\"]', node);\r\n  const parentBack = qsa('[data-item=\"back\"]', node);\r\n  const languages = qsa('[data-item=\"locale\"]', node);\r\n  const currencies = qsa('[data-item=\"currency\"]', node);\r\n  const closeButtons = qsa(\"[data-drawer-close]\", node);\r\n  const animationItems = qsa(sel.animationItems, node);\r\n  const searchMenu = qs(sel.searchMenu, node);\r\n\r\n  // Init animation\r\n  const reveals = [];\r\n  initRevealAnimation();\r\n\r\n  const events = [\r\n    // Click on overlay or close button\r\n    listen(overlay, \"click\", close),\r\n    listen(closeButtons, \"click\", close),\r\n\r\n    // Esq pressed\r\n    listen(node, \"keydown\", ({ keyCode }) => {\r\n      if (keyCode === 27) close();\r\n    }),\r\n\r\n    // Element that will navigate to child navigation list\r\n    listen(parents, \"click\", clickParent),\r\n\r\n    // Element that will navigate back up the tree\r\n    listen(parentBack, \"click\", clickBack),\r\n\r\n    // Individual language\r\n    listen(languages, \"click\", e => handleCrossBorder(e, localeInput)),\r\n\r\n    // // Individual currency\r\n    listen(currencies, \"click\", e => handleCrossBorder(e, currencyInput)),\r\n  ];\r\n\r\n  function initRevealAnimation() {\r\n    if (!prefersReducedMotion() && enableRevealAnimations === \"true\") {\r\n      animationItems.forEach(item => {\r\n        reveals.push(new FadeUpReveal(item, { yStart: \"40px\" }));\r\n      });\r\n    }\r\n  }\r\n\r\n  function open() {\r\n    add(node, classes.active);\r\n\r\n    if (!prefersReducedMotion() && enableRevealAnimations === \"true\") {\r\n      reveals.forEach((reveal, i) => {\r\n        reveal.play(window.theme.animation.delayExtraShort * i);\r\n      });\r\n    }\r\n\r\n    setTimeout(() => {\r\n      add(node, classes.visible);\r\n      focusTrap.activate();\r\n\r\n      disableBodyScroll(node, {\r\n        allowTouchMove: el => {\r\n          while (el && el !== document.body) {\r\n            if (el.getAttribute(\"data-scroll-lock-ignore\") !== null) {\r\n              return true;\r\n            }\r\n            el = el.parentNode;\r\n          }\r\n        },\r\n        reserveScrollBarGap: true,\r\n      });\r\n\r\n      if (linksDepth === 0) {\r\n        main.style.height = formatHeight(primary.offsetHeight);\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  function close() {\r\n    focusTrap.deactivate();\r\n    remove(node, classes.visible);\r\n    setTimeout(() => {\r\n      remove(node, classes.active);\r\n      enableBodyScroll(node);\r\n      reveals.forEach(reveal => reveal.init());\r\n    }, 660);\r\n  }\r\n\r\n  function clickParent(e) {\r\n    e.preventDefault();\r\n\r\n    const link = e.currentTarget;\r\n    const childMenu = link.nextElementSibling;\r\n    const firstFocusable = qs(\".drawer-menu__link\", childMenu);\r\n\r\n    add(childMenu, classes.visible);\r\n    add(link.parentNode, classes.childVisible);\r\n\r\n    if (childMenu.hasAttribute(\"data-search-menu\")) {\r\n      add(node, \"search-active\");\r\n    }\r\n\r\n    main.style.height = isMobile()\r\n      ? formatHeightChildMobile(childMenu.offsetHeight)\r\n      : formatHeightChild(childMenu.offsetHeight);\r\n\r\n    navigate((linksDepth += 1));\r\n\r\n    link.setAttribute(\"aria-expanded\", true);\r\n    childMenu.setAttribute(\"aria-hidden\", false);\r\n\r\n    setTimeout(() => {\r\n      firstFocusable.focus();\r\n    }, 50);\r\n  }\r\n\r\n  function navigate(depth) {\r\n    linksDepth = depth;\r\n    primary.setAttribute(\"data-depth\", depth);\r\n  }\r\n\r\n  function clickBack(e) {\r\n    e.preventDefault();\r\n\r\n    const menuBefore = e.currentTarget.closest(sel.listItem).closest(\"ul\");\r\n    const firstFocusable = qs(\".drawer-menu__link\", menuBefore);\r\n    const menu = e.currentTarget.closest(\"ul\");\r\n    const parentLink = qs(\".drawer-menu__link\", menu.parentNode);\r\n\r\n    remove(menu, classes.visible);\r\n    remove(parentLink.parentNode, classes.childVisible);\r\n    navigate((linksDepth -= 1));\r\n\r\n    parentLink.setAttribute(\"aria-expanded\", false);\r\n    menu.setAttribute(\"aria-hidden\", true);\r\n\r\n    if (linksDepth === 0) {\r\n      main.style.height = formatHeight(menuBefore.offsetHeight);\r\n    } else {\r\n      main.style.height = isMobile()\r\n        ? formatHeightChildMobile(menuBefore.offsetHeight)\r\n        : formatHeightChild(menuBefore.offsetHeight);\r\n    }\r\n\r\n    if (menu.hasAttribute(\"data-search-menu\")) {\r\n      search.clear();\r\n      remove(node, \"search-active\");\r\n    }\r\n\r\n    setTimeout(() => {\r\n      firstFocusable.focus();\r\n    }, 50);\r\n  }\r\n\r\n  function updateSearchHeight() {\r\n    if (searchMenu) {\r\n      main.style.height = formatHeight(searchMenu.offsetHeight);\r\n    }\r\n  }\r\n\r\n  function handleCrossBorder(e, input) {\r\n    const { value } = e.currentTarget.dataset;\r\n    input.value = value;\r\n    close();\r\n    form.submit();\r\n  }\r\n\r\n  function destroy() {\r\n    events.forEach(unsubscribe => unsubscribe());\r\n    enableBodyScroll(node);\r\n    search.destroy();\r\n  }\r\n\r\n  return { close, destroy, open };\r\n};\r\n\r\nexport default menu;\r\n","import ResizeObserver from \"resize-observer-polyfill\";\r\nimport {\r\n  add,\r\n  contains,\r\n  listen,\r\n  qs,\r\n  qsa,\r\n  remove,\r\n  toggle,\r\n} from \"@fluorescent/dom\";\r\n\r\nimport { section } from \"@/glow\";\r\nimport { on } from \"@/glow/events\";\r\nimport { preventDefault } from \"@/utils\";\r\n\r\nimport QuickCart from \"@/lib/header/quick-cart\";\r\nimport QuickSearch from \"@/lib/header/quick-search\";\r\nimport Navigation from \"@/lib/header/navigation\";\r\nimport Menu from \"@/lib/header/drawer-menu\";\r\n\r\nfunction setHeaderHeightVar(height) {\r\n  document.documentElement.style.setProperty(\"--height-header\", height + \"px\");\r\n}\r\n\r\nsection(\"header\", {\r\n  onLoad() {\r\n    const { enableQuickCart } = document.body.dataset;\r\n    const { enableStickyHeader, transparentHeaderOnHome } =\r\n      this.container.dataset;\r\n    const cartIcon = qs(\"[data-js-cart-icon]\", this.container);\r\n    const cartIndicator = qs(\"[data-js-cart-indicator]\", cartIcon);\r\n    const count = qs(\"[data-js-cart-count]\", this.container);\r\n    const menuButtons = qsa(\"[data-js-menu-button]\", this.container);\r\n    const searchButtons = qsa(\"[data-search]\", this.container);\r\n    const space = qs(\"[data-header-space]\", document);\r\n    const quickCart = enableQuickCart\r\n      ? QuickCart(qs(\"[data-quick-cart]\", this.container))\r\n      : null;\r\n    const menu = Menu(qs(\"[data-drawer-menu]\"));\r\n    const quickSearch = QuickSearch(qs(\"[data-quick-search]\", this.container));\r\n    const navigation = Navigation(qs(\"[data-navigation]\", this.container));\r\n\r\n    // This is done here AND in the liquid so it is responsive in TE but doesn't wait for JS otherwise\r\n    document.body.classList.toggle(\r\n      \"header-transparent-on-home\",\r\n      !!transparentHeaderOnHome\r\n    );\r\n\r\n    // These all return a function for cleanup\r\n    this.listeners = [\r\n      on(\"cart:updated\", ({ cart }) => {\r\n        remove(cartIndicator, \"visible\");\r\n        setTimeout(() => add(cartIndicator, \"visible\"), 500);\r\n        count.innerHTML = cart.item_count;\r\n      }),\r\n\r\n      listen(menuButtons, \"click\", preventDefault(menu.open)),\r\n      listen(searchButtons, \"click\", preventDefault(quickSearch.open)),\r\n    ];\r\n\r\n    if (enableQuickCart) {\r\n      this.listeners.push(\r\n        listen(cartIcon, \"click\", preventDefault(quickCart.open))\r\n      );\r\n    }\r\n\r\n    // Components return a destroy function for cleanup\r\n    this.components = [menu, quickSearch, quickCart];\r\n\r\n    // navigation only exists if the header style is Inline links\r\n    navigation && this.components.push(navigation);\r\n\r\n    if (enableStickyHeader) {\r\n      // Our header is always sticky (with position: sticky) however at some\r\n      // point we want to adjust the styling (eg. box-shadow) so we toggle\r\n      // the is-sticky class when our arbitrary space element (.header__space)\r\n      // goes in and out of the viewport.\r\n      this.io = new IntersectionObserver(([{ isIntersecting: visible }]) => {\r\n        toggle(this.container, \"is-sticky\", !visible);\r\n      });\r\n      this.io.observe(space);\r\n    }\r\n\r\n    // This will watch the height of the header and update the --height-header\r\n    // css variable when necessary. That var gets used for the negative top margin\r\n    // to render the page body under the transparent header\r\n    this.ro = new ResizeObserver(([{ target }]) => {\r\n      if (!contains(target, \"is-sticky\")) {\r\n        setHeaderHeightVar(target.offsetHeight);\r\n      }\r\n    });\r\n    this.ro.observe(this.container);\r\n  },\r\n\r\n  onUnload() {\r\n    this.listeners.forEach(l => l());\r\n    this.components.forEach(c => c.destroy());\r\n\r\n    this.io && this.io.disconnect();\r\n    this.ro.disconnect();\r\n  },\r\n});\r\n","import { listen, qs, qsa } from '@fluorescent/dom';\n\nconst selectors = {\n  form: '.selectors-form',\n  list: '[data-disclosure-list]',\n  toggle: '[data-disclosure-toggle]',\n  input: '[data-disclosure-input]',\n  option: '[data-disclosure-option]',\n};\n\nconst classes = {\n  visible: 'disclosure-list--visible',\n};\n\nfunction has(list, selector) {\n  return list.map(l => l.contains(selector)).filter(Boolean);\n}\n\nexport default function Disclosure(node) {\n  const form = node.closest(selectors.form);\n  const list = qs(selectors.list, node);\n  const toggle = qs(selectors.toggle, node);\n  const input = qs(selectors.input, node);\n  const options = qsa(selectors.option, node);\n\n  const events = [\n    listen(toggle, 'click', handleToggle),\n    listen(options, 'click', submitForm),\n    listen(document, 'click', handleBodyClick),\n    listen(toggle, 'focusout', handleToggleFocusOut),\n    listen(list, 'focusout', handleListFocusOut),\n    listen(node, 'keyup', handleKeyup),\n  ];\n\n  function submitForm(evt) {\n    evt.preventDefault();\n    const { value } = evt.currentTarget.dataset;\n\n    input.value = value;\n    form.submit();\n  }\n\n  function handleToggleFocusOut(evt) {\n    const disclosureLostFocus = has([node], evt.relatedTarget).length === 0;\n\n    if (disclosureLostFocus) {\n      hideList();\n    }\n  }\n\n  function handleListFocusOut(evt) {\n    const childInFocus = has([node], evt.relatedTarget).length > 0;\n    const isVisible = list.classList.contains(classes.visible);\n\n    if (isVisible && !childInFocus) {\n      hideList();\n    }\n  }\n\n  function handleKeyup(evt) {\n    if (evt.which !== 27) return;\n    hideList();\n    toggle.focus();\n  }\n\n  function handleToggle(evt) {\n    const ariaExpanded =\n      evt.currentTarget.getAttribute('aria-expanded') === true;\n    evt.currentTarget.setAttribute('aria-expanded', !ariaExpanded);\n    list.classList.toggle(classes.visible);\n  }\n\n  function handleBodyClick(evt) {\n    const isOption = has([node], evt.target).length > 0;\n    const isVisible = list.classList.contains(classes.visible);\n\n    if (isVisible && !isOption) {\n      hideList();\n    }\n  }\n\n  function hideList() {\n    toggle.setAttribute('aria-expanded', false);\n    list.classList.remove(classes.visible);\n  }\n\n  function unload() {\n    events.forEach(evt => evt());\n  }\n\n  return { unload };\n}\n","import { listen, qsa, toggle } from '@fluorescent/dom';\nimport { slideDown, slideUp, slideStop, isVisible } from 'slide-anim';\n\nimport { section } from '@/glow';\nimport Disclosure from '@/lib/disclosure';\n\nconst selectors = {\n  disclosure: '[data-disclosure]',\n  header: '[data-header]',\n};\n\nsection('footer', {\n  crossBorder: {},\n\n  onLoad() {\n    const headers = qsa(selectors.header, this.container);\n\n    this.headerClick = listen(headers, 'click', handleHeaderClick);\n\n    function handleHeaderClick({ currentTarget }) {\n      const { nextElementSibling: content } = currentTarget;\n      toggle(currentTarget, 'open', !isVisible(content));\n      slideStop(content);\n\n      if (isVisible(content)) {\n        slideUp(content);\n      } else {\n        slideDown(content);\n      }\n    }\n\n    // Wire up Cross Border disclosures\n    const cbSelectors = qsa(selectors.disclosure, this.container);\n\n    if (cbSelectors) {\n      cbSelectors.forEach(selector => {\n        const { disclosure: d } = selector.dataset;\n        this.crossBorder[d] = Disclosure(selector);\n      });\n    }\n  },\n\n  onUnload() {\n    this.headerClick();\n    Object.keys(this.crossBorder).forEach(t => this.crossBorder[t].unload());\n  },\n});\n","function localStorageAvailable() {\n  var test = \"test\";\n  try {\n    localStorage.setItem(test, test);\n    if (localStorage.getItem(test) !== test) {\n      return false;\n    }\n    localStorage.removeItem(test);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst PREFIX = \"fluco_\";\n\nfunction getStorage(key) {\n  if (!localStorageAvailable()) return null;\n  return JSON.parse(localStorage.getItem(PREFIX + key));\n}\n\nfunction removeStorage(key) {\n  if (!localStorageAvailable()) return null;\n  localStorage.removeItem(PREFIX + key);\n  return true;\n}\n\nfunction setStorage(key, val) {\n  if (!localStorageAvailable()) return null;\n  localStorage.setItem(PREFIX + key, val);\n  return true;\n}\n\nexport { getStorage, removeStorage, setStorage };\n","import isMobile from \"is-mobile\";\nimport { add, listen, qs, remove } from \"@fluorescent/dom\";\nimport { getStorage, setStorage } from \"@/lib/storage\";\nimport { createFocusTrap } from \"focus-trap\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nexport default function Popup(container) {\n  const focusTrap = createFocusTrap(container, {\n    allowOutsideClick: false,\n  });\n  const { id, popupType, timeout } = container.dataset;\n  const storageKey = `popup-${id}`;\n  const ageVerifiedKey = `age-verified-${id}`;\n  const ageIsVerified = Boolean(getStorage(ageVerifiedKey));\n\n  let bodyLeave = () => {};\n  const mouseleave = e => {\n    if (!e.relatedTarget && !e.toElement) {\n      showPopup();\n      bodyLeave();\n    }\n  };\n  const events = [];\n\n  // Initialize popup based on type\n  const popupTypes = {\n    \"age_popup\": () => {\n      const verifyBtn = qs(\"[data-verify-age]\", container);\n      if (verifyBtn && !window.Shopify.designMode) {\n        events.push(\n          listen([verifyBtn], \"click\", e => {\n            e.preventDefault();\n            hidePopup();\n          })\n        );\n      }\n\n      if (!ageIsVerified) {\n        showPopup();\n      }\n    },\n    \"popup\": () => {\n      if (!window.Shopify.designMode) {\n        const closeBtn = qs(\"[data-close]\", container);\n        const overlay = qs(\"[data-overlay]\", container);\n        events.push(\n          listen([closeBtn, overlay], \"click\", e => {\n            e.preventDefault();\n            hidePopup();\n          })\n        );\n\n        events.push(\n          listen(container, \"keydown\", ({ keyCode }) => {\n            if (keyCode === 27) hidePopup();\n          })\n        );\n      }\n\n      if (!getStorage(storageKey) && isMobile()) {\n        setTimeout(() => showPopup(), parseInt(timeout));\n      } else if (!getStorage(storageKey)) {\n        bodyLeave = listen(document.body, \"mouseout\", mouseleave);\n      }\n    },\n  };\n\n  popupTypes[popupType]();\n\n  function showPopup() {\n    add(container, \"visible\");\n\n    if (popupType === \"age_popup\") {\n      disableBodyScroll(container);\n      focusTrap.activate();\n    }\n  }\n\n  function hidePopup() {\n    setStorage(storageKey, JSON.stringify(new Date()));\n    remove(container, \"visible\");\n\n    if (popupType === \"age_popup\") {\n      setStorage(ageVerifiedKey, JSON.stringify(new Date()));\n      setTimeout(() => {\n        focusTrap.deactivate();\n        enableBodyScroll(container);\n      }, 330);\n    }\n  }\n\n  function unload() {\n    bodyLeave();\n    events.forEach(unsubscribe => unsubscribe());\n    if (popupType === \"age_popup\") {\n      focusTrap.deactivate();\n      enableBodyScroll(container);\n    }\n  }\n\n  return { unload, showPopup, hidePopup };\n}\n","import { qsa } from \"@fluorescent/dom\";\nimport Popup from \"@/lib/popup\";\n\nimport { section } from \"@/glow\";\n\nsection(\"popup\", {\n  onLoad() {\n    this.popups = qsa(\"[data-popup]\", this.container).map(popup => {\n      return { contructor: Popup(popup), element: popup };\n    });\n  },\n\n  onBlockSelect({ target }) {\n    const targetPopup = this.popups.find(o => o.element === target);\n    targetPopup.contructor.showPopup();\n  },\n\n  onBlockDeselect({ target }) {\n    const targetPopup = this.popups.find(o => o.element === target);\n    targetPopup.contructor.hidePopup();\n  },\n\n  onUnload() {\n    this.popups.forEach(popup => popup.contructor?.unload());\n  },\n});\n","import { add, listen, qsa, toggle } from \"@fluorescent/dom\";\n\nimport { section } from \"@/glow\";\nimport { on, emit } from \"@/glow/events\";\n\nconst slideshowOpts = {\n  adaptiveHeight: false,\n  draggable: false,\n  fade: true,\n  pageDots: false,\n  prevNextButtons: false,\n  wrapAround: true,\n  pauseAutoPlayOnHover: !window.Shopify.designMode,\n};\n\nconst classes = {\n  active: \"is-active\",\n};\nsection(\"announcement-bar\", {\n  timer: null,\n  listeners: [],\n\n  onLoad() {\n    const timing = parseInt(this.container.dataset.timing);\n    const announcements = qsa(\"[data-announcement]\", this.container);\n\n    if (!announcements.length) return;\n\n    document.documentElement.style.setProperty(\n      \"--announcement-height\",\n      this.container.offsetHeight + \"px\"\n    );\n\n    if (announcements.length > 1) {\n      import(flu.chunks.flickity).then(({ Flickity }) => {\n        this.slideshow = new Flickity(this.container, {\n          ...slideshowOpts,\n          autoPlay: timing,\n          on: {\n            // Need to add a modifier to animate after the first slide has changed\n            change(index) {\n              announcements.forEach((el, i) =>\n                toggle(el, classes.active, index === i)\n              );\n            },\n          },\n        });\n\n        this.slideshow.on(\"pointerUp\", () => this.handleRestart());\n        emit(\"announcement-bar:initialized\");\n      });\n\n      this.listeners.push(\n        listen(this.container, \"touchend\", () => this.handleRestart())\n      );\n    } else {\n      add(announcements[0], \"is-active\", \"is-selected\");\n    }\n  },\n\n  handleRestart() {\n    clearTimeout(this.timer);\n    this.timer = setTimeout(() => this.slideshow.playPlayer(), 3500);\n  },\n\n  handleBlockSelect(slideIndex) {\n    this.slideshow.pausePlayer();\n    this.slideshow.select(slideIndex);\n  },\n\n  onBlockSelect({ target }) {\n    if (this.slideshow) {\n      this.handleBlockSelect(target.dataset.index);\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.listeners.push(\n        on(\"announcement-bar:initialized\", () => {\n          this.handleBlockSelect(target.dataset.index);\n        })\n      );\n    }\n  },\n\n  onBlockDeselect() {\n    if (this.slideshow) {\n      this.slideshow.unpausePlayer();\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.listeners.push(\n        on(\"announcement-bar:initialized\", () => {\n          this.slideshow.unpausePlayer();\n        })\n      );\n    }\n  },\n\n  onUnload() {\n    this.slideshow && this.slideshow.destroy();\n    this.listeners.forEach(l => l());\n  },\n});\n","import { section } from '@/glow';\nimport { AnimateFeaturedCollection } from '@/lib/animation';\nimport { qs } from '@fluorescent/dom';\nimport Carousel from '@/lib/carousel';\n\nimport AnimateProductItem from '@/lib/product-item';\n\nconst selectors = {\n  slider: '[data-slider]'\n};\n\nsection('featured-collection', {\n  onLoad() {\n    this.sliderElement = qs(selectors.slider, this.container);\n    this.columns = parseInt(this.container.dataset.columns);\n    this.sliderElement.style.opacity = 0;\n    const carouselWraps = this.container.dataset.carouselWraps === 'true';\n    this.carousel = Carousel(this.container, 'featured-collection', {\n      wrapAround: carouselWraps,\n      onReady: () => {\n        this.animateProductItem = AnimateProductItem(this.container);\n        this.AnimateFeaturedCollection = AnimateFeaturedCollection(this.container);\n      }\n    });\n  },\n\n  onUnload() {\n    this.carousel.destroy();\n    this.animateProductItem && this.animateProductItem.destroy();\n    this.AnimateFeaturedCollection?.destroy();\n  },\n});\n","import { section } from '@/glow';\nimport { on } from '@/glow/events';\nimport { qs } from '@fluorescent/dom';\nimport Carousel from '@/lib/carousel';\nimport AnimateProductItem from '@/lib/product-item';\nimport { AnimateFeaturedCollectionRow } from '@/lib/animation';\n\nconst selectors = {\n  slider: '[data-slider]',\n};\n\nsection('featured-collection-row', {\n  events: [],\n  onLoad() {\n    this.sliderElement = qs(selectors.slider, this.container);\n    this.sliderElement.style.opacity = 0;\n    this.carousel = Carousel(this.container, 'featured-collection-row', {\n      wrapAround: false,\n      adaptiveHeight: false,\n      onReady: () => {\n        this.animateProductItem = AnimateProductItem(this.container);\n        this.AnimateFeaturedCollectionRow = AnimateFeaturedCollectionRow(this.container);\n      }\n    });\n\n    this.events.push(\n      on('featured-collection-row:initialized', () => {\n        if (!window.matchMedia('(min-width: 45em)').matches) {\n          this.carousel.select(1);\n        }\n      })\n    );\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.carousel && this.carousel.destroy();\n    this.animateProductItem && this.animateProductItem.destroy();\n    this.AnimateFeaturedCollectionRow?.destroy();\n  },\n});\n","import isMobile from 'is-mobile';\nimport { add, toggle, listen, qs, qsa, remove } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport { createFocusTrap } from 'focus-trap';\n\nconst selectors = {\n  close: '[data-close]',\n  slider: '[data-slider]',\n  slide: '[data-slide]',\n  imageById: id => `[data-id='${id}']`,\n  navItem: '[data-nav-item]',\n  wrapper: '.lightbox__images-wrapper',\n  prevButton: '[data-prev]',\n  nextButton: '[data-next]',\n};\n\nconst classes = {\n  visible: 'visible',\n  active: 'active',\n  zoom: 'zoom',\n};\n\nexport default function Lightbox(node) {\n  if (!node) return;\n  const trap = createFocusTrap(node);\n  const navItems = qsa(selectors.navItem, node);\n  const wrapper = qs(selectors.wrapper, node);\n  const images = qsa(selectors.slide, node);\n  const previousButton = qs(selectors.prevButton, node);\n  const nextButton = qs(selectors.nextButton, node);\n  const sliderContainer = qs(selectors.slider, node);\n  let events, slider;\n\n  import(flu.chunks.flickity).then(({ Flickity }) => {\n    slider = new Flickity(sliderContainer, {\n      adaptiveHeight: true,\n      draggable: isMobile({ tablet: true, featureDetect: true }),\n      prevNextButtons: false,\n      wrapAround: false,\n      pageDots: false,\n    });\n\n    if (images.length > 1) {\n      slider.on('scroll', progress => {\n        _resetZoom();\n        const progressScale = progress * 100;\n\n        // https://github.com/metafizzy/flickity/issues/289\n        previousButton.disabled = progressScale < 1;\n        nextButton.disabled = progressScale > 99;\n      });\n\n      slider.on('select', () => {\n        navItems.forEach(item => remove(item, classes.active));\n        add(navItems[slider.selectedIndex], classes.active);\n        navItems[slider.selectedIndex].scrollIntoView({\n          behavior: 'smooth',\n          inline: 'nearest',\n        });\n      });\n    } else {\n      add(previousButton, 'hidden');\n      add(nextButton, 'hidden');\n      previousButton.disabled = true;\n      nextButton.disabled = true;\n    }\n\n    events = [\n      listen(qs(selectors.close, node), 'click', e => {\n        e.preventDefault();\n        close();\n      }),\n      listen(node, 'keydown', ({ keyCode }) => {\n        if (keyCode === 27) close();\n      }),\n      listen(navItems, 'click', e => {\n        e.preventDefault();\n\n        const { index } = e.currentTarget.dataset;\n        slider.select(index);\n      }),\n      listen(images, 'click', e => {\n        e.preventDefault();\n\n        _handleZoom(e);\n      }),\n      listen(previousButton, 'click', () => slider.previous()),\n      listen(nextButton, 'click', () => slider.next()),\n    ];\n  });\n\n  function _handleZoom(event) {\n    const image = event.currentTarget;\n    const zoomed = image.classList.contains(classes.zoom);\n    toggle(image, classes.zoom, !zoomed);\n\n    if (zoomed) {\n      _resetZoom(image);\n      return;\n    }\n\n    const x = event.clientX;\n\n    const y = event.clientY + wrapper.scrollTop - sliderContainer.offsetTop;\n\n    const xDelta = (x - image.clientWidth / 2) * -1;\n    const yDelta = (y - image.clientHeight / 2) * -1;\n\n    image.style.transform = `translate3d(${xDelta}px, ${yDelta}px, 0) scale(2)`;\n  }\n\n  function _resetZoom(image) {\n    if (image) {\n      remove(image, classes.zoom);\n      image.style.transform = `translate3d(0px, 0px, 0) scale(1)`;\n\n      return;\n    }\n\n    images.forEach(image => {\n      remove(image, classes.zoom);\n      image.style.transform = `translate3d(0px, 0px, 0) scale(1)`;\n    });\n  }\n\n  function open(id) {\n    add(node, classes.active);\n    setTimeout(() => {\n      add(node, classes.visible);\n      disableBodyScroll(node, {\n        allowTouchMove: el => {\n          while (el && el !== document.body) {\n            if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n              return true;\n            }\n            el = el.parentNode;\n          }\n        },\n        reserveScrollBarGap: true,\n      });\n      trap.activate();\n\n      const image = qs(selectors.imageById(id), node);\n      const { slideIndex } = image.dataset;\n\n      slider && slider.select(slideIndex, false, true);\n    }, 50);\n  }\n\n  function close() {\n    _resetZoom();\n    remove(node, classes.visible);\n    setTimeout(() => {\n      remove(node, classes.active);\n\n      enableBodyScroll(node);\n      trap.deactivate();\n    }, 300);\n  }\n\n  function destroy() {\n    events.forEach(unsubscribe => unsubscribe());\n    slider && slider.destroy();\n  }\n\n  return { destroy, open };\n}\n","import { add, listen, qs, qsa, remove } from \"@fluorescent/dom\";\r\n\r\nexport default function Media(node) {\r\n  const elements = qsa(\"[data-interactive]\", node);\r\n\r\n  if (!elements.length) return;\r\n\r\n  const { Shopify, YT } = window;\r\n\r\n  const acceptedTypes = [\"video\", \"model\", \"external_video\"];\r\n  let activeMedia = null;\r\n  let featuresLoaded = false;\r\n  let instances = {};\r\n\r\n  if (featuresLoaded) {\r\n    elements.forEach(initElement);\r\n  }\r\n\r\n  window.Shopify.loadFeatures(\r\n    [\r\n      {\r\n        name: \"model-viewer-ui\",\r\n        version: \"1.0\",\r\n      },\r\n      {\r\n        name: \"shopify-xr\",\r\n        version: \"1.0\",\r\n      },\r\n      {\r\n        name: \"video-ui\",\r\n        version: \"1.0\",\r\n      },\r\n    ],\r\n    () => {\r\n      featuresLoaded = true;\r\n\r\n      if (\"YT\" in window && Boolean(YT.loaded)) {\r\n        elements.forEach(initElement);\r\n      } else {\r\n        window.onYouTubeIframeAPIReady = function () {\r\n          elements.forEach(initElement);\r\n        };\r\n      }\r\n    }\r\n  );\r\n\r\n  function initElement(el) {\r\n    const { mediaId, mediaType } = el.dataset;\r\n    if (!mediaType || !acceptedTypes.includes(mediaType)) return;\r\n\r\n    if (Object.keys(instances).includes(mediaId)) return;\r\n\r\n    let instance = {\r\n      id: mediaId,\r\n      type: mediaType,\r\n      container: el,\r\n      media: el.children[0],\r\n    };\r\n\r\n    switch (instance.type) {\r\n      case \"video\":\r\n        instance.player = new Shopify.Plyr(instance.media, {\r\n          loop: { active: el.dataset.loop == \"true\" },\r\n        });\r\n        break;\r\n\r\n      case \"external_video\":\r\n        instance.player = new YT.Player(instance.media);\r\n        break;\r\n\r\n      case \"model\":\r\n        instance.viewer = new Shopify.ModelViewerUI(qs(\"model-viewer\", el));\r\n\r\n        listen(qs(\".model-poster\", el), \"click\", e => {\r\n          e.preventDefault();\r\n          playModel(instance);\r\n        });\r\n        break;\r\n    }\r\n\r\n    instances[mediaId] = instance;\r\n\r\n    if (instance.player) {\r\n      if (instance.type === \"video\") {\r\n        instance.player.on(\"playing\", () => {\r\n          pauseActiveMedia(instance);\r\n          activeMedia = instance;\r\n        });\r\n      } else if (instance.type === \"external_video\") {\r\n        instance.player.addEventListener(\"onStateChange\", event => {\r\n          if (event.data === 1) {\r\n            pauseActiveMedia(instance);\r\n            activeMedia = instance;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function playModel(instance) {\r\n    pauseActiveMedia(instance);\r\n    instance.viewer.play();\r\n    add(instance.container, \"model-active\");\r\n    activeMedia = instance;\r\n\r\n    setTimeout(() => {\r\n      qs(\"model-viewer\", instance.container).focus();\r\n    }, 300);\r\n  }\r\n\r\n  function pauseActiveMedia(instance) {\r\n    if (!activeMedia || instance == activeMedia) return;\r\n\r\n    if (activeMedia.player) {\r\n      if (activeMedia.type === \"video\") {\r\n        activeMedia.player.pause();\r\n      } else if (activeMedia.type === \"external_video\") {\r\n        activeMedia.player.pauseVideo();\r\n      }\r\n\r\n      activeMedia = null;\r\n      return;\r\n    }\r\n\r\n    if (activeMedia.viewer) {\r\n      remove(activeMedia.container, \"model-active\");\r\n      activeMedia.viewer.pause();\r\n      activeMedia = null;\r\n    }\r\n  }\r\n\r\n  return { pauseActiveMedia };\r\n}\r\n","import { qs } from '@fluorescent/dom';\nimport Delegate from 'ftdomdelegate';\nimport { emit } from '@/glow/events';\n\nconst selectors = {\n  drawerTrigger: '[data-store-availability-drawer-trigger]',\n  drawer: '[data-store-availability-drawer]',\n  productTitle: '[data-store-availability-product-title]',\n  storeList: '[data-store-availability-list-content]',\n};\n\nconst storeAvailability = (container, product, variant, options) => {\n  let storeList = null;\n  let currentVariant = variant;\n\n  const delegate = new Delegate(container);\n\n  const _clickHandler = e => {\n    e.preventDefault();\n\n    emit('availability:showMore', () => ({\n      product,\n      variant: currentVariant,\n      storeList,\n      options,\n    }));\n  };\n\n  const update = variant => {\n    currentVariant = variant;\n    const variantSectionUrl = `${container.dataset.baseUrl}/variants/${variant.id}/?section_id=store-availability`;\n    container.innerHTML = '';\n\n    fetch(variantSectionUrl)\n      .then(response => {\n        return response.text();\n      })\n      .then(storeAvailabilityHTML => {\n        if (storeAvailabilityHTML.trim() === '') return;\n\n        // Remove section wrapper that throws nested sections error\n        container.innerHTML = storeAvailabilityHTML.trim();\n        container.innerHTML = container.firstElementChild.innerHTML;\n\n        storeList = qs(selectors.storeList, container);\n      });\n  };\n\n  // Intialize\n  update(variant);\n  delegate.on('click', selectors.drawerTrigger, _clickHandler);\n\n  const unload = () => {\n    container.innerHTML = '';\n  };\n\n  return { unload, update };\n};\n\nexport default storeAvailability;\n","import {\r\n  add,\r\n  listen,\r\n  qs,\r\n  qsa,\r\n  contains,\r\n  remove,\r\n  toggle,\r\n} from \"@fluorescent/dom\";\r\nimport isMobile from \"is-mobile\";\r\nimport { cart, getProduct, section } from \"@/glow\";\r\nimport { emit, on } from \"@/glow/events\";\r\nimport { slideDown, slideStop, slideUp } from \"slide-anim\";\r\n\r\nimport { getVariantFromId } from \"@shopify/theme-product\";\r\nimport Lightbox from \"@/lib/lightbox\";\r\nimport Media from \"@/lib/media\";\r\nimport ProductForm from \"@/lib/product-form\";\r\nimport { switchImage } from \"@/utils\";\r\nimport {\r\n  quantityInput,\r\n  variantPopup,\r\n  updatePrices,\r\n  updateSku,\r\n  updateBuyButton,\r\n  optionButtons,\r\n  inventoryCounter,\r\n  variantAvailability,\r\n} from \"@/lib/product\";\r\nimport { updateUnitPrices } from \"@/lib/unit-pricing\";\r\nimport storeAvailability from \"@/lib/store-availability\";\r\nimport accordions from \"@/lib/accordions\";\r\nimport dispatchCustomEvent from \"@/lib/dispatch-custom-event\";\r\nimport { AnimateFeaturedProduct } from \"@/lib/animation\";\r\nimport Carousel from \"@/lib/carousel\";\r\n\r\nconst selectors = {\r\n  form: \"[data-product-form]\",\r\n  addToCart: \"[data-add-to-cart]\",\r\n  variantSelect: \"[data-variant-select]\",\r\n  optionById: id => `[value='${id}']`,\r\n  thumb: \"[data-product-thumbnail]\",\r\n  shippingEstimatorButton: \"[data-estimator-trigger]\",\r\n  storeAvailability: \"[data-store-availability-container]\",\r\n  quantityError: \"[data-quantity-error]\",\r\n  customtextInput: \"[data-custom-text-input]\",\r\n  customtextInputTarget: \"[data-custom-text-input-target]\",\r\n};\r\n\r\nsection(\"featured-product\", {\r\n  productForm: null,\r\n  events: [],\r\n  accordions: [],\r\n\r\n  onLoad() {\r\n    const { placeholder, productHasOnlyDefaultVariant } =\r\n      this.container.dataset;\r\n\r\n    if (placeholder === \"true\") return;\r\n\r\n    this.formElement = qs(selectors.form, this.container);\r\n\r\n    this.images = qsa(\"[data-open]\", this.container);\r\n    this.quantityError = qs(selectors.quantityError, this.container);\r\n\r\n    const viewInYourSpace = qs(\"[data-in-your-space]\", this.container);\r\n    viewInYourSpace && toggle(viewInYourSpace, \"visible\", isMobile());\r\n\r\n    // Handle Surface pickup\r\n    this.storeAvailabilityContainer = qs(\r\n      selectors.storeAvailability,\r\n      this.container\r\n    );\r\n    this.availability = null;\r\n\r\n    if (this.formElement) {\r\n      const { productHandle, currentProductId } = this.formElement.dataset;\r\n      const product = getProduct(productHandle);\r\n      product(data => {\r\n        const variant = getVariantFromId(data, parseInt(currentProductId));\r\n\r\n        if (this.storeAvailabilityContainer && variant) {\r\n          this.availability = storeAvailability(\r\n            this.storeAvailabilityContainer,\r\n            data,\r\n            variant,\r\n            { hideVariantTitle: productHasOnlyDefaultVariant === \"true\" }\r\n          );\r\n        }\r\n\r\n        this.productForm = ProductForm(this.container, this.formElement, data, {\r\n          onOptionChange: e => this.onOptionChange(e),\r\n          onFormSubmit: e => this.onFormSubmit(e),\r\n          onQuantityChange: e => this.onQuantityChange(e),\r\n        });\r\n\r\n        const productInventoryJson = qs(\r\n          \"[data-product-inventory-json]\",\r\n          this.container\r\n        );\r\n\r\n        if (productInventoryJson) {\r\n          const jsonData = JSON.parse(productInventoryJson.innerHTML);\r\n          const variantsInventories = jsonData.inventory;\r\n\r\n          if (variantsInventories) {\r\n            const config = {\r\n              id: variant.id,\r\n              variantsInventories,\r\n            };\r\n            this.inventoryCounter = inventoryCounter(this.container, config);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    const accordionElements = qsa(\".accordion\", this.container);\r\n    accordionElements.forEach(accordion => {\r\n      const accordionOpen = accordion.classList.contains(\"accordion--open\");\r\n      this.accordions.push(accordions(accordion, { firstOpen: accordionOpen }));\r\n\r\n      const accordionParent = accordion.parentElement;\r\n      if (\r\n        accordionParent.classList.contains(\"rte--product\") &&\r\n        !accordionParent.classList.contains(\"accordion accordion--product\")\r\n      ) {\r\n        accordion.classList.add(\"rte--product\", \"accordion--product\");\r\n      }\r\n    });\r\n\r\n    this.lightbox = Lightbox(qs(\"[data-lightbox]\", this.container));\r\n    this.media = Media(this.container);\r\n    this.optionButtons = optionButtons(\r\n      qsa(\"[data-option-buttons]\", this.container)\r\n    );\r\n    this.quantityInput = quantityInput(this.container);\r\n    this.customtextInput = qs(selectors.customtextInput, this.container);\r\n    this.customtextInputTarget = qs(\r\n      selectors.customtextInputTarget,\r\n      this.container\r\n    );\r\n    this.variantPopup = variantPopup(this.container);\r\n    this.socialButtons = qsa(\"[data-social-share]\", this.container);\r\n\r\n    if (qs(\".product__media-slider\", this.container)) {\r\n      this.mobileCarousel = Carousel(this.container, \"product-template\", {\r\n        wrapAround: false,\r\n        adaptiveHeight: true,\r\n      });\r\n    }\r\n\r\n    this._initEvents();\r\n\r\n    // Handle dynamic variant options\r\n    this.variantAvailability = variantAvailability(this.container);\r\n\r\n    // Init animation\r\n    this.AnimateFeaturedProduct = AnimateFeaturedProduct(this.container);\r\n  },\r\n\r\n  _initEvents() {\r\n    this.events.push(\r\n      listen(this.images, \"click\", e => {\r\n        e.preventDefault();\r\n\r\n        this.lightbox.open(e.currentTarget.dataset.open);\r\n      })\r\n    );\r\n    this.events.push(\r\n      listen(this.socialButtons, \"click\", e => {\r\n        toggle(e.target, \"active\");\r\n        const sub = qs(\".article__share-icons\", e.target);\r\n\r\n        sub.setAttribute(\"aria-hidden\", !contains(e.target, \"active\"));\r\n      })\r\n    );\r\n\r\n    // Adds listener for note input changes\r\n    if (this.customtextInput) {\r\n      this.events.push(\r\n        listen(this.customtextInput, \"change\", e => {\r\n          // Update the hidden note input within the form\r\n          this.customtextInputTarget.value = e.target.value;\r\n        })\r\n      );\r\n    }\r\n  },\r\n\r\n  // When the user changes a product option\r\n  onOptionChange({ dataset: { variant } }) {\r\n    const buyButton = qs(selectors.addToCart, this.container);\r\n\r\n    // Update prices to reflect selected variant\r\n    updatePrices(this.container, variant);\r\n\r\n    // Update buy button\r\n    updateBuyButton(buyButton, variant);\r\n\r\n    // Update unit pricing\r\n    updateUnitPrices(this.container, variant);\r\n\r\n    // Update sku\r\n    updateSku(this.container, variant);\r\n\r\n    dispatchCustomEvent(\"product:variant-change\", { variant: variant });\r\n\r\n    this.inventoryCounter && this.inventoryCounter.update(variant);\r\n\r\n    if (!variant) {\r\n      updateBuyButton(qs(\"[data-add-to-cart]\", this.container), false);\r\n\r\n      this.availability && this.availability.unload();\r\n      return;\r\n    }\r\n\r\n    // We need to set the id input manually so the Dynamic Checkout Button works\r\n    const selectedVariantOpt = qs(\r\n      `${selectors.variantSelect} ${selectors.optionById(variant.id)}`,\r\n      this.container\r\n    );\r\n    selectedVariantOpt.selected = true;\r\n\r\n    // We need to dispatch an event so Shopify pay knows the form has changed\r\n    this.formElement.dispatchEvent(new Event(\"change\"));\r\n\r\n    // Move screen or mobile slider to selected variants media\r\n    if (variant.featured_media) {\r\n      switchImage(this.container, variant.featured_media.id);\r\n    }\r\n\r\n    // Update product availability content\r\n    this.availability && this.availability.update(variant);\r\n  },\r\n\r\n  // When user submits the product form\r\n  onFormSubmit(e) {\r\n    const { enableQuickCart } = document.body.dataset;\r\n\r\n    // If a featured product section is on the cart page we will need to refresh\r\n    // the cart to show a product has been added.\r\n    const cartPage = document.body.classList.contains(\"template-cart\");\r\n\r\n    if (!enableQuickCart || cartPage) return;\r\n\r\n    e.preventDefault();\r\n\r\n    add(this.quantityError, \"hidden\");\r\n\r\n    const button = qs(selectors.addToCart, this.container);\r\n    add(button, \"loading\");\r\n    cart\r\n      .addItem(this.formElement)\r\n      .then(({ item }) => {\r\n        remove(button, \"loading\");\r\n        emit(\"cart:open\", null, { flash: item.variant_id });\r\n        dispatchCustomEvent(\"cart:item-added\", { product: item });\r\n      })\r\n      .catch(() => {\r\n        remove(this.quantityError, \"hidden\");\r\n        const button = qs(selectors.addToCart, this.container);\r\n        remove(button, \"loading\");\r\n      });\r\n  },\r\n\r\n  // When user updates quantity\r\n  onQuantityChange({ dataset: { variant, quantity } }) {\r\n    // Adjust the hidden quantity input within the form\r\n    const quantityInputs = [...qsa('[name=\"quantity\"]', this.formElement)];\r\n    quantityInputs.forEach(quantityInput => {\r\n      quantityInput.value = quantity;\r\n    });\r\n\r\n    dispatchCustomEvent(\"product:quantity-update\", {\r\n      quantity: quantity,\r\n      variant: variant,\r\n    });\r\n  },\r\n\r\n  onBlockSelect({ target }) {\r\n    const label = qs(\".accordion__label\", target);\r\n    target.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n\r\n    if (!label) return;\r\n    const { parentNode: group, nextElementSibling: content } = label;\r\n\r\n    slideStop(content);\r\n    slideDown(content);\r\n    group.setAttribute(\"data-open\", true);\r\n    label.setAttribute(\"aria-expanded\", true);\r\n    content.setAttribute(\"aria-hidden\", false);\r\n  },\r\n\r\n  onBlockDeselect({ target }) {\r\n    const label = qs(\".accordion__label\", target);\r\n    if (!label) return;\r\n    const { parentNode: group, nextElementSibling: content } = label;\r\n\r\n    slideStop(content);\r\n    slideUp(content);\r\n    group.setAttribute(\"data-open\", false);\r\n    label.setAttribute(\"aria-expanded\", false);\r\n    content.setAttribute(\"aria-hidden\", true);\r\n  },\r\n\r\n  onUnload() {\r\n    this.productForm.destroy();\r\n    this.lightbox.destroy();\r\n    this.optionButtons.destroy();\r\n    this.quantityInput.unload();\r\n    this.events.forEach(unsubscribe => unsubscribe());\r\n    this.accordions.forEach(accordion => accordion.unload());\r\n    this.AnimateFeaturedProduct?.destroy();\r\n    this.variantAvailability?.unload();\r\n  },\r\n});\r\n","import { section } from '@/glow';\nimport { focusFormStatus } from '@/lib/a11y';\nimport { AnimateNewsletter } from '@/lib/animation';\n\nsection('newsletter', {\n  onLoad() {\n    focusFormStatus(this.container);\n    this.AnimateNewsletter = AnimateNewsletter(this.container);\n  },\n  onUnload() {\n    this.AnimateNewsletter?.destroy();\n  },\n});\n","import { qs } from '@fluorescent/dom';\n\nimport { section } from '@/glow';\nimport Carousel from '@/lib/carousel';\nimport AnimateProductItem from '@/lib/product-item';\nimport { AnimateRecommendedProducts } from '@/lib/animation';\n\nconst selectors = {\n  recommendations: '[data-recommendations]',\n  slider: '[data-slider]',\n};\n\nsection('recommended-products', {\n  onLoad() {\n    this.columns = parseInt(this.container.dataset.columns);\n    const { limit, productId: id, sectionId } = this.container.dataset;\n\n    const content = qs(selectors.recommendations, this.container);\n    if (!content) return;\n\n    const requestUrl = `${window.theme.routes.productRecommendations}?section_id=${sectionId}&limit=${limit}&product_id=${id}`;\n\n    const request = new XMLHttpRequest();\n    request.open('GET', requestUrl, true);\n\n    request.onload = () => {\n      if (request.status >= 200 && request.status < 300) {\n        let container = document.createElement('div');\n        container.innerHTML = request.response;\n\n        // Check if the response includes a product item\n        // and if it doesn't remove the entire section\n        const item = qs('.product-item', container);\n        if (!item) {\n          this.container.parentNode.removeChild(this.container);\n          return;\n        }\n\n        content.innerHTML = qs(selectors.recommendations, container).innerHTML;\n\n        this.sliderElement = qs(selectors.slider, this.container);\n        const carouselWraps = this.sliderElement.dataset.carouselWraps === 'true';\n\n        if (this.sliderElement) {\n          this.sliderElement.style.opacity = 0;\n          this.carousel = Carousel(content, 'recommended-products', {\n            wrapAround: carouselWraps,\n            onReady: () => {\n              this.animateProductItem = AnimateProductItem(this.container);\n              this.AnimateRecommendedProducts = AnimateRecommendedProducts(this.container);\n            }\n          });\n        }\n      } else {\n        // If request returns any errors remove the section markup\n        this.container.parentNode.removeChild(this.container);\n      }\n    };\n    request.send();\n  },\n\n  onUnload() {\n    this.carousel.destroy();\n    this.animateProductItem && this.AnimateProductItem.destroy();\n    this.AnimateRecommendedProducts?.destroy();\n  },\n});\n","import { add, remove, listen, qsa } from '@fluorescent/dom';\n\nconst selectors = {\n  dots: '.navigation-dot',\n};\n\nconst navigationDots = (container, slider) => {\n  const navigationDots = qsa(selectors.dots, container);\n  const events = [];\n\n  navigationDots.forEach(dot => {\n    events.push(listen(dot, 'click', e => _handlePageDot(e)));\n  });\n\n  const _handlePageDot = e => {\n    e.preventDefault();\n\n    if (e.target.classList.contains('is-selected')) return;\n\n    const { slideIndex } = e.target.dataset;\n    slider.select(slideIndex);\n    slider.pausePlayer();\n  };\n\n  const update = cellIndex => {\n    const activeClass = 'is-selected';\n\n    navigationDots.forEach(dot => remove(dot, activeClass));\n\n    add(navigationDots[cellIndex], activeClass);\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { update, unload };\n};\n\nexport default navigationDots;\n","import { qs, qsa, remove, add } from \"@fluorescent/dom\";\n\nimport { section } from \"@/glow\";\nimport { on, emit } from \"@/glow/events\";\nimport navigationDots from \"@/lib/navigation-dots\";\nimport getMediaQuery from \"@/lib/media-queries\";\nimport {\n  FadeUpReveal,\n  FadeScaleReveal,\n  FadeUpSplitReveal,\n  shouldAnimate,\n} from \"@/lib/animation\";\nimport { prefersReducedMotion } from \"@/lib/a11y\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  slide: \".slideshow__cell\",\n};\n\nsection(\"slideshow\", {\n  events: [],\n  slideshow: null,\n  dotNavigation: null,\n\n  onLoad() {\n    const slideshowShouldAnimate = shouldAnimate(this.container);\n    const slider = qs(selectors.slider, this.container);\n    const slides = qsa(selectors.slide, this.container);\n    const { autoplay } = slider.dataset;\n\n    remove(slider, \"is-hidden\");\n    // trigger redraw for transition\n    slider.offsetHeight;\n\n    // Animate the first slide only when it is scrolled into view\n\n    const margin = window.matchMedia(getMediaQuery(\"not-small\")).matches\n      ? 200\n      : 100;\n    const threshold = Math.min(margin / this.container.offsetHeight, 0.5);\n    const observer = new IntersectionObserver(\n      ([{ intersectionRatio: visible }]) => {\n        if (visible) {\n          this._animateSlide(slides[0]);\n          this._unpause();\n          observer.disconnect();\n        }\n      },\n      { threshold: threshold }\n    );\n\n    if (slides.length > 1) {\n      import(flu.chunks.flickity).then(({ Flickity }) => {\n        this.slideshow = new Flickity(slider, {\n          adaptiveHeight: true,\n          autoPlay: Number(autoplay),\n          draggable: true,\n          prevNextButtons: false,\n          wrapAround: true,\n          pageDots: false,\n          dragThreshold: 5,\n          pauseAutoPlayOnHover: !window.Shopify.designMode,\n          on: {\n            ready: () => {\n              if (slideshowShouldAnimate) {\n                observer.observe(this.container);\n              }\n            },\n          },\n        });\n\n        // Pause player from playing while offscreen allowing text animation\n        // when player intersects\n        this._pause();\n\n        this.dotNavigation = navigationDots(this.container, this.slideshow);\n\n        this.slideshow.on(\"change\", index => {\n          const activeSlide = this.slideshow.cells[index].element;\n          this._animateSlide(activeSlide);\n          this.dotNavigation && this.dotNavigation.update(index);\n        });\n\n        emit(\"slideshow:initialized\");\n      });\n    } else if (slides.length) {\n      add(slides[0], \"is-selected\");\n\n      if (shouldAnimate(this.container)) {\n        observer.observe(this.container);\n      }\n    }\n  },\n\n  _pause() {\n    this.slideshow && this.slideshow.pausePlayer();\n  },\n\n  _unpause() {\n    this.slideshow && this.slideshow.unpausePlayer();\n  },\n\n  _handleBlockSelect(slideIndex) {\n    this.slideshow.select(slideIndex);\n    this._pause();\n  },\n\n  _animateSlide(target) {\n    if (!prefersReducedMotion()) {\n      const image = qs(\".image, .placeholder-image\", target);\n      const mobileImage = qs(\".image.slideshow__image--mobile\", target);\n      const fadeUpSplitItems = qsa(\".animation-fade-up-split-reveal\", target);\n      const fadeUpItems = qsa(\".animation-fade-up-reveal\", target);\n      const reveals = [];\n      const imageReveal = new FadeScaleReveal(image, {\n        scaleStart: 1.25,\n      });\n      let mobileImageReveal = null;\n      if (mobileImage) {\n        mobileImageReveal = new FadeScaleReveal(mobileImage, {\n          scaleStart: 1.25,\n        });\n      }\n\n      fadeUpSplitItems.forEach(item => {\n        reveals.push(new FadeUpSplitReveal(item));\n      });\n\n      fadeUpItems.forEach(item => {\n        reveals.push(new FadeUpReveal(item));\n      });\n\n      if (\n        !window.matchMedia(getMediaQuery(\"not-small\")).matches &&\n        mobileImage\n      ) {\n        mobileImageReveal.play(0);\n      } else {\n        imageReveal.play(0);\n      }\n\n      let delay = 0;\n      reveals.forEach(reveal => {\n        reveal.play(delay);\n\n        if (reveal.type === \"FadeUpSplitReveal\") {\n          delay += reveal.lineCount * window.theme.animation.delay;\n        } else {\n          delay += window.theme.animation.delay;\n        }\n      });\n    }\n  },\n\n  onBlockSelect({ target }) {\n    if (this.slideshow) {\n      this._handleBlockSelect(target.dataset.index);\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.events.push(\n        on(\"slideshow:initialized\", () => {\n          this._handleBlockSelect(target.dataset.index);\n        })\n      );\n    }\n  },\n\n  onBlockDeselect() {\n    if (this.slideshow) {\n      this._unpause();\n    } else {\n      // Listen for initalization if slideshow does not exist\n      this.events.push(\n        on(\"slideshow:initialized\", () => {\n          this._unpause();\n        })\n      );\n    }\n  },\n\n  onUnload() {\n    this.slideshow && this.slideshow.destroy();\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.dotNavigation && this.dotNavigation.unload();\n    this.observer?.destroy();\n  },\n});\n","import { listen, qs, remove } from \"@fluorescent/dom\";\n\nimport { section } from \"@/glow\";\nimport { AnimateVideo } from \"@/lib/animation\";\n\nconst selectors = {\n  inner: \".video__inner\",\n  player: \"[data-video-player]\",\n  button: \"[data-play-button]\",\n  overlay: \"[data-overlay]\",\n  image: \".video__image\",\n  iframe: \"iframe\",\n  videoWrapper: \".video__wrapper\",\n};\n\nconst classes = {\n  visible: \"visible\",\n};\n\nsection(\"video\", {\n  events: [],\n\n  onLoad() {\n    this.AnimateVideo = AnimateVideo(this.container);\n\n    import(flu.chunks.video).then(({ Video }) => {\n      const videoWrapper = qs(selectors.videoWrapper, this.container);\n      const { videoId, videoType } = videoWrapper.dataset;\n\n      if (!videoId || !videoType) return;\n\n      const player = qs(selectors.player, this.container);\n      const button = qs(selectors.button, this.container);\n      const overlay = qs(selectors.overlay, this.container);\n      const image = qs(selectors.image, this.container);\n\n      const video = Video(this.container, {\n        id: videoId,\n        type: videoType,\n        playerEl: player,\n      });\n\n      video.on(\"play\", () => {\n        const iframe = qs(selectors.iframe, this.container);\n        iframe.taxindex = 0;\n        iframe.focus();\n\n        remove(overlay, classes.visible);\n        image && remove(image, classes.visible);\n      });\n\n      this.events.push(\n        listen(button, \"click\", () => {\n          video.play();\n        })\n      );\n    });\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.AnimateVideo?.destroy();\n  },\n});\n","import { listen } from '@fluorescent/dom';\n\nconst autoPlay = videos => {\n  if (!videos.length) return;\n\n  const events = [\n    listen(window, 'click', () => _handleAutoPlay()),\n    listen(window, 'touchstart', () => _handleAutoPlay()),\n  ];\n\n  // Force autoplay after device interaction if in low power mode\n  function _handleAutoPlay() {\n    videos.forEach(video => {\n      if (!video.playing) {\n        video.play();\n      }\n    });\n    events.forEach(unsubscribe => unsubscribe());\n  }\n};\n\nexport default autoPlay;\n","import { qsa } from \"@fluorescent/dom\";\n\nimport { section } from \"@/glow\";\nimport { backgroundVideoHandler } from \"@/lib/a11y\";\nimport autoPlay from \"@/lib/autoPlay\";\nimport { AnimateVideoHero } from \"@/lib/animation\";\n\nconst selectors = {\n  video: \".video-hero__video\",\n};\n\nsection(\"video-hero\", {\n  videoHandler: null,\n\n  onLoad() {\n    const video = qsa(selectors.video, this.container);\n\n    if (video.length) {\n      this.videoHandler = backgroundVideoHandler(this.container);\n      autoPlay(video);\n    }\n    this.AnimateVideoHero = AnimateVideoHero(this.container);\n  },\n\n  onUnload() {\n    this.videoHandler && this.videoHandler();\n    this.AnimateVideoHero?.destroy();\n  },\n});\n","import { slideDown, slideUp, slideStop, isVisible } from \"slide-anim\";\n\nimport { section } from \"@/glow\";\nimport { listen, qsa, qs } from \"@fluorescent/dom\";\nimport { AnimateQuestions } from \"@/lib/animation\";\n\nconst selectors = {\n  question: \".questions__accordion-label\",\n};\n\nsection(\"questions\", {\n  onLoad() {\n    this.questions = qsa(selectors.question, this.container);\n    this.clickHandlers = listen(this.questions, \"click\", e => {\n      e.preventDefault();\n      const { parentNode: group, nextElementSibling: content } =\n        e.currentTarget;\n\n      if (isVisible(content)) {\n        this._close(e.currentTarget, group, content);\n      } else {\n        this._open(e.currentTarget, group, content);\n      }\n    });\n\n    this.AnimateQuestions = AnimateQuestions(this.container);\n  },\n\n  _open(label, group, content) {\n    slideStop(content, { duration: window.theme.animation.duration * 1000 });\n    slideDown(content, { duration: window.theme.animation.duration * 1000 });\n\n    this.AnimateQuestions.open(\n      qs(\".questions__accordion-answer-inner\", content)\n    );\n\n    group.setAttribute(\"data-open\", true);\n    label.setAttribute(\"aria-expanded\", true);\n    content.setAttribute(\"aria-hidden\", false);\n  },\n\n  _close(label, group, content) {\n    slideStop(content, { duration: window.theme.animation.duration * 1000 });\n    slideUp(content, { duration: window.theme.animation.duration * 1000 });\n\n    this.AnimateQuestions.close(\n      qs(\".questions__accordion-answer-inner\", content)\n    );\n\n    group.setAttribute(\"data-open\", false);\n    label.setAttribute(\"aria-expanded\", false);\n    content.setAttribute(\"aria-hidden\", true);\n  },\n\n  onBlockSelect({ target }) {\n    const label = qs(selectors.question, target);\n    const { parentNode: group, nextElementSibling: content } = label;\n\n    this._open(label, group, content);\n  },\n\n  onUnload() {\n    this.clickHandlers();\n    this.AnimateQuestions?.destroy();\n  },\n});\n","import { section } from '@/glow';\nimport { on } from '@/glow/events';\nimport Carousel from '@/lib/carousel';\nimport { AnimateSocialProof } from '@/lib/animation';\n\n\nsection('social-proof', {\n  carousel: null,\n  events: [],\n  onLoad() {\n    const carouselWraps = this.container.dataset.carouselWraps === 'true';\n\n    this.carousel = Carousel(this.container, 'social-proof', {\n      wrapAround: carouselWraps,\n      adaptiveHeight: false,\n      onReady: () => {\n        this.AnimateSocialProof = AnimateSocialProof(this.container);\n      }\n    });\n  },\n\n  onUnload() {\n    this.caorusel && this.carousel.destroy();\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.AnimateSocialProof?.destroy();\n  },\n\n  onBlockSelect({ target: item }) {\n    if (this.carousel) {\n      this.carousel.select(item.dataset.index);\n    } else {\n      this.events.push(\n        on('social-proof:initialized', () => {\n          this.carousel.select(item.dataset.index);\n        })\n      );\n    }\n  },\n});\n","import { section } from \"@/glow\";\nimport { qs, qsa } from \"@fluorescent/dom\";\nimport { shouldAnimate } from \"@/lib/animation\";\nimport navigationDots from \"@/lib/navigation-dots\";\n\nconst selectors = {\n  slider: \"[data-slider]\",\n  slide: \"[data-slide]\",\n  quoteText: \".quote__item-text > span > p\",\n  secondaryAnimationItems: \".animation-fade-left-reveal\",\n};\n\nsection(\"quote\", {\n  onLoad() {\n    this.gsapImport = import(flu.chunks.gsap);\n    this.gsapImport.then(({ gsap, CustomEase, SplitText }) => {\n      gsap.registerPlugin(CustomEase, SplitText);\n      this.itemEase = gsap.parseEase(window.theme.animation.ease);\n\n      this.tl = gsap.timeline({\n        defaults: {\n          duration: window.theme.animation.duration,\n          stagger: 0.07,\n          ease: this.itemEase,\n        },\n      });\n    });\n    const sliderContainer = qs(selectors.slider, this.container);\n    const slides = qsa(selectors.slide, this.container);\n\n    this.previousSlide = null;\n    this.currentSlide = slides[0];\n\n    // Animate the first slide only when it is scrolled into view\n    this.observer = new IntersectionObserver(\n      ([{ intersectionRatio: visible }]) => {\n        if (visible) {\n          this.slider.cells.forEach(cell => {\n            cell.element.classList.remove(\"is-animating\");\n          });\n          this._revealSlide(this.currentSlide);\n          this.slider.unpausePlayer();\n          this.observer.disconnect();\n        }\n      },\n      { threshold: 0.25 }\n    );\n\n    import(flu.chunks.flickity).then(({ Flickity }) => {\n      this.slider = new Flickity(sliderContainer, {\n        prevNextButtons: false,\n        adaptiveHeight: false,\n        wrapAround: true,\n        pageDots: false,\n        cellAlign: \"center\",\n        draggable: false,\n        pauseAutoPlayOnHover: false,\n        autoPlay: parseInt(sliderContainer.dataset.timer),\n        on: {\n          ready: () => {\n            if (shouldAnimate(this.container)) {\n              this.observer.observe(this.container);\n            } else {\n              this._showSlide(this.currentSlide);\n            }\n          },\n          change: index => {\n            this.previousSlide = this.currentSlide;\n            this.currentSlide = slides[index];\n            this._changeSlide(this.previousSlide, this.currentSlide);\n          },\n        },\n      });\n\n      this.slider.pausePlayer();\n\n      let dotNavigation = null;\n\n      setTimeout(() => {\n        this.slider.resize();\n      }, 250);\n\n      if (slides.length > 1) {\n        dotNavigation = navigationDots(this.container, this.slider);\n\n        this.slider.on(\"select\", () => {\n          dotNavigation.update(this.slider.selectedIndex);\n        });\n      }\n    });\n  },\n\n  _changeSlide(previousSlide, currentSlide) {\n    if (previousSlide) {\n      this._hideSlide(previousSlide);\n    }\n    this._showSlide(currentSlide);\n  },\n\n  _revealSlide(slide) {\n    slide.classList.add(\"is-animating\");\n\n    this.gsapImport.then(({ SplitText }) => {\n      const quoteText = qs(selectors.quoteText, slide);\n      const quoteTextlines = new SplitText(quoteText, {\n        type: \"lines\",\n        linesClass: \"quote__item-text-lines\",\n        lineThreshold: 0.5,\n      });\n      const secondaryAnimationItems = qsa(\n        selectors.secondaryAnimationItems,\n        slide\n      );\n      const animationItems = [];\n      animationItems.splice(0, 0, ...quoteTextlines.lines);\n      animationItems.splice(\n        animationItems.length,\n        0,\n        ...secondaryAnimationItems\n      );\n\n      this.tl.fromTo(\n        animationItems,\n        {\n          x: \"50px\",\n          opacity: 0,\n        },\n        {\n          x: 0,\n          opacity: 1,\n          onComplete: () => {\n            quoteTextlines.revert();\n          },\n        }\n      );\n    });\n  },\n\n  _showSlide(slide) {\n    this.gsapImport.then(() => {\n      this.tl.fromTo(\n        slide,\n        {\n          opacity: 0,\n        },\n        {\n          opacity: 1,\n        }\n      );\n    });\n  },\n\n  _hideSlide(slide) {\n    this.gsapImport.then(() => {\n      this.tl.fromTo(\n        slide,\n        {\n          opacity: 1,\n        },\n        {\n          opacity: 0,\n        }\n      );\n    });\n  },\n\n  onBlockSelect({ target: slide }) {\n    this.slider.select(slide.dataset.index);\n    this.slider.pausePlayer();\n  },\n\n  onBlockDeselect() {\n    this.slider.unpausePlayer();\n  },\n\n  onUnload() {\n    this.slider.destroy();\n    this.dotNavigation && this.dotNavigation.unload();\n    this.observer && this.observer.disconnect();\n  },\n});\n","// do not edit .js files directly - edit src/index.jst\n\n\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n\n/**\n * Copyright 2019 Google LLC. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at.\n *\n *      Http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst DEFAULT_ID = \"__googleMapsScriptId\";\n/**\n * The status of the [[Loader]].\n */\nvar LoaderStatus;\n(function (LoaderStatus) {\n    LoaderStatus[LoaderStatus[\"INITIALIZED\"] = 0] = \"INITIALIZED\";\n    LoaderStatus[LoaderStatus[\"LOADING\"] = 1] = \"LOADING\";\n    LoaderStatus[LoaderStatus[\"SUCCESS\"] = 2] = \"SUCCESS\";\n    LoaderStatus[LoaderStatus[\"FAILURE\"] = 3] = \"FAILURE\";\n})(LoaderStatus || (LoaderStatus = {}));\n/**\n * [[Loader]] makes it easier to add Google Maps JavaScript API to your application\n * dynamically using\n * [Promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise).\n * It works by dynamically creating and appending a script node to the the\n * document head and wrapping the callback function so as to return a promise.\n *\n * ```\n * const loader = new Loader({\n *   apiKey: \"\",\n *   version: \"weekly\",\n *   libraries: [\"places\"]\n * });\n *\n * loader.load().then((google) => {\n *   const map = new google.maps.Map(...)\n * })\n * ```\n */\nclass Loader {\n    /**\n     * Creates an instance of Loader using [[LoaderOptions]]. No defaults are set\n     * using this library, instead the defaults are set by the Google Maps\n     * JavaScript API server.\n     *\n     * ```\n     * const loader = Loader({apiKey, version: 'weekly', libraries: ['places']});\n     * ```\n     */\n    constructor({ apiKey, authReferrerPolicy, channel, client, id = DEFAULT_ID, language, libraries = [], mapIds, nonce, region, retries = 3, url = \"https://maps.googleapis.com/maps/api/js\", version, }) {\n        this.CALLBACK = \"__googleMapsCallback\";\n        this.callbacks = [];\n        this.done = false;\n        this.loading = false;\n        this.errors = [];\n        this.apiKey = apiKey;\n        this.authReferrerPolicy = authReferrerPolicy;\n        this.channel = channel;\n        this.client = client;\n        this.id = id || DEFAULT_ID; // Do not allow empty string\n        this.language = language;\n        this.libraries = libraries;\n        this.mapIds = mapIds;\n        this.nonce = nonce;\n        this.region = region;\n        this.retries = retries;\n        this.url = url;\n        this.version = version;\n        if (Loader.instance) {\n            if (!fastDeepEqual(this.options, Loader.instance.options)) {\n                throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Loader.instance.options)}`);\n            }\n            return Loader.instance;\n        }\n        Loader.instance = this;\n    }\n    get options() {\n        return {\n            version: this.version,\n            apiKey: this.apiKey,\n            channel: this.channel,\n            client: this.client,\n            id: this.id,\n            libraries: this.libraries,\n            language: this.language,\n            region: this.region,\n            mapIds: this.mapIds,\n            nonce: this.nonce,\n            url: this.url,\n            authReferrerPolicy: this.authReferrerPolicy,\n        };\n    }\n    get status() {\n        if (this.errors.length) {\n            return LoaderStatus.FAILURE;\n        }\n        if (this.done) {\n            return LoaderStatus.SUCCESS;\n        }\n        if (this.loading) {\n            return LoaderStatus.LOADING;\n        }\n        return LoaderStatus.INITIALIZED;\n    }\n    get failed() {\n        return this.done && !this.loading && this.errors.length >= this.retries + 1;\n    }\n    /**\n     * CreateUrl returns the Google Maps JavaScript API script url given the [[LoaderOptions]].\n     *\n     * @ignore\n     */\n    createUrl() {\n        let url = this.url;\n        url += `?callback=${this.CALLBACK}`;\n        if (this.apiKey) {\n            url += `&key=${this.apiKey}`;\n        }\n        if (this.channel) {\n            url += `&channel=${this.channel}`;\n        }\n        if (this.client) {\n            url += `&client=${this.client}`;\n        }\n        if (this.libraries.length > 0) {\n            url += `&libraries=${this.libraries.join(\",\")}`;\n        }\n        if (this.language) {\n            url += `&language=${this.language}`;\n        }\n        if (this.region) {\n            url += `&region=${this.region}`;\n        }\n        if (this.version) {\n            url += `&v=${this.version}`;\n        }\n        if (this.mapIds) {\n            url += `&map_ids=${this.mapIds.join(\",\")}`;\n        }\n        if (this.authReferrerPolicy) {\n            url += `&auth_referrer_policy=${this.authReferrerPolicy}`;\n        }\n        return url;\n    }\n    deleteScript() {\n        const script = document.getElementById(this.id);\n        if (script) {\n            script.remove();\n        }\n    }\n    /**\n     * Load the Google Maps JavaScript API script and return a Promise.\n     */\n    load() {\n        return this.loadPromise();\n    }\n    /**\n     * Load the Google Maps JavaScript API script and return a Promise.\n     *\n     * @ignore\n     */\n    loadPromise() {\n        return new Promise((resolve, reject) => {\n            this.loadCallback((err) => {\n                if (!err) {\n                    resolve(window.google);\n                }\n                else {\n                    reject(err.error);\n                }\n            });\n        });\n    }\n    /**\n     * Load the Google Maps JavaScript API script with a callback.\n     */\n    loadCallback(fn) {\n        this.callbacks.push(fn);\n        this.execute();\n    }\n    /**\n     * Set the script on document.\n     */\n    setScript() {\n        if (document.getElementById(this.id)) {\n            // TODO wrap onerror callback for cases where the script was loaded elsewhere\n            this.callback();\n            return;\n        }\n        const url = this.createUrl();\n        const script = document.createElement(\"script\");\n        script.id = this.id;\n        script.type = \"text/javascript\";\n        script.src = url;\n        script.onerror = this.loadErrorCallback.bind(this);\n        script.defer = true;\n        script.async = true;\n        if (this.nonce) {\n            script.nonce = this.nonce;\n        }\n        document.head.appendChild(script);\n    }\n    /**\n     * Reset the loader state.\n     */\n    reset() {\n        this.deleteScript();\n        this.done = false;\n        this.loading = false;\n        this.errors = [];\n        this.onerrorEvent = null;\n    }\n    resetIfRetryingFailed() {\n        if (this.failed) {\n            this.reset();\n        }\n    }\n    loadErrorCallback(e) {\n        this.errors.push(e);\n        if (this.errors.length <= this.retries) {\n            const delay = this.errors.length * Math.pow(2, this.errors.length);\n            console.log(`Failed to load Google Maps script, retrying in ${delay} ms.`);\n            setTimeout(() => {\n                this.deleteScript();\n                this.setScript();\n            }, delay);\n        }\n        else {\n            this.onerrorEvent = e;\n            this.callback();\n        }\n    }\n    setCallback() {\n        window.__googleMapsCallback = this.callback.bind(this);\n    }\n    callback() {\n        this.done = true;\n        this.loading = false;\n        this.callbacks.forEach((cb) => {\n            cb(this.onerrorEvent);\n        });\n        this.callbacks = [];\n    }\n    execute() {\n        this.resetIfRetryingFailed();\n        if (this.done) {\n            this.callback();\n        }\n        else {\n            // short circuit and warn if google.maps is already loaded\n            if (window.google && window.google.maps && window.google.maps.version) {\n                console.warn(\"Google Maps already loaded outside @googlemaps/js-api-loader.\" +\n                    \"This may result in undesirable behavior as options and script parameters may not match.\");\n                this.callback();\n                return;\n            }\n            if (this.loading) ;\n            else {\n                this.loading = true;\n                this.setCallback();\n                this.setScript();\n            }\n        }\n    }\n}\n\nexport { DEFAULT_ID, Loader, LoaderStatus };\n//# sourceMappingURL=index.esm.js.map\n","import { section } from '@/glow';\nimport { Loader } from '@googlemaps/js-api-loader';\n\nimport { add, remove, qs, qsa } from '@fluorescent/dom';\nimport { AnimateMap } from '@/lib/animation';\n\nconst selectors = {\n  mapContainer: '.map__container',\n  map: '.map__element',\n  image: '.map__image',\n};\n\nconst classes = {\n  hidden: 'hidden',\n};\n\nsection('map', {\n  onLoad() {\n    this.AnimateMap = AnimateMap(this.container);\n\n    const map = qs(selectors.mapContainer, this.container);\n    let geocoder = null;\n\n    if (!map) return;\n\n    const { apiKey, address } = map.dataset;\n\n    const rawData = qs('#map-styles', this.container).innerHTML;\n\n    let styleData;\n\n    if (rawData) {\n      try {\n        styleData = JSON.parse(rawData);\n      } catch (e) {\n        styleData = {};\n        console.error(`Custom map JSON error: ${e}`);\n      }\n    }\n\n    if (!apiKey || !address) return;\n\n    const _setFailureHandler = () => {\n      // Handle authetication errors\n      window.gm_authFailure = function () {\n        const maps = qsa(selectors.mapContainer, document);\n        const mapImages = qsa(selectors.image, document);\n\n        maps.forEach(map => {\n          add(map, classes.hidden);\n        });\n\n        mapImages.forEach(img => {\n          remove(img, classes.hidden);\n        });\n      };\n    };\n\n    const _loadMap = () => {\n      add(qs(selectors.image, this.container), classes.hidden);\n      geocoder = new google.maps.Geocoder();\n      geocoder.geocode({ address }, (res, _) => {\n        const { location } = res[0].geometry;\n        const latLong = { lat: location.lat(), lng: location.lng() };\n        const map = new google.maps.Map(qs(selectors.map, this.container), {\n          center: latLong,\n          zoom: 12,\n          styles: styleData.styles,\n        });\n        new google.maps.Marker({\n          position: latLong,\n          map,\n        });\n      });\n    };\n\n    const _loadAPI = (apiKey, address, styleData) => {\n      const loader = new Loader({\n        apiKey,\n        version: 'weekly',\n      });\n\n      // Only load the api once\n      if (!window.google) {\n        loader.load().then(() => {\n          _loadMap(address, styleData);\n        });\n      } else {\n        _loadMap(address, styleData);\n      }\n    };\n\n    _setFailureHandler();\n    _loadAPI(apiKey, address, styleData);\n  },\n\n  onUnload() {\n    this.AnimateMap?.destroy();\n  },\n});\n","import { qsa } from '@fluorescent/dom';\nimport { section } from '@/glow';\n\nimport { backgroundVideoHandler } from '@/lib/a11y';\nimport { AnimateMosaicGrid } from '@/lib/animation';\n\nconst selectors = {\n  video: '.mosaic-grid__item-video',\n};\n\nsection('mosaic-grid', {\n  onLoad() {\n    const videos = qsa(selectors.video, this.container);\n    this.videoHandlers = [];\n\n    if (videos.length) {\n      videos.forEach(video => {\n        this.videoHandlers.push(backgroundVideoHandler(video.parentNode));\n      });\n    }\n\n    this.AnimateMosaicGrid = AnimateMosaicGrid(this.container);\n  },\n\n  onUnload() {\n    this.videoHandlers.forEach(handler => handler());\n    this.AnimateMosaicGrid?.destroy();\n  },\n});\n","import { section } from '@/glow';\nimport { add, contains, listen, qsa, remove } from '@fluorescent/dom';\nimport { AnimateShoppable } from '@/lib/animation';\n\nconst selectors = {\n  hotspotWrappers: '.shoppable-item',\n  hotspots: '.shoppable-item__hotspot',\n  productCard: '.shoppable-item__product-card',\n  closeButtons: '[data-shoppable-item-close]',\n};\n\nconst classes = {\n  animating: 'shoppable-item--animating',\n  unset: 'shoppable-item--position-unset',\n  hidden: 'hidden',\n  active: 'active'\n};\n\nsection('shoppable', {\n  onLoad() {\n    this.productCards = qsa(selectors.productCard, this.container);\n    this.hotspotContainers = qsa(selectors.hotspotWrappers, this.container);\n    this.hotspots = qsa(selectors.hotspots, this.container);\n    const closeButtons = qsa(selectors.closeButtons, this.container);\n\n    // Self terminating mouseenter events\n    this.hotspotEvents = this.hotspots.map(hotspot => {\n      return {\n        element: hotspot,\n        event: listen(hotspot, 'mouseenter', e => {\n          remove(e.currentTarget.parentNode, classes.animating);\n          this.hotspotEvents.find(o => o.element === hotspot).event();\n        }),\n      };\n    });\n\n    this.events = [\n      listen(this.hotspots, 'click', e => this._hotspotClickHandler(e)),\n      listen(document, 'click', e => this._clickOutsideHandler(e)),\n      listen(closeButtons, 'click', () => this._closeAll()),\n      listen(this.container, 'keydown', ({ keyCode }) => {\n        if (keyCode === 27) this._closeAll();\n      }),\n    ];\n\n    this.AnimateShoppable = AnimateShoppable(this.container);\n  },\n\n  _hotspotClickHandler(e) {\n    const hotspot = e.currentTarget;\n    const wrapper = e.currentTarget.parentNode;\n    const card = e.currentTarget.nextElementSibling;\n    if (!card) return;\n\n    if (contains(card, 'hidden')) {\n      const cardHeight = card.offsetHeight;\n      const cardWidth = card.offsetWidth;\n      this._closeAll();\n      card.setAttribute('aria-hidden', false);\n      card.style.setProperty('--card-height', cardHeight + 'px');\n      card.style.setProperty('--card-width', cardWidth + 'px');\n      remove(card, classes.hidden);\n      add(wrapper, classes.active);\n      remove(wrapper, classes.unset);\n      add(this.container, classes.flyupActive);\n\n      // Offset flyup height and scroll hotspot into view\n      if (!window.matchMedia('(min-width: 45em)').matches) {\n        const hotspotOffsetMargin = 70;\n        const hotspotOffsetTop = hotspot.getBoundingClientRect().top;\n        const positionFromBottom =\n          window.innerHeight - (hotspotOffsetTop + hotspotOffsetMargin);\n\n        if (cardHeight > positionFromBottom) {\n          const y = window.pageYOffset + cardHeight - positionFromBottom;\n          window.scrollTo({\n            top: y,\n            behavior: 'smooth',\n          });\n        }\n      }\n    } else {\n      card.setAttribute('aria-hidden', true);\n      add(card, classes.hidden);\n      remove(this.container, classes.flyupActive);\n      remove(wrapper, classes.active);\n    }\n  },\n\n  _clickOutsideHandler(e) {\n    if (\n      !e.target.closest(selectors.productCard) &&\n      !contains(e.target, 'shoppable-item__hotspot')\n    ) {\n      this._closeAll();\n    }\n  },\n\n  _closeAll() {\n    this.productCards.forEach(card => {\n      add(card, classes.hidden);\n      card.setAttribute('aria-hidden', true);\n    });\n    this.hotspotContainers.forEach(spot => remove(spot, classes.active));\n    remove(this.container, classes.flyupActive);\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.AnimateShoppable?.destroy();\n  },\n});\n","import { section } from '@/glow';\nimport { AnimateImageWithText } from '@/lib/animation';\n\nsection('image-with-text', {\n  onLoad() {\n    this.AnimateImageWithText = AnimateImageWithText(this.container);\n  },\n\n  onUnload() {\n    this.AnimateImageWithText?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateImageWithFeatures } from '@/lib/animation';\n\nsection('image-with-features', {\n  onLoad() {\n    this.AnimateImageWithFeatures = AnimateImageWithFeatures(this.container);\n  },\n\n  onUnload() {\n    this.AnimateImageWithFeatures?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateTextColumnsWithImages } from '@/lib/animation';\n\nsection('text-columns-with-images', {\n  onLoad() {\n    this.AnimateTextColumnsWithImages = AnimateTextColumnsWithImages(this.container);\n  },\n\n  onUnload() {\n    this.AnimateTextColumnsWithImages?.disconnect();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateTestimonials } from '@/lib/animation';\n\nsection('testimonials', {\n  onLoad() {\n    this.AnimateTestimonials = AnimateTestimonials(this.container);\n  },\n\n  onUnload() {\n    this.AnimateTestimonials?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateCollectionBanner } from '@/lib/animation';\n\nsection('collection-banner', {\n  onLoad() {\n    this.AnimateCollectionBanner = AnimateCollectionBanner(this.container);\n  },\n\n  onUnload() {\n    this.AnimateCollectionBanner?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateCollectionList } from '@/lib/animation';\n\nsection('collection-list', {\n  onLoad() {\n    this.AnimateCollectionList = AnimateCollectionList(this.container);\n  },\n\n  onUnload() {\n    this.AnimateCollectionList?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateBlogPosts } from '@/lib/animation';\n\nsection('blog-posts', {\n  onLoad() {\n    this.AnimateBlogPosts = AnimateBlogPosts(this.container);\n  },\n\n  onUnload() {\n    this.AnimateBlogPosts?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateLogoList } from '@/lib/animation';\n\nsection('logo-list', {\n  onLoad() {\n    this.AnimateLogoList = AnimateLogoList(this.container);\n  },\n\n  onUnload() {\n    this.AnimateLogoList?.destroy();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateInlineFeatures } from '@/lib/animation';\n\nsection('inline-features', {\n  onLoad() {\n    this.AnimateInlineFeatures = AnimateInlineFeatures(this.container);\n  },\n\n  onUnload() {\n    this.AnimateInlineFeatures?.disconnect();\n  }\n});\n","import { section } from '@/glow';\nimport { AnimateRichText } from '@/lib/animation';\n\nsection('rich-text', {\n  onLoad() {\n    this.AnimateRichText = AnimateRichText(this.container);\n  },\n\n  onUnload() {\n    this.AnimateRichText?.disconnect();\n  }\n});\n","import { qs, add } from \"@fluorescent/dom\";\r\n\r\nconst selectors = {\r\n  \"settings\": \"[data-timer-settings]\",\r\n  \"days\": \"[data-days]\",\r\n  \"hours\": \"[data-hours]\",\r\n  \"minutes\": \"[data-minutes]\",\r\n  \"seconds\": \"[data-seconds]\",\r\n};\r\n\r\nconst classes = {\r\n  \"active\": \"active\",\r\n  \"hide\": \"hide\",\r\n  \"complete\": \"complete\",\r\n};\r\n\r\nexport default function CountdownTimer(container) {\r\n  const settings = qs(selectors.settings, container);\r\n  const {\r\n    year,\r\n    month,\r\n    day,\r\n    hour,\r\n    minute,\r\n    shopTimezone,\r\n    timeZoneSelection,\r\n    hideTimerOnComplete,\r\n  } = JSON.parse(settings.innerHTML);\r\n\r\n  const daysEl = qs(selectors.days, container);\r\n  const hoursEl = qs(selectors.hours, container);\r\n  const minutesEl = qs(selectors.minutes, container);\r\n  const secondsEl = qs(selectors.seconds, container);\r\n\r\n  const timezoneString =\r\n    timeZoneSelection === \"shop\" ? ` GMT${shopTimezone}` : \"\";\r\n  const countDownDate = new Date(\r\n    Date.parse(`${month} ${day}, ${year} ${hour}:${minute}${timezoneString}`)\r\n  );\r\n  const countDownTime = countDownDate.getTime();\r\n\r\n  const timerInterval = setInterval(timerLoop, 1000);\r\n  timerLoop();\r\n  add(container, classes.active);\r\n\r\n  function timerLoop() {\r\n    window.requestAnimationFrame(() => {\r\n      // Get today's date and time\r\n      const now = new Date().getTime();\r\n\r\n      // Find the distance between now and the count down date\r\n      const distance = countDownTime - now;\r\n\r\n      // Time calculations for days, hours, minutes and seconds\r\n      const days = Math.floor(distance / (1000 * 60 * 60 * 24));\r\n      const hours = Math.floor(\r\n        (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\r\n      );\r\n      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n      const seconds = Math.floor((distance % (1000 * 60)) / 1000);\r\n\r\n      // If the count down is finished, write some text\r\n      if (distance < 0) {\r\n        timerInterval && clearInterval(timerInterval);\r\n        daysEl.innerHTML = 0;\r\n        hoursEl.innerHTML = 0;\r\n        minutesEl.innerHTML = 0;\r\n        secondsEl.innerHTML = 0;\r\n\r\n        add(container, classes.complete);\r\n\r\n        if (hideTimerOnComplete) {\r\n          add(container, classes.hide);\r\n        }\r\n      } else {\r\n        daysEl.innerHTML = days;\r\n        hoursEl.innerHTML = hours;\r\n        minutesEl.innerHTML = minutes;\r\n        secondsEl.innerHTML = seconds;\r\n      }\r\n    });\r\n  }\r\n\r\n  function destroy() {\r\n    timerInterval && clearInterval(timerInterval);\r\n  }\r\n\r\n  return { destroy };\r\n}\r\n","import { section } from \"@/glow\";\r\nimport { qsa } from \"@fluorescent/dom\";\r\nimport CountdownTimer from \"@/lib/countdown-timer\";\r\nimport { AnimateCountdownBanner } from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  \"timer\": \"[data-countdown-timer]\",\r\n};\r\n\r\nsection(\"countdown-banner\", {\r\n  onLoad() {\r\n    const timers = qsa(selectors.timer, this.container);\r\n    this.countdownTimers = [];\r\n\r\n    timers.forEach(timer => {\r\n      this.countdownTimers.push(CountdownTimer(timer));\r\n    });\r\n\r\n    this.AnimateCountdownBanner = AnimateCountdownBanner(this.container);\r\n  },\r\n\r\n  onUnload() {\r\n    this.AnimateCountdownBanner?.destroy();\r\n    this.countdownTimers.forEach(countdownTimer => countdownTimer.destroy());\r\n  },\r\n});\r\n","import { qs, add } from \"@fluorescent/dom\";\r\n\r\nimport { section } from \"@/glow\";\r\nimport { AnimateEvents } from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  listContainer: \"[data-events-eventbrite-container]\",\r\n  skeletonList: \".events__list.events__list--skeleton\",\r\n};\r\nconst endpoints = {\r\n  org: token =>\r\n    `https://www.eventbriteapi.com//v3/users/me/organizations/?token=${token}`,\r\n  events: (id, token) =>\r\n    `https://www.eventbriteapi.com//v3/organizations/${id}/events/?token=${token}&expand=venue&status=live`,\r\n};\r\n\r\nsection(\"events\", {\r\n  onLoad() {\r\n    this.accessToken = this.container.dataset.accessToken;\r\n    this.eventCount = parseInt(this.container.dataset.eventCount, 10);\r\n    this.eventHeadingType = this.container.dataset.eventHeadingType;\r\n    this.imageIsConstrained = this.container.dataset.imageIsConstrained;\r\n\r\n    this._fetchOrg();\r\n\r\n    this.animateEvents = AnimateEvents(this.container);\r\n  },\r\n\r\n  /**\r\n   * _fetchOrg gets the eventbrite organization data for this user\r\n   */\r\n  _fetchOrg() {\r\n    if (!this.accessToken) return;\r\n\r\n    fetch(endpoints.org(this.accessToken))\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        this._fetchEvents(res.organizations[0].id);\r\n      });\r\n  },\r\n\r\n  /**\r\n   * _fetchEvents gets the eventbrite events for this user\r\n   * @param {number} id organization id\r\n   */\r\n  _fetchEvents(id) {\r\n    if (!id) return;\r\n\r\n    fetch(endpoints.events(id, this.accessToken))\r\n      .then(res => res.json())\r\n      .then(events => {\r\n        this._renderEvents(events.events);\r\n      });\r\n  },\r\n\r\n  /**\r\n   * _renderEvents adds the event elements on the page\r\n   * @param {array} events array of event objects\r\n   */\r\n  _renderEvents(events) {\r\n    const listContainer = qs(selectors.listContainer, this.container);\r\n    const skeletonList = qs(selectors.skeletonList, this.container);\r\n\r\n    // Build a list of events\r\n    let list = document.createElement(\"ul\");\r\n    list.className = \"events__list\";\r\n    events.slice(0, this.eventCount).forEach(event => {\r\n      list.innerHTML += this._renderEventItem(event);\r\n    });\r\n\r\n    // Append the list to the container on the page\r\n    add(skeletonList, \"hide\");\r\n    setTimeout(() => {\r\n      listContainer.textContent = \"\";\r\n      listContainer.appendChild(list);\r\n\r\n      this.animateEvents.initEventItems();\r\n    }, 330);\r\n  },\r\n\r\n  /**\r\n   * _renderEventItem builds the html needed for an event item with the event data\r\n   * @param {obj} event the event data\r\n   * @returns eventItem\r\n   */\r\n  _renderEventItem(event) {\r\n    let eventItem = `\r\n      <li\r\n        class=\"\r\n          event-item\r\n          event-item--eventbrite\r\n          ${event.logo?.url ? \"event-item--has-image\" : \"\"}\r\n        \"\r\n      >\r\n        <a href=\"${event.url}\" class=\"event-item__link\">\r\n          <div class=\"event-item__image-wrapper hover\">\r\n            ${this._renderImage(event)}\r\n            ${this._renderDateBadge(event)}\r\n          </div>\r\n          <div class=\"event-item__details ta-c\">\r\n            ${this._renderName(event)}\r\n            ${this._renderDate(event)}\r\n            ${this._renderVenue(event)}\r\n            ${this._renderSummary(event)}\r\n          </div>\r\n        </a>\r\n      </li>\r\n    `;\r\n\r\n    return eventItem;\r\n  },\r\n\r\n  _renderImage(event) {\r\n    let image = \"\";\r\n    if (event.logo?.url) {\r\n      image = `\r\n        <div\r\n          class=\"\r\n            image\r\n            event-item__image\r\n            ${\r\n              this.imageIsConstrained === \"false\" ? \"image--style-disabled\" : \"\"\r\n            }\r\n          \"\r\n        >\r\n          <div class=\"image__reveal-container\">\r\n            <img\r\n              src=\"${event.logo.url}\"\r\n              alt=\"${event.name.text}\"\r\n              class=\"image__img\"\r\n            >\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n    return image;\r\n  },\r\n\r\n  _renderDateBadge(event) {\r\n    let html = \"\";\r\n    if (event.start?.local) {\r\n      const date = new Date(event.start.local);\r\n      html = `\r\n        <span class=\"event-item__date-badge\">\r\n          <span class=\"event-item__date-badge-day fs-body-bold fs-body-large\">\r\n            ${new Intl.DateTimeFormat([], { day: \"numeric\" }).format(date)}\r\n          </span>\r\n          <span class=\"event-item__date-badge-month fs-accent\">\r\n            ${new Intl.DateTimeFormat([], { month: \"short\" }).format(date)}\r\n          </span>\r\n        </span>\r\n      `;\r\n    }\r\n\r\n    return html;\r\n  },\r\n\r\n  _renderName(event) {\r\n    let html = \"\";\r\n\r\n    if (event.name?.text) {\r\n      html = `\r\n        <h4 class=\"event-item__name ff-heading fs-heading-3-base animation-fade-up-reveal ${this.eventHeadingType}\">\r\n          ${event.name.text}\r\n        </h4>\r\n      `;\r\n    }\r\n\r\n    return html;\r\n  },\r\n\r\n  _renderDate(event) {\r\n    let html = \"\";\r\n    if (event.start?.local) {\r\n      const date = new Date(event.start.local);\r\n      html = `\r\n        <p class=\"event-item__date fs-body-base animation-fade-up-reveal\">\r\n          ${date.toLocaleDateString([], {\r\n            weekday: \"short\",\r\n            year: \"numeric\",\r\n            month: \"short\",\r\n            day: \"numeric\",\r\n          })}\r\n          ${date.toLocaleTimeString([], {\r\n            timeZone: event.start.timezone,\r\n            hour: \"numeric\",\r\n            minute: \"2-digit\",\r\n          })}\r\n        </p>\r\n      `;\r\n    }\r\n\r\n    return html;\r\n  },\r\n\r\n  _renderVenue(event) {\r\n    let html = \"\";\r\n    if (event.venue?.name) {\r\n      html = `\r\n        <p class=\"event-item__venue fs-body-base animation-fade-up-reveal\">\r\n          ${event.venue.name}\r\n        </p>\r\n      `;\r\n    }\r\n    return html;\r\n  },\r\n\r\n  _renderSummary(event) {\r\n    let html = \"\";\r\n    if (event.summary) {\r\n      html = `\r\n        <div class=\"event-item__summary fs-body-base rte animation-fade-up-reveal\">\r\n          <p>\r\n            ${event.summary}\r\n          </p>\r\n        </div>\r\n      `;\r\n    }\r\n    return html;\r\n  },\r\n\r\n  onUnload() {\r\n    this.animateEvents?.destroy();\r\n  },\r\n});\r\n","import { listen, qs, qsa } from \"@fluorescent/dom\";\r\n\r\nimport { section } from \"@/glow\";\r\n\r\nsection(\"cart\", {\r\n  onLoad() {\r\n    const { enableCartAjax } = this.container.dataset;\r\n    const ajaxEnabled = enableCartAjax === \"true\";\r\n    this.form = qs(\"[data-form]\", this.container);\r\n\r\n    if (!this.form) return;\r\n    const buttons = qsa(\"[data-change]\", this.container);\r\n    const quantityInput = qs(\"[data-quantity-input]\", this.container);\r\n\r\n    this.timer;\r\n\r\n    this.events = [\r\n      listen(buttons, \"click\", e => {\r\n        e.preventDefault();\r\n        const { change } = e.currentTarget.dataset;\r\n        const input = qs(\"input\", e.currentTarget.parentNode);\r\n\r\n        if (change === \"increment\") {\r\n          input.value >= 0 && input.value++;\r\n        } else if (change === \"decrement\") {\r\n          input.value > 0 && input.value--;\r\n        }\r\n\r\n        if (ajaxEnabled) this.handleTimeout();\r\n      }),\r\n    ];\r\n\r\n    if (ajaxEnabled) {\r\n      this.events.push(listen(quantityInput, \"input\", this.handleTimeout));\r\n    }\r\n  },\r\n\r\n  handleTimeout() {\r\n    clearTimeout(this.timer);\r\n    this.timer = setTimeout(() => {\r\n      this.form.submit();\r\n    }, 1000);\r\n  },\r\n\r\n  onUnload() {\r\n    this.events.forEach(unsubscribe => unsubscribe());\r\n  },\r\n});\r\n","import { add, listen, qs, qsa, remove, toggle } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\nimport { createFocusTrap } from 'focus-trap';\n\nimport { formatMoney } from '@/glow';\n\nconst routes = window.theme.routes.cart || {};\n\nconst { strings } = window.theme;\n\nconst selectors = {\n  productVariant: '[data-variant-select]',\n  form: '[data-form]',\n  country: '[data-address-country]',\n  province: '[data-address-province]',\n  provinceWrapper: '[data-address-province-wrapper]',\n  zip: '[data-address-zip]',\n  modal: '[data-estimator-modal]',\n  wash: '[data-mobile-wash]',\n  trigger: '[data-estimator-trigger]',\n  estimateButton: '[data-estimator-button]',\n  success: '[data-estimator-success]',\n  error: '[data-estimator-error]',\n  close: '[data-close-icon]',\n};\n\nconst classes = {\n  active: 'active',\n  hidden: 'hidden',\n  visible: 'is-visible',\n  fixed: 'is-fixed',\n};\n\nconst ShippingEstimator = node => {\n  const form = qs(selectors.form, node);\n  const productSelect = qs(selectors.productVariant, document);\n  const countrySelector = qs(selectors.country, node);\n  const provinceSelector = qs(selectors.province, node);\n  const provinceWrapper = qs(selectors.provinceWrapper, node);\n  const zipInput = qs(selectors.zip, node);\n  const modal = qs(selectors.modal, node);\n  const wash = qs(selectors.wash, node);\n  const trigger = qs(selectors.trigger, node);\n  const estimate = qs(selectors.estimateButton, node);\n  const successMessage = qs(selectors.success, node);\n  const errorMessage = qs(selectors.error, node);\n  let focusTrap = null;\n  let cartCookie;\n\n  // Add dummy placeholder option\n  const firstCountryOptions = qsa('option', countrySelector);\n  if (firstCountryOptions.length > 1) {\n    firstCountryOptions[0].setAttribute('selected', true);\n    firstCountryOptions[0].innerText = strings.product.country_placeholder;\n  }\n\n  _checkForProvince();\n\n  const events = [\n    listen(form, 'submit', e => {\n      e.preventDefault();\n\n      _estimateShipping();\n    }),\n    listen(countrySelector, 'change', _checkForProvince),\n    listen(trigger, 'click', _open),\n    listen(wash, 'click', _close),\n    listen(qs(selectors.close, node), 'click', _close),\n    listen(estimate, 'click', _estimateShipping),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) _close();\n    }),\n  ];\n\n  /* get cookie by name */\n  const getCookie = name => {\n    const value = '; ' + document.cookie;\n    const parts = value.split('; ' + name + '=');\n    if (parts.length == 2) return parts.pop().split(';').shift();\n  };\n\n  /* update the cart cookie value */\n  const updateCartCookie = a => {\n    const date = new Date();\n    date.setTime(date.getTime() + 14 * 86400000);\n    const expires = '; expires=' + date.toGMTString();\n    document.cookie = 'cart=' + a + expires + '; path=/';\n  };\n\n  /* reset the cart cookie value */\n  const resetCartCookie = () => {\n    updateCartCookie(cartCookie);\n  };\n\n  /* get the rates */\n  const getRates = variantId => {\n    add(estimate, 'loading');\n    if (typeof variantId === 'undefined') return;\n\n    const productQuantity = qs('[data-quantity-input]', node);\n\n    const quantity = productQuantity ? parseInt(productQuantity.value) : 1;\n\n    const addData = {\n      id: variantId,\n      quantity: quantity,\n    };\n\n    fetch(routes.add + '.js', {\n      body: JSON.stringify(addData),\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-Requested-With': 'xmlhttprequest',\n      },\n      method: 'POST',\n    })\n      .then(response => {\n        return response.json();\n      })\n      .then(() => {\n        errorMessage.innerHTML = '';\n        successMessage.innerHTML = '';\n        remove(successMessage, 'active');\n        const countryQuery = `shipping_address%5Bcountry%5D=${countrySelector.value}`;\n        const provinceQuery = `shipping_address%5Bprovince%5D=${provinceSelector.value}`;\n        const zipQuery = `shipping_address%5Bzip%5D=${zipInput.value}`;\n\n        const requestUrl = `${routes.shipping}.json?${countryQuery}&${provinceQuery}&${zipQuery}`;\n\n        const request = new XMLHttpRequest();\n\n        request.open('GET', requestUrl, true);\n\n        request.onload = () => {\n          const response = JSON.parse(request.response);\n          if (request.status >= 200 && request.status < 300) {\n            if (response.shipping_rates && response.shipping_rates.length) {\n              add(successMessage, 'active');\n              response.shipping_rates.forEach(rate => {\n                const rateElement = `\n                  <li class=\"shipping-estimator-modal__success-item\">\n                    <h4 class=\"ff-body fs-body-bold\">${rate.name}</h4>\n                    <span class=\"ff-body fs-body-small\">${formatMoney(\n                      rate.price\n                    )}</span>\n                  </li>\n                `;\n                successMessage.insertAdjacentHTML('beforeend', rateElement);\n              });\n            } else {\n              const noRate = `\n                <li class=\"shipping-estimator-modal__success-item\">\n                  <span class=\"ff-body fs-body-small\">${strings.product.no_shipping_rates}</span>\n                </li>\n              `;\n              successMessage.insertAdjacentHTML('beforeend', noRate);\n            }\n          } else {\n            for (const [key, value] of Object.entries(response)) {\n              const errorElement = `\n              <li class=\"shipping-estimator-modal__error-item\">\n                <p class=\"ff-body fs-body-small\"><span>${key}</span> ${value}</p>\n              </li>\n            `;\n              errorMessage.insertAdjacentHTML('beforeend', errorElement);\n            }\n          }\n          resetCartCookie();\n          remove(estimate, 'loading');\n        };\n        request.send();\n      })\n      .catch(() => {\n        resetCartCookie();\n        remove(estimate, 'loading');\n      });\n  };\n\n  function _checkForProvince() {\n    const selected = qs(`[value=\"${countrySelector.value}\"]`, countrySelector);\n\n    const provinces = JSON.parse(selected.dataset.provinces);\n\n    toggle(provinceWrapper, classes.hidden, !provinces.length);\n\n    provinceSelector.innerHTML = provinces.reduce((acc, curr) => {\n      return acc + `<option value=\"${curr[0]}\">${curr[0]}</option>`;\n    }, '');\n  }\n\n  function _estimateShipping() {\n    if (!productSelect.value.length) return;\n\n    cartCookie = getCookie('cart');\n\n    let tempCookieValue = 'temp-cart-cookie___' + Date.now();\n    let fakeCookieValue = 'fake-cart-cookie___' + Date.now();\n\n    // If not found, make a new temp cookie\n    if (!cartCookie) {\n      updateCartCookie(tempCookieValue);\n      cartCookie = getCookie('cart');\n    }\n\n    // If found but has a weird length, abort\n    if (cartCookie.length < 32) return;\n\n    /* Change the cookie value to a new 32 character value */\n    updateCartCookie(fakeCookieValue);\n\n    getRates(parseInt(productSelect.value));\n  }\n\n  function _open(e) {\n    e.preventDefault();\n\n    add(modal, classes.fixed);\n\n    setTimeout(() => {\n      add(modal, classes.visible, classes.active);\n    }, 50);\n\n    modal.setAttribute('aria-hidden', 'false');\n\n    focusTrap = createFocusTrap(modal, { allowOutsideClick: true });\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  }\n\n  function _close(e) {\n    e && e.preventDefault();\n    remove(modal, classes.visible, classes.active);\n\n    focusTrap && focusTrap.deactivate();\n\n    setTimeout(() => {\n      remove(modal, classes.fixed);\n    }, 300);\n\n    modal.setAttribute('aria-hidden', 'true');\n    enableBodyScroll(node);\n  }\n\n  return () => {\n    events.forEach(unsubscribe => unsubscribe());\n  };\n};\n\nexport default ShippingEstimator;\n","export default function (elements = []) {\n  elements.forEach(el => {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('rte__iframe');\n\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n    el.src = el.src;\n  });\n}\n","export default function (elements = []) {\n  elements.forEach(el => {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add('rte__table-wrapper');\n\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n  });\n}\n","import { getUrlWithVariant } from \"@shopify/theme-product-form\";\r\nimport isMobile from \"is-mobile\";\r\nimport { getVariantFromId } from \"@shopify/theme-product\";\r\nimport { slideDown, slideStop, slideUp } from \"slide-anim\";\r\n\r\nimport {\r\n  add,\r\n  listen,\r\n  qs,\r\n  qsa,\r\n  remove,\r\n  toggle,\r\n  contains,\r\n} from \"@fluorescent/dom\";\r\nimport { cart, getProduct, section } from \"@/glow\";\r\nimport { emit } from \"@/glow/events\";\r\n\r\nimport accordions from \"@/lib/accordions\";\r\nimport Lightbox from \"@/lib/lightbox\";\r\nimport Media from \"@/lib/media\";\r\nimport ProductForm from \"@/lib/product-form\";\r\nimport { switchImage } from \"@/utils\";\r\nimport ShippingEstimator from \"@/lib/shipping-estimator\";\r\nimport {\r\n  quantityInput,\r\n  variantPopup,\r\n  updatePrices,\r\n  updateSku,\r\n  updateBuyButton,\r\n  quickPurchaseBar,\r\n  reviewsHandler,\r\n  optionButtons,\r\n  inventoryCounter,\r\n  stickyScroll,\r\n  mobileCarousel,\r\n  variantAvailability,\r\n  complementaryProducts,\r\n  siblingProducts\r\n} from \"@/lib/product\";\r\nimport { updateUnitPrices } from \"@/lib/unit-pricing\";\r\nimport storeAvailability from \"@/lib/store-availability\";\r\nimport { wrapIframes, wrapTables } from \"@/lib/rte\";\r\nimport dispatchCustomEvent from \"@/lib/dispatch-custom-event\";\r\nimport { AnimateProduct } from \"@/lib/animation\";\r\n\r\nconst selectors = {\r\n  form: id => `[data-product-form][data-product-id='${id}']`,\r\n  addToCart: \"[data-add-to-cart]\",\r\n  variantSelect: \"[data-variant-select]\",\r\n  optionById: id => `[value='${id}']`,\r\n  thumb: \"[data-product-thumbnail]\",\r\n  shippingEstimatorButton: \"[data-estimator-trigger]\",\r\n  storeAvailability: \"[data-store-availability-container]\",\r\n  quantityError: \"[data-quantity-error]\",\r\n  customtextInput: \"[data-custom-text-input]\",\r\n  customtextInputTarget: \"[data-custom-text-input-target]\",\r\n};\r\n\r\nsection(\"product\", {\r\n  productForm: null,\r\n  reviewsHandler: null,\r\n  accordions: [],\r\n\r\n  onLoad() {\r\n    const {\r\n      productId,\r\n      productHasOnlyDefaultVariant,\r\n      enableStickyProductDetails,\r\n      galleryStyle,\r\n      mobileGalleryStyle,\r\n    } = this.container.dataset;\r\n\r\n    this.formElement = qs(selectors.form(productId), this.container);\r\n    this.galleryStyle = galleryStyle;\r\n    this.mobileGalleryStyle = mobileGalleryStyle;\r\n\r\n    this.images = qsa(\"[data-open]\", this.container);\r\n    this.quantityError = qs(selectors.quantityError, this.container);\r\n\r\n    this.viewInYourSpace = qs(\"[data-in-your-space]\", this.container);\r\n    this.viewInYourSpace && toggle(this.viewInYourSpace, \"visible\", isMobile());\r\n\r\n    this.productThumbs = qsa(selectors.thumb, this.container);\r\n\r\n    this.complementaryProducts = complementaryProducts(this.container);\r\n\r\n    // Handle Surface pickup\r\n    this.storeAvailabilityContainer = qs(\r\n      selectors.storeAvailability,\r\n      this.container\r\n    );\r\n    this.availability = null;\r\n\r\n    window.SPRCallbacks = {};\r\n\r\n    window.SPRCallbacks.onReviewsLoad = () => {\r\n      if (!this.reviewsHandler) {\r\n        this.reviewsHandler = reviewsHandler();\r\n      }\r\n    };\r\n\r\n    window.SPRCallbacks.onFormFailure = () => {\r\n      emit(\"spr-form:updated\");\r\n    };\r\n\r\n    window.SPRCallbacks.onFormSuccess = () => {\r\n      emit(\"spr-form:updated\");\r\n    };\r\n\r\n    if (this.formElement) {\r\n      const { productHandle, currentProductId } = this.formElement.dataset;\r\n      const product = getProduct(productHandle);\r\n      product(data => {\r\n        const variant = getVariantFromId(data, parseInt(currentProductId));\r\n\r\n        if (this.storeAvailabilityContainer && variant) {\r\n          this.availability = storeAvailability(\r\n            this.storeAvailabilityContainer,\r\n            data,\r\n            variant,\r\n            { hideVariantTitle: productHasOnlyDefaultVariant === \"true\" }\r\n          );\r\n        }\r\n\r\n        const quickPurchaseBarEnabled = qs(\r\n          \"[data-quick-purchase-bar]\",\r\n          this.container\r\n        );\r\n\r\n        if (quickPurchaseBarEnabled) {\r\n          this.quickPurchaseBar = quickPurchaseBar(this.container, variant);\r\n        }\r\n\r\n        this.productForm = ProductForm(this.container, this.formElement, data, {\r\n          onOptionChange: e => this.onOptionChange(e),\r\n          onFormSubmit: e => this.onFormSubmit(e),\r\n          onQuantityChange: e => this.onQuantityChange(e),\r\n        });\r\n\r\n        const productInventoryJson = qs(\r\n          \"[data-product-inventory-json]\",\r\n          this.container\r\n        );\r\n\r\n        if (productInventoryJson) {\r\n          const jsonData = JSON.parse(productInventoryJson.innerHTML);\r\n          const variantsInventories = jsonData.inventory;\r\n\r\n          if (variantsInventories) {\r\n            const config = {\r\n              id: variant.id,\r\n              variantsInventories,\r\n            };\r\n            this.inventoryCounter = inventoryCounter(this.container, config);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    this.quantityInput = quantityInput(this.container);\r\n\r\n    this.customtextInput = qs(selectors.customtextInput, this.container);\r\n    this.customtextInputTarget = qs(\r\n      selectors.customtextInputTarget,\r\n      this.container\r\n    );\r\n\r\n    this.socialButtons = qsa(\"[data-social-share]\", this.container);\r\n\r\n    const accordionElements = qsa(\".accordion\", this.container);\r\n    accordionElements.forEach(accordion => {\r\n      const accordionOpen = accordion.classList.contains(\"accordion--open\");\r\n      this.accordions.push(accordions(accordion, { firstOpen: accordionOpen }));\r\n\r\n      const accordionParent = accordion.parentElement;\r\n      if (\r\n        accordionParent.classList.contains(\"rte--product\") &&\r\n        !accordionParent.classList.contains(\"accordion accordion--product\")\r\n      ) {\r\n        accordion.classList.add(\"rte--product\", \"accordion--product\");\r\n      }\r\n    });\r\n\r\n    this.lightbox = Lightbox(qs(\"[data-lightbox]\", this.container));\r\n    this.media = Media(this.container);\r\n    this.optionButtons = optionButtons(\r\n      qsa(\"[data-option-buttons]\", this.container)\r\n    );\r\n\r\n    this.variantPopup = variantPopup(this.container);\r\n\r\n    this.shippingEstimatorButtons = qsa(\r\n      selectors.shippingEstimatorButton,\r\n      this.container\r\n    );\r\n\r\n    this.shippingEstimator = this.shippingEstimatorButtons.map(button =>\r\n      ShippingEstimator(button.parentNode)\r\n    );\r\n\r\n    const productDescriptionWrapper = qs(\r\n      \".product__description\",\r\n      this.container\r\n    );\r\n\r\n    if (productDescriptionWrapper) {\r\n      wrapIframes(qsa(\"iframe\", productDescriptionWrapper));\r\n      wrapTables(qsa(\"table\", productDescriptionWrapper));\r\n    }\r\n\r\n    this._initEvents();\r\n\r\n    if (qs(\".product__media-slider\", this.container)) {\r\n      this.mobileCarousel = mobileCarousel(this.container);\r\n    }\r\n\r\n    if (enableStickyProductDetails === \"true\" && !isMobile()) {\r\n      this.stickyScroll = stickyScroll(this.container);\r\n    }\r\n\r\n    // Handle dynamic variant options\r\n    this.variantAvailability = variantAvailability(this.container);\r\n\r\n    // Init animation\r\n    this.AnimateProduct = AnimateProduct(this.container);\r\n\r\n    // Handle sibling products\r\n    this.siblingProducts = siblingProducts(this.container);\r\n  },\r\n\r\n  _initEvents() {\r\n    this.events = [\r\n      listen(this.productThumbs, \"click\", e => {\r\n        e.preventDefault();\r\n        const {\r\n          currentTarget: { dataset },\r\n        } = e;\r\n\r\n        this.productThumbs.forEach(thumb => remove(thumb, \"active\"));\r\n        add(e.currentTarget, \"active\");\r\n\r\n        switchImage(this.container, dataset.thumbnailId, this.viewInYourSpace);\r\n      }),\r\n      listen(this.images, \"click\", e => {\r\n        e.preventDefault();\r\n\r\n        this.lightbox.open(e.currentTarget.dataset.open);\r\n      }),\r\n      listen(this.socialButtons, \"click\", e => {\r\n        toggle(e.target, \"active\");\r\n        const sub = qs(\".article__share-icons\", e.target);\r\n\r\n        sub.setAttribute(\"aria-hidden\", !contains(e.target, \"active\"));\r\n      }),\r\n    ];\r\n\r\n    // Adds listener for note input changes\r\n    if (this.customtextInput) {\r\n      this.events.push(\r\n        listen(this.customtextInput, \"change\", e => {\r\n          // Update the hidden note input within the form\r\n          this.customtextInputTarget.value = e.target.value;\r\n        })\r\n      );\r\n    }\r\n  },\r\n\r\n  // When the user changes a product option\r\n  onOptionChange({ dataset: { variant } }) {\r\n    const buyButton = qs(selectors.addToCart, this.container);\r\n\r\n    // Update prices to reflect selected variant\r\n    updatePrices(this.container, variant);\r\n\r\n    // Update buy button\r\n    updateBuyButton(buyButton, variant);\r\n\r\n    // Update unit pricing\r\n    updateUnitPrices(this.container, variant);\r\n\r\n    // Update sku\r\n    updateSku(this.container, variant);\r\n\r\n    this.inventoryCounter && this.inventoryCounter.update(variant);\r\n\r\n    dispatchCustomEvent(\"product:variant-change\", { variant: variant });\r\n\r\n    if (!variant) {\r\n      updateBuyButton(qs(\"[data-add-to-cart]\", this.container), false);\r\n      this.shippingEstimatorButtons.forEach(btn => add(btn, \"hidden\"));\r\n\r\n      this.availability && this.availability.unload();\r\n      return;\r\n    }\r\n\r\n    this.quickPurchaseBar && this.quickPurchaseBar.update(variant);\r\n\r\n    // Update URL with selected variant\r\n    const url = getUrlWithVariant(window.location.href, variant.id);\r\n    window.history.replaceState({ path: url }, \"\", url);\r\n\r\n    // We need to set the id input manually so the Dynamic Checkout Button works\r\n    const selectedVariantOpt = qs(\r\n      `${selectors.variantSelect} ${selectors.optionById(variant.id)}`,\r\n      this.container\r\n    );\r\n    selectedVariantOpt.selected = true;\r\n\r\n    // We need to dispatch an event so Shopify pay knows the form has changed\r\n    this.formElement.dispatchEvent(new Event(\"change\"));\r\n\r\n    // Update selected variant image and thumb\r\n    if (variant.featured_media) {\r\n      // Desktop and mobile share the thumbnails-style gallery, so handle both at once\r\n      if (\r\n        this.galleryStyle === \"thumbnails\" ||\r\n        this.mobileGalleryStyle === \"thumbnails\"\r\n      ) {\r\n        switchImage(\r\n          this.container,\r\n          variant.featured_media.id,\r\n          this.viewInYourSpace\r\n        );\r\n\r\n        const thumb = qs(\r\n          `[data-thumbnail-id=\"${variant.featured_media.id}\"]`,\r\n          this.container\r\n        );\r\n\r\n        this.productThumbs.forEach(thumb => remove(thumb, \"active\"));\r\n        add(thumb, \"active\");\r\n      }\r\n\r\n      // Scroll to variant image if desktop grid or list\r\n      if (!isMobile() && this.galleryStyle !== \"thumbnails\") {\r\n        const targetImage = qs(\r\n          `.product__media [data-media-id=\"${variant.featured_media.id}\"]`\r\n        );\r\n        targetImage.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"nearest\",\r\n          inline: \"nearest\",\r\n        });\r\n      }\r\n\r\n      // Switch slide when mobile slider\r\n      if (isMobile() && this.mobileGalleryStyle === \"slider\") {\r\n        this.mobileCarousel.select(variant.featured_media.position - 1);\r\n      }\r\n    }\r\n\r\n    // Update product availability content\r\n    this.availability && this.availability.update(variant);\r\n\r\n    this.shippingEstimatorButtons.forEach(btn => remove(btn, \"hidden\"));\r\n  },\r\n\r\n  // When user updates quantity\r\n  onQuantityChange({ dataset: { variant, quantity } }) {\r\n    // Adjust the hidden quantity input within the form\r\n    const quantityInputs = [...qsa('[name=\"quantity\"]', this.formElement)];\r\n    quantityInputs.forEach(quantityInput => {\r\n      quantityInput.value = quantity;\r\n    });\r\n\r\n    dispatchCustomEvent(\"product:quantity-update\", {\r\n      quantity: quantity,\r\n      variant: variant,\r\n    });\r\n\r\n    if (!variant) return;\r\n    this.quickPurchaseBar && this.quickPurchaseBar.update(variant);\r\n  },\r\n\r\n  // When user submits the product form\r\n  onFormSubmit(e) {\r\n    const { enableQuickCart } = document.body.dataset;\r\n    if (!enableQuickCart) return;\r\n\r\n    e.preventDefault();\r\n\r\n    add(this.quantityError, \"hidden\");\r\n\r\n    const button = qs(selectors.addToCart, this.container);\r\n    add(button, \"loading\");\r\n    cart\r\n      .addItem(this.formElement)\r\n      .then(({ item }) => {\r\n        remove(button, \"loading\");\r\n        emit(\"cart:open\", null, { flash: item.variant_id });\r\n        dispatchCustomEvent(\"cart:item-added\", { product: item });\r\n      })\r\n      .catch(() => {\r\n        remove(this.quantityError, \"hidden\");\r\n        const button = qs(selectors.addToCart, this.container);\r\n        remove(button, \"loading\");\r\n      });\r\n  },\r\n\r\n  onBlockSelect({ target }) {\r\n    const label = qs(\".accordion__label\", target);\r\n    target.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n\r\n    if (!label) return;\r\n    const { parentNode: group, nextElementSibling: content } = label;\r\n\r\n    slideStop(content);\r\n    slideDown(content);\r\n    group.setAttribute(\"data-open\", true);\r\n    label.setAttribute(\"aria-expanded\", true);\r\n    content.setAttribute(\"aria-hidden\", false);\r\n  },\r\n\r\n  onBlockDeselect({ target }) {\r\n    const label = qs(\".accordion__label\", target);\r\n    if (!label) return;\r\n    const { parentNode: group, nextElementSibling: content } = label;\r\n\r\n    slideStop(content);\r\n    slideUp(content);\r\n    group.setAttribute(\"data-open\", false);\r\n    label.setAttribute(\"aria-expanded\", false);\r\n    content.setAttribute(\"aria-hidden\", true);\r\n  },\r\n\r\n  onUnload() {\r\n    this.productForm.destroy();\r\n    this.lightbox.destroy();\r\n    this.shippingEstimator.forEach(unsubscribe => unsubscribe());\r\n    this.accordions.forEach(accordion => accordion.unload());\r\n    this.optionButtons.destroy();\r\n    this.quantityInput.unload();\r\n    this.events.forEach(unsubscribe => unsubscribe());\r\n    this.quickPurchaseBar && this.quickPurchaseBar.unload();\r\n    this.reviewsHandler && this.reviewsHandler.unload();\r\n    this.mobileCarousel?.unload();\r\n    this.variantAvailability?.unload();\r\n    this.complementaryProducts?.unload();\r\n    this.siblingProducts?.unload();\r\n  },\r\n});\r\n","/* @preserve\n * https://github.com/Elkfox/Ajaxinate\n * Copyright (c) 2017 Elkfox Co Pty Ltd (elkfox.com)\n * MIT License (do not remove above copyright!)\n */\n\n/* Configurable options;\n *\n * method: scroll or click\n * container: selector of repeating content\n * pagination: selector of pagination container\n * offset: number of pixels before the bottom to start loading more on scroll\n * loadingText: 'Loading', The text shown during when appending new content\n * callback: null, callback function after new content is appended\n *\n * Usage;\n *\n * import {Ajaxinate} from 'ajaxinate';\n *\n * new Ajaxinate({\n *   offset: 5000,\n *   loadingText: 'Loading more...',\n * });\n */\n\n/* eslint-env browser */\nexport function Ajaxinate(config) {\n  const settings = config || {};\n\n  const defaults = {\n    method: \"scroll\",\n    container: \"#AjaxinateContainer\",\n    pagination: \"#AjaxinatePagination\",\n    offset: 0,\n    loadingText: \"Loading\",\n    callback: null,\n  };\n\n  // Merge custom configs with defaults\n  this.settings = Object.assign(defaults, settings);\n\n  // Functions\n  this.addScrollListeners = this.addScrollListeners.bind(this);\n  this.addClickListener = this.addClickListener.bind(this);\n  this.checkIfPaginationInView = this.checkIfPaginationInView.bind(this);\n  this.preventMultipleClicks = this.preventMultipleClicks.bind(this);\n  this.removeClickListener = this.removeClickListener.bind(this);\n  this.removeScrollListener = this.removeScrollListener.bind(this);\n  this.removePaginationElement = this.removePaginationElement.bind(this);\n  this.destroy = this.destroy.bind(this);\n\n  // Selectors\n  this.containerElement = document.querySelector(this.settings.container);\n  this.paginationElement = document.querySelector(this.settings.pagination);\n  this.initialize();\n}\n\nAjaxinate.prototype.initialize = function initialize() {\n  if (!this.containerElement) {\n    return;\n  }\n\n  const initializers = {\n    click: this.addClickListener,\n    scroll: this.addScrollListeners,\n  };\n\n  initializers[this.settings.method]();\n};\n\nAjaxinate.prototype.addScrollListeners = function addScrollListeners() {\n  if (!this.paginationElement) {\n    return;\n  }\n\n  document.addEventListener(\"scroll\", this.checkIfPaginationInView);\n  window.addEventListener(\"resize\", this.checkIfPaginationInView);\n  window.addEventListener(\"orientationchange\", this.checkIfPaginationInView);\n};\n\nAjaxinate.prototype.addClickListener = function addClickListener() {\n  if (!this.paginationElement) {\n    return;\n  }\n\n  this.nextPageLinkElement = this.paginationElement.querySelector(\"a\");\n  this.clickActive = true;\n\n  if (\n    typeof this.nextPageLinkElement !== \"undefined\" &&\n    this.nextPageLinkElement !== null\n  ) {\n    this.nextPageLinkElement.addEventListener(\n      \"click\",\n      this.preventMultipleClicks\n    );\n  }\n};\n\nAjaxinate.prototype.preventMultipleClicks = function preventMultipleClicks(\n  event\n) {\n  event.preventDefault();\n\n  if (!this.clickActive) {\n    return;\n  }\n\n  this.nextPageLinkElement.innerText = this.settings.loadingText;\n  this.nextPageUrl = this.nextPageLinkElement.href;\n  this.clickActive = false;\n\n  this.loadMore();\n};\n\nAjaxinate.prototype.checkIfPaginationInView = function checkIfPaginationInView() {\n  const top =\n    this.paginationElement.getBoundingClientRect().top - this.settings.offset;\n  const bottom =\n    this.paginationElement.getBoundingClientRect().bottom +\n    this.settings.offset;\n\n  if (top <= window.innerHeight && bottom >= 0) {\n    this.nextPageLinkElement = this.paginationElement.querySelector(\"a\");\n    this.removeScrollListener();\n\n    if (this.nextPageLinkElement) {\n      this.nextPageLinkElement.innerText = this.settings.loadingText;\n      this.nextPageUrl = this.nextPageLinkElement.href;\n\n      this.loadMore();\n    }\n  }\n};\n\nAjaxinate.prototype.loadMore = function getTheHtmlOfTheNextPageWithAnAjaxRequest() {\n  this.request = new XMLHttpRequest();\n  this.request.onreadystatechange = function success() {\n    if (this.request.readyState === 4 && this.request.status === 200) {\n      var parser = new DOMParser();\n      var htmlDoc = parser.parseFromString(\n        this.request.responseText,\n        \"text/html\"\n      );\n      var newContainer = htmlDoc.querySelectorAll(this.settings.container)[0];\n      var newPagination = htmlDoc.querySelectorAll(this.settings.pagination)[0];\n      this.containerElement.insertAdjacentHTML(\n        \"beforeend\",\n        newContainer.innerHTML\n      );\n      this.paginationElement.innerHTML = newPagination.innerHTML;\n      if (\n        this.settings.callback &&\n        typeof this.settings.callback === \"function\"\n      ) {\n        this.settings.callback(this.request.responseXML);\n      }\n      this.initialize();\n    }\n  }.bind(this);\n  this.request.open(\"GET\", this.nextPageUrl, false);\n  this.request.send();\n};\n\nAjaxinate.prototype.removeClickListener = function removeClickListener() {\n  this.nextPageLinkElement.removeEventListener(\n    \"click\",\n    this.preventMultipleClicks\n  );\n};\n\nAjaxinate.prototype.removePaginationElement = function removePaginationElement() {\n  this.paginationElement.innerHTML = \"\";\n  this.destroy();\n};\n\nAjaxinate.prototype.removeScrollListener = function removeScrollListener() {\n  document.removeEventListener(\"scroll\", this.checkIfPaginationInView);\n  window.removeEventListener(\"resize\", this.checkIfPaginationInView);\n  window.removeEventListener(\"orientationchange\", this.checkIfPaginationInView);\n};\n\nAjaxinate.prototype.destroy = function destroy() {\n  const destroyers = {\n    click: this.removeClickListener,\n    scroll: this.removeScrollListener,\n  };\n\n  destroyers[this.settings.method]();\n\n  return this;\n};\n\nexport default Ajaxinate;\n","import Listeners from './listeners';\nimport { getVariantFromSerializedArray } from '@shopify/theme-product';\n\nvar selectors = {\n  idInput: '[name=\"id\"]',\n  optionInput: '[name^=\"options\"]',\n  quantityInput: '[name=\"quantity\"]',\n  propertyInput: '[name^=\"properties\"]'\n};\n\n// Public Methods\n// -----------------------------------------------------------------------------\n\n/**\n * Returns a URL with a variant ID query parameter. Useful for updating window.history\n * with a new URL based on the currently select product variant.\n * @param {string} url - The URL you wish to append the variant ID to\n * @param {number} id  - The variant ID you wish to append to the URL\n * @returns {string} - The new url which includes the variant ID query parameter\n */\n\nexport function getUrlWithVariant(url, id) {\n  if (/variant=/.test(url)) {\n    return url.replace(/(variant=)[^&]+/, '$1' + id);\n  } else if (/\\?/.test(url)) {\n    return url.concat('&variant=').concat(id);\n  }\n\n  return url.concat('?variant=').concat(id);\n}\n\n/**\n * Constructor class that creates a new instance of a product form controller.\n *\n * @param {Element} element - DOM element which is equal to the <form> node wrapping product form inputs\n * @param {Object} product - A product object\n * @param {Object} options - Optional options object\n * @param {Function} options.onOptionChange - Callback for whenever an option input changes\n * @param {Function} options.onQuantityChange - Callback for whenever an quantity input changes\n * @param {Function} options.onPropertyChange - Callback for whenever a property input changes\n * @param {Function} options.onFormSubmit - Callback for whenever the product form is submitted\n */\nexport function ProductForm(element, product, options) {\n  this.element = element;\n  this.product = _validateProductObject(product);\n\n  options = options || {};\n\n  this._listeners = new Listeners();\n  this._listeners.add(\n    this.element,\n    'submit',\n    this._onSubmit.bind(this, options)\n  );\n\n  this.optionInputs = this._initInputs(\n    selectors.optionInput,\n    options.onOptionChange\n  );\n\n  this.quantityInputs = this._initInputs(\n    selectors.quantityInput,\n    options.onQuantityChange\n  );\n\n  this.propertyInputs = this._initInputs(\n    selectors.propertyInput,\n    options.onPropertyChange\n  );\n}\n\n/**\n * Cleans up all event handlers that were assigned when the Product Form was constructed.\n * Useful for use when a section needs to be reloaded in the theme editor.\n */\nProductForm.prototype.destroy = function() {\n  this._listeners.removeAll();\n};\n\n/**\n * Getter method which returns the array of currently selected option values\n *\n * @returns {Array} An array of option values\n */\nProductForm.prototype.options = function() {\n  return _serializeOptionValues(this.optionInputs, function(item) {\n    var regex = /(?:^(options\\[))(.*?)(?:\\])/;\n    item.name = regex.exec(item.name)[2]; // Use just the value between 'options[' and ']'\n    return item;\n  });\n};\n\n/**\n * Getter method which returns the currently selected variant, or `null` if variant\n * doesn't exist.\n *\n * @returns {Object|null} Variant object\n */\nProductForm.prototype.variant = function() {\n  return getVariantFromSerializedArray(this.product, this.options());\n};\n\n/**\n * Getter method which returns a collection of objects containing name and values\n * of property inputs\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.properties = function() {\n  var properties = _serializePropertyValues(this.propertyInputs, function(\n    propertyName\n  ) {\n    var regex = /(?:^(properties\\[))(.*?)(?:\\])/;\n    var name = regex.exec(propertyName)[2]; // Use just the value between 'properties[' and ']'\n    return name;\n  });\n\n  return Object.entries(properties).length === 0 ? null : properties;\n};\n\n/**\n * Getter method which returns the current quantity or 1 if no quantity input is\n * included in the form\n *\n * @returns {Array} Collection of objects with name and value keys\n */\nProductForm.prototype.quantity = function() {\n  return this.quantityInputs[0]\n    ? Number.parseInt(this.quantityInputs[0].value, 10)\n    : 1;\n};\n\n// Private Methods\n// -----------------------------------------------------------------------------\nProductForm.prototype._setIdInputValue = function(value) {\n  var idInputElement = this.element.querySelector(selectors.idInput);\n\n  if (!idInputElement) {\n    idInputElement = document.createElement('input');\n    idInputElement.type = 'hidden';\n    idInputElement.name = 'id';\n    this.element.appendChild(idInputElement);\n  }\n\n  idInputElement.value = value.toString();\n};\n\nProductForm.prototype._onSubmit = function(options, event) {\n  event.dataset = this._getProductFormEventData();\n\n  if (event.dataset.variant) {\n    this._setIdInputValue(event.dataset.variant.id);\n  }\n\n  if (options.onFormSubmit) {\n    options.onFormSubmit(event);\n  }\n};\n\nProductForm.prototype._onFormEvent = function(cb) {\n  if (typeof cb === 'undefined') {\n    return Function.prototype;\n  }\n\n  return function(event) {\n    event.dataset = this._getProductFormEventData();\n    cb(event);\n  }.bind(this);\n};\n\nProductForm.prototype._initInputs = function(selector, cb) {\n  var elements = Array.prototype.slice.call(\n    this.element.querySelectorAll(selector)\n  );\n\n  return elements.map(\n    function(element) {\n      this._listeners.add(element, 'change', this._onFormEvent(cb));\n      return element;\n    }.bind(this)\n  );\n};\n\nProductForm.prototype._getProductFormEventData = function() {\n  return {\n    options: this.options(),\n    variant: this.variant(),\n    properties: this.properties(),\n    quantity: this.quantity()\n  };\n};\n\nfunction _serializeOptionValues(inputs, transform) {\n  return inputs.reduce(function(options, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      options.push(transform({ name: input.name, value: input.value }));\n    }\n\n    return options;\n  }, []);\n}\n\nfunction _serializePropertyValues(inputs, transform) {\n  return inputs.reduce(function(properties, input) {\n    if (\n      input.checked || // If input is a checked (means type radio or checkbox)\n      (input.type !== 'radio' && input.type !== 'checkbox') // Or if its any other type of input\n    ) {\n      properties[transform(input.name)] = input.value;\n    }\n\n    return properties;\n  }, {});\n}\n\nfunction _validateProductObject(product) {\n  if (typeof product !== 'object') {\n    throw new TypeError(product + ' is not an object.');\n  }\n\n  if (typeof product.variants[0].options === 'undefined') {\n    throw new TypeError(\n      'Product object is invalid. Make sure you use the product object that is output from {{ product | json }} or from the http://[your-product-url].js route'\n    );\n  }\n\n  return product;\n}\n","import { emit, on } from '@/glow/events';\n\nconst FILTERS_REMOVE = 'collection:filters:remove';\nconst RANGE_REMOVE = 'collection:range:remove';\nconst EVERYTHING_CLEAR = 'collection:clear';\nconst FILTERS_UPDATE = 'collection:filters:update';\n\nexport const updateFilters = target => emit(FILTERS_UPDATE, null, { target });\nexport const removeFilters = target => emit(FILTERS_REMOVE, null, { target });\nexport const removeRange = () => emit(RANGE_REMOVE);\n\nexport const filtersUpdated = cb => on(FILTERS_UPDATE, cb);\nexport const filtersRemoved = cb => on(FILTERS_REMOVE, cb);\nexport const everythingCleared = cb => on(EVERYTHING_CLEAR, cb);\nexport const rangeRemoved = cb => on(RANGE_REMOVE, cb);\n","import { qsa } from '@fluorescent/dom';\n\nimport { emit } from '@/glow/events';\n\nconst filtering = container => {\n  const forms = qsa('[data-filter-form]', container);\n  let formData, searchParams;\n  setParams();\n\n  function setParams(form) {\n    form = form || forms[0];\n    formData = new FormData(form);\n    searchParams = new URLSearchParams(formData).toString();\n  }\n\n  /**\n   * Takes the updated form element and updates all other forms with the updated values\n   * @param {*} target\n   */\n  function syncForms(target) {\n    if (!target) return;\n\n    const targetInputs = qsa('[data-filter-item]', target);\n\n    targetInputs.forEach(targetInput => {\n      if (targetInput.type === 'checkbox' || targetInput.type === 'radio') {\n        const items = qsa(\n          `input[name='${targetInput.name}'][value='${targetInput.value}']`\n        );\n        items.forEach(input => {\n          input.checked = targetInput.checked;\n        });\n      } else {\n        const items = qsa(`input[name='${targetInput.name}']`);\n        items.forEach(input => {\n          input.value = targetInput.value;\n        });\n      }\n    });\n  }\n\n  /**\n   * When filters are removed, set the checked attribute to false\n   * for all filter inputs for that filter.\n   * Can accept multiple filters\n   * @param {Array} targets Array of inputs\n   */\n  function uncheckFilters(targets) {\n    if (!targets) return;\n\n    let selector;\n\n    targets.forEach(target => {\n      selector = !selector ? '' : `, ${selector}`;\n      const { name, value } = target.dataset;\n      selector = `input[name='${name}'][value='${value}']${selector}`;\n    });\n\n    const inputs = qsa(selector, container);\n\n    inputs.forEach(input => {\n      input.checked = false;\n    });\n  }\n\n  function clearRangeInputs() {\n    const rangeInputs = qsa('[data-range-input]', container);\n    rangeInputs.forEach(input => {\n      input.value = '';\n    });\n  }\n\n  function resetForms() {\n    forms.forEach(form => {\n      form.reset();\n    });\n  }\n\n  return {\n    getState() {\n      return {\n        url: searchParams,\n      };\n    },\n\n    filtersUpdated(target, cb) {\n      syncForms(target);\n      setParams(target);\n      emit('filters:updated');\n      return cb(this.getState());\n    },\n\n    removeFilters(target, cb) {\n      uncheckFilters(target);\n      setParams();\n      emit('filters:filter-removed');\n      return cb(this.getState());\n    },\n\n    removeRange(cb) {\n      clearRangeInputs();\n      setParams();\n      emit('filters:range-removed');\n      return cb(this.getState());\n    },\n\n    clearAll(cb) {\n      searchParams = '';\n      resetForms();\n\n      return cb(this.getState());\n    },\n  };\n};\n\nexport default filtering;\n","import Delegate from \"ftdomdelegate\";\n\nimport { hydrate } from \"@/glow/events\";\nimport {\n  filtersUpdated,\n  removeFilters,\n  removeRange,\n  filtersRemoved,\n  rangeRemoved,\n  everythingCleared,\n} from \"@/lib/filters/events\";\nimport filtering from \"@/lib/filters/filtering\";\n\nconst filterHandler = ({ container, partial, renderCB }) => {\n  let subscriptions = null;\n  let filters = null;\n  let delegate = null;\n\n  filters = filtering(container);\n\n  // Set initial evx state from collection url object\n  hydrate(filters.getState());\n\n  subscriptions = [\n    filtersRemoved((_, { target }) => {\n      filters.removeFilters(target, data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    rangeRemoved(() => {\n      filters.removeRange(data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    filtersUpdated((_, { target }) => {\n      filters.filtersUpdated(target, data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n\n    everythingCleared(() => {\n      filters.clearAll(data => {\n        renderCB(data.url);\n        hydrate(data)();\n      });\n    }),\n  ];\n\n  delegate = new Delegate(partial);\n\n  delegate.on(\"click\", \"[data-remove-filter]\", e => {\n    e.preventDefault();\n    removeFilters([e.target]);\n  });\n\n  delegate.on(\"click\", \"[data-remove-range]\", e => {\n    e.preventDefault();\n    removeRange();\n  });\n\n  const unload = () => {\n    delegate && delegate.off();\n    subscriptions && subscriptions.forEach(unsubscribe => unsubscribe());\n  };\n\n  return { unload };\n};\n\nexport default filterHandler;\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.noUiSlider = {}));\n})(this, (function (exports) { 'use strict';\n\n    exports.PipsMode = void 0;\n    (function (PipsMode) {\n        PipsMode[\"Range\"] = \"range\";\n        PipsMode[\"Steps\"] = \"steps\";\n        PipsMode[\"Positions\"] = \"positions\";\n        PipsMode[\"Count\"] = \"count\";\n        PipsMode[\"Values\"] = \"values\";\n    })(exports.PipsMode || (exports.PipsMode = {}));\n    exports.PipsType = void 0;\n    (function (PipsType) {\n        PipsType[PipsType[\"None\"] = -1] = \"None\";\n        PipsType[PipsType[\"NoValue\"] = 0] = \"NoValue\";\n        PipsType[PipsType[\"LargeValue\"] = 1] = \"LargeValue\";\n        PipsType[PipsType[\"SmallValue\"] = 2] = \"SmallValue\";\n    })(exports.PipsType || (exports.PipsType = {}));\n    //region Helper Methods\n    function isValidFormatter(entry) {\n        return isValidPartialFormatter(entry) && typeof entry.from === \"function\";\n    }\n    function isValidPartialFormatter(entry) {\n        // partial formatters only need a to function and not a from function\n        return typeof entry === \"object\" && typeof entry.to === \"function\";\n    }\n    function removeElement(el) {\n        el.parentElement.removeChild(el);\n    }\n    function isSet(value) {\n        return value !== null && value !== undefined;\n    }\n    // Bindable version\n    function preventDefault(e) {\n        e.preventDefault();\n    }\n    // Removes duplicates from an array.\n    function unique(array) {\n        return array.filter(function (a) {\n            return !this[a] ? (this[a] = true) : false;\n        }, {});\n    }\n    // Round a value to the closest 'to'.\n    function closest(value, to) {\n        return Math.round(value / to) * to;\n    }\n    // Current position of an element relative to the document.\n    function offset(elem, orientation) {\n        var rect = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var docElem = doc.documentElement;\n        var pageOffset = getPageOffset(doc);\n        // getBoundingClientRect contains left scroll in Chrome on Android.\n        // I haven't found a feature detection that proves this. Worst case\n        // scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n        if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {\n            pageOffset.x = 0;\n        }\n        return orientation ? rect.top + pageOffset.y - docElem.clientTop : rect.left + pageOffset.x - docElem.clientLeft;\n    }\n    // Checks whether a value is numerical.\n    function isNumeric(a) {\n        return typeof a === \"number\" && !isNaN(a) && isFinite(a);\n    }\n    // Sets a class and removes it after [duration] ms.\n    function addClassFor(element, className, duration) {\n        if (duration > 0) {\n            addClass(element, className);\n            setTimeout(function () {\n                removeClass(element, className);\n            }, duration);\n        }\n    }\n    // Limits a value to 0 - 100\n    function limit(a) {\n        return Math.max(Math.min(a, 100), 0);\n    }\n    // Wraps a variable as an array, if it isn't one yet.\n    // Note that an input array is returned by reference!\n    function asArray(a) {\n        return Array.isArray(a) ? a : [a];\n    }\n    // Counts decimals\n    function countDecimals(numStr) {\n        numStr = String(numStr);\n        var pieces = numStr.split(\".\");\n        return pieces.length > 1 ? pieces[1].length : 0;\n    }\n    // http://youmightnotneedjquery.com/#add_class\n    function addClass(el, className) {\n        if (el.classList && !/\\s/.test(className)) {\n            el.classList.add(className);\n        }\n        else {\n            el.className += \" \" + className;\n        }\n    }\n    // http://youmightnotneedjquery.com/#remove_class\n    function removeClass(el, className) {\n        if (el.classList && !/\\s/.test(className)) {\n            el.classList.remove(className);\n        }\n        else {\n            el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\n        }\n    }\n    // https://plainjs.com/javascript/attributes/adding-removing-and-testing-for-classes-9/\n    function hasClass(el, className) {\n        return el.classList ? el.classList.contains(className) : new RegExp(\"\\\\b\" + className + \"\\\\b\").test(el.className);\n    }\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY#Notes\n    function getPageOffset(doc) {\n        var supportPageOffset = window.pageXOffset !== undefined;\n        var isCSS1Compat = (doc.compatMode || \"\") === \"CSS1Compat\";\n        var x = supportPageOffset\n            ? window.pageXOffset\n            : isCSS1Compat\n                ? doc.documentElement.scrollLeft\n                : doc.body.scrollLeft;\n        var y = supportPageOffset\n            ? window.pageYOffset\n            : isCSS1Compat\n                ? doc.documentElement.scrollTop\n                : doc.body.scrollTop;\n        return {\n            x: x,\n            y: y,\n        };\n    }\n    // we provide a function to compute constants instead\n    // of accessing window.* as soon as the module needs it\n    // so that we do not compute anything if not needed\n    function getActions() {\n        // Determine the events to bind. IE11 implements pointerEvents without\n        // a prefix, which breaks compatibility with the IE10 implementation.\n        return window.navigator.pointerEnabled\n            ? {\n                start: \"pointerdown\",\n                move: \"pointermove\",\n                end: \"pointerup\",\n            }\n            : window.navigator.msPointerEnabled\n                ? {\n                    start: \"MSPointerDown\",\n                    move: \"MSPointerMove\",\n                    end: \"MSPointerUp\",\n                }\n                : {\n                    start: \"mousedown touchstart\",\n                    move: \"mousemove touchmove\",\n                    end: \"mouseup touchend\",\n                };\n    }\n    // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // Issue #785\n    function getSupportsPassive() {\n        var supportsPassive = false;\n        /* eslint-disable */\n        try {\n            var opts = Object.defineProperty({}, \"passive\", {\n                get: function () {\n                    supportsPassive = true;\n                },\n            });\n            // @ts-ignore\n            window.addEventListener(\"test\", null, opts);\n        }\n        catch (e) { }\n        /* eslint-enable */\n        return supportsPassive;\n    }\n    function getSupportsTouchActionNone() {\n        return window.CSS && CSS.supports && CSS.supports(\"touch-action\", \"none\");\n    }\n    //endregion\n    //region Range Calculation\n    // Determine the size of a sub-range in relation to a full range.\n    function subRangeRatio(pa, pb) {\n        return 100 / (pb - pa);\n    }\n    // (percentage) How many percent is this value of this range?\n    function fromPercentage(range, value, startRange) {\n        return (value * 100) / (range[startRange + 1] - range[startRange]);\n    }\n    // (percentage) Where is this value on this range?\n    function toPercentage(range, value) {\n        return fromPercentage(range, range[0] < 0 ? value + Math.abs(range[0]) : value - range[0], 0);\n    }\n    // (value) How much is this percentage on this range?\n    function isPercentage(range, value) {\n        return (value * (range[1] - range[0])) / 100 + range[0];\n    }\n    function getJ(value, arr) {\n        var j = 1;\n        while (value >= arr[j]) {\n            j += 1;\n        }\n        return j;\n    }\n    // (percentage) Input a value, find where, on a scale of 0-100, it applies.\n    function toStepping(xVal, xPct, value) {\n        if (value >= xVal.slice(-1)[0]) {\n            return 100;\n        }\n        var j = getJ(value, xVal);\n        var va = xVal[j - 1];\n        var vb = xVal[j];\n        var pa = xPct[j - 1];\n        var pb = xPct[j];\n        return pa + toPercentage([va, vb], value) / subRangeRatio(pa, pb);\n    }\n    // (value) Input a percentage, find where it is on the specified range.\n    function fromStepping(xVal, xPct, value) {\n        // There is no range group that fits 100\n        if (value >= 100) {\n            return xVal.slice(-1)[0];\n        }\n        var j = getJ(value, xPct);\n        var va = xVal[j - 1];\n        var vb = xVal[j];\n        var pa = xPct[j - 1];\n        var pb = xPct[j];\n        return isPercentage([va, vb], (value - pa) * subRangeRatio(pa, pb));\n    }\n    // (percentage) Get the step that applies at a certain value.\n    function getStep(xPct, xSteps, snap, value) {\n        if (value === 100) {\n            return value;\n        }\n        var j = getJ(value, xPct);\n        var a = xPct[j - 1];\n        var b = xPct[j];\n        // If 'snap' is set, steps are used as fixed points on the slider.\n        if (snap) {\n            // Find the closest position, a or b.\n            if (value - a > (b - a) / 2) {\n                return b;\n            }\n            return a;\n        }\n        if (!xSteps[j - 1]) {\n            return value;\n        }\n        return xPct[j - 1] + closest(value - xPct[j - 1], xSteps[j - 1]);\n    }\n    //endregion\n    //region Spectrum\n    var Spectrum = /** @class */ (function () {\n        function Spectrum(entry, snap, singleStep) {\n            this.xPct = [];\n            this.xVal = [];\n            this.xSteps = [];\n            this.xNumSteps = [];\n            this.xHighestCompleteStep = [];\n            this.xSteps = [singleStep || false];\n            this.xNumSteps = [false];\n            this.snap = snap;\n            var index;\n            var ordered = [];\n            // Map the object keys to an array.\n            Object.keys(entry).forEach(function (index) {\n                ordered.push([asArray(entry[index]), index]);\n            });\n            // Sort all entries by value (numeric sort).\n            ordered.sort(function (a, b) {\n                return a[0][0] - b[0][0];\n            });\n            // Convert all entries to subranges.\n            for (index = 0; index < ordered.length; index++) {\n                this.handleEntryPoint(ordered[index][1], ordered[index][0]);\n            }\n            // Store the actual step values.\n            // xSteps is sorted in the same order as xPct and xVal.\n            this.xNumSteps = this.xSteps.slice(0);\n            // Convert all numeric steps to the percentage of the subrange they represent.\n            for (index = 0; index < this.xNumSteps.length; index++) {\n                this.handleStepPoint(index, this.xNumSteps[index]);\n            }\n        }\n        Spectrum.prototype.getDistance = function (value) {\n            var distances = [];\n            for (var index = 0; index < this.xNumSteps.length - 1; index++) {\n                distances[index] = fromPercentage(this.xVal, value, index);\n            }\n            return distances;\n        };\n        // Calculate the percentual distance over the whole scale of ranges.\n        // direction: 0 = backwards / 1 = forwards\n        Spectrum.prototype.getAbsoluteDistance = function (value, distances, direction) {\n            var xPct_index = 0;\n            // Calculate range where to start calculation\n            if (value < this.xPct[this.xPct.length - 1]) {\n                while (value > this.xPct[xPct_index + 1]) {\n                    xPct_index++;\n                }\n            }\n            else if (value === this.xPct[this.xPct.length - 1]) {\n                xPct_index = this.xPct.length - 2;\n            }\n            // If looking backwards and the value is exactly at a range separator then look one range further\n            if (!direction && value === this.xPct[xPct_index + 1]) {\n                xPct_index++;\n            }\n            if (distances === null) {\n                distances = [];\n            }\n            var start_factor;\n            var rest_factor = 1;\n            var rest_rel_distance = distances[xPct_index];\n            var range_pct = 0;\n            var rel_range_distance = 0;\n            var abs_distance_counter = 0;\n            var range_counter = 0;\n            // Calculate what part of the start range the value is\n            if (direction) {\n                start_factor = (value - this.xPct[xPct_index]) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);\n            }\n            else {\n                start_factor = (this.xPct[xPct_index + 1] - value) / (this.xPct[xPct_index + 1] - this.xPct[xPct_index]);\n            }\n            // Do until the complete distance across ranges is calculated\n            while (rest_rel_distance > 0) {\n                // Calculate the percentage of total range\n                range_pct = this.xPct[xPct_index + 1 + range_counter] - this.xPct[xPct_index + range_counter];\n                // Detect if the margin, padding or limit is larger then the current range and calculate\n                if (distances[xPct_index + range_counter] * rest_factor + 100 - start_factor * 100 > 100) {\n                    // If larger then take the percentual distance of the whole range\n                    rel_range_distance = range_pct * start_factor;\n                    // Rest factor of relative percentual distance still to be calculated\n                    rest_factor = (rest_rel_distance - 100 * start_factor) / distances[xPct_index + range_counter];\n                    // Set start factor to 1 as for next range it does not apply.\n                    start_factor = 1;\n                }\n                else {\n                    // If smaller or equal then take the percentual distance of the calculate percentual part of that range\n                    rel_range_distance = ((distances[xPct_index + range_counter] * range_pct) / 100) * rest_factor;\n                    // No rest left as the rest fits in current range\n                    rest_factor = 0;\n                }\n                if (direction) {\n                    abs_distance_counter = abs_distance_counter - rel_range_distance;\n                    // Limit range to first range when distance becomes outside of minimum range\n                    if (this.xPct.length + range_counter >= 1) {\n                        range_counter--;\n                    }\n                }\n                else {\n                    abs_distance_counter = abs_distance_counter + rel_range_distance;\n                    // Limit range to last range when distance becomes outside of maximum range\n                    if (this.xPct.length - range_counter >= 1) {\n                        range_counter++;\n                    }\n                }\n                // Rest of relative percentual distance still to be calculated\n                rest_rel_distance = distances[xPct_index + range_counter] * rest_factor;\n            }\n            return value + abs_distance_counter;\n        };\n        Spectrum.prototype.toStepping = function (value) {\n            value = toStepping(this.xVal, this.xPct, value);\n            return value;\n        };\n        Spectrum.prototype.fromStepping = function (value) {\n            return fromStepping(this.xVal, this.xPct, value);\n        };\n        Spectrum.prototype.getStep = function (value) {\n            value = getStep(this.xPct, this.xSteps, this.snap, value);\n            return value;\n        };\n        Spectrum.prototype.getDefaultStep = function (value, isDown, size) {\n            var j = getJ(value, this.xPct);\n            // When at the top or stepping down, look at the previous sub-range\n            if (value === 100 || (isDown && value === this.xPct[j - 1])) {\n                j = Math.max(j - 1, 1);\n            }\n            return (this.xVal[j] - this.xVal[j - 1]) / size;\n        };\n        Spectrum.prototype.getNearbySteps = function (value) {\n            var j = getJ(value, this.xPct);\n            return {\n                stepBefore: {\n                    startValue: this.xVal[j - 2],\n                    step: this.xNumSteps[j - 2],\n                    highestStep: this.xHighestCompleteStep[j - 2],\n                },\n                thisStep: {\n                    startValue: this.xVal[j - 1],\n                    step: this.xNumSteps[j - 1],\n                    highestStep: this.xHighestCompleteStep[j - 1],\n                },\n                stepAfter: {\n                    startValue: this.xVal[j],\n                    step: this.xNumSteps[j],\n                    highestStep: this.xHighestCompleteStep[j],\n                },\n            };\n        };\n        Spectrum.prototype.countStepDecimals = function () {\n            var stepDecimals = this.xNumSteps.map(countDecimals);\n            return Math.max.apply(null, stepDecimals);\n        };\n        Spectrum.prototype.hasNoSize = function () {\n            return this.xVal[0] === this.xVal[this.xVal.length - 1];\n        };\n        // Outside testing\n        Spectrum.prototype.convert = function (value) {\n            return this.getStep(this.toStepping(value));\n        };\n        Spectrum.prototype.handleEntryPoint = function (index, value) {\n            var percentage;\n            // Covert min/max syntax to 0 and 100.\n            if (index === \"min\") {\n                percentage = 0;\n            }\n            else if (index === \"max\") {\n                percentage = 100;\n            }\n            else {\n                percentage = parseFloat(index);\n            }\n            // Check for correct input.\n            if (!isNumeric(percentage) || !isNumeric(value[0])) {\n                throw new Error(\"noUiSlider: 'range' value isn't numeric.\");\n            }\n            // Store values.\n            this.xPct.push(percentage);\n            this.xVal.push(value[0]);\n            var value1 = Number(value[1]);\n            // NaN will evaluate to false too, but to keep\n            // logging clear, set step explicitly. Make sure\n            // not to override the 'step' setting with false.\n            if (!percentage) {\n                if (!isNaN(value1)) {\n                    this.xSteps[0] = value1;\n                }\n            }\n            else {\n                this.xSteps.push(isNaN(value1) ? false : value1);\n            }\n            this.xHighestCompleteStep.push(0);\n        };\n        Spectrum.prototype.handleStepPoint = function (i, n) {\n            // Ignore 'false' stepping.\n            if (!n) {\n                return;\n            }\n            // Step over zero-length ranges (#948);\n            if (this.xVal[i] === this.xVal[i + 1]) {\n                this.xSteps[i] = this.xHighestCompleteStep[i] = this.xVal[i];\n                return;\n            }\n            // Factor to range ratio\n            this.xSteps[i] =\n                fromPercentage([this.xVal[i], this.xVal[i + 1]], n, 0) / subRangeRatio(this.xPct[i], this.xPct[i + 1]);\n            var totalSteps = (this.xVal[i + 1] - this.xVal[i]) / this.xNumSteps[i];\n            var highestStep = Math.ceil(Number(totalSteps.toFixed(3)) - 1);\n            var step = this.xVal[i] + this.xNumSteps[i] * highestStep;\n            this.xHighestCompleteStep[i] = step;\n        };\n        return Spectrum;\n    }());\n    //endregion\n    //region Options\n    /*\tEvery input option is tested and parsed. This will prevent\n        endless validation in internal methods. These tests are\n        structured with an item for every option available. An\n        option can be marked as required by setting the 'r' flag.\n        The testing function is provided with three arguments:\n            - The provided value for the option;\n            - A reference to the options object;\n            - The name for the option;\n\n        The testing function returns false when an error is detected,\n        or true when everything is OK. It can also modify the option\n        object, to make sure all values can be correctly looped elsewhere. */\n    //region Defaults\n    var defaultFormatter = {\n        to: function (value) {\n            return value === undefined ? \"\" : value.toFixed(2);\n        },\n        from: Number,\n    };\n    var cssClasses = {\n        target: \"target\",\n        base: \"base\",\n        origin: \"origin\",\n        handle: \"handle\",\n        handleLower: \"handle-lower\",\n        handleUpper: \"handle-upper\",\n        touchArea: \"touch-area\",\n        horizontal: \"horizontal\",\n        vertical: \"vertical\",\n        background: \"background\",\n        connect: \"connect\",\n        connects: \"connects\",\n        ltr: \"ltr\",\n        rtl: \"rtl\",\n        textDirectionLtr: \"txt-dir-ltr\",\n        textDirectionRtl: \"txt-dir-rtl\",\n        draggable: \"draggable\",\n        drag: \"state-drag\",\n        tap: \"state-tap\",\n        active: \"active\",\n        tooltip: \"tooltip\",\n        pips: \"pips\",\n        pipsHorizontal: \"pips-horizontal\",\n        pipsVertical: \"pips-vertical\",\n        marker: \"marker\",\n        markerHorizontal: \"marker-horizontal\",\n        markerVertical: \"marker-vertical\",\n        markerNormal: \"marker-normal\",\n        markerLarge: \"marker-large\",\n        markerSub: \"marker-sub\",\n        value: \"value\",\n        valueHorizontal: \"value-horizontal\",\n        valueVertical: \"value-vertical\",\n        valueNormal: \"value-normal\",\n        valueLarge: \"value-large\",\n        valueSub: \"value-sub\",\n    };\n    // Namespaces of internal event listeners\n    var INTERNAL_EVENT_NS = {\n        tooltips: \".__tooltips\",\n        aria: \".__aria\",\n    };\n    //endregion\n    function testStep(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'step' is not numeric.\");\n        }\n        // The step option can still be used to set stepping\n        // for linear sliders. Overwritten if set in 'range'.\n        parsed.singleStep = entry;\n    }\n    function testKeyboardPageMultiplier(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardPageMultiplier' is not numeric.\");\n        }\n        parsed.keyboardPageMultiplier = entry;\n    }\n    function testKeyboardMultiplier(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardMultiplier' is not numeric.\");\n        }\n        parsed.keyboardMultiplier = entry;\n    }\n    function testKeyboardDefaultStep(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'keyboardDefaultStep' is not numeric.\");\n        }\n        parsed.keyboardDefaultStep = entry;\n    }\n    function testRange(parsed, entry) {\n        // Filter incorrect input.\n        if (typeof entry !== \"object\" || Array.isArray(entry)) {\n            throw new Error(\"noUiSlider: 'range' is not an object.\");\n        }\n        // Catch missing start or end.\n        if (entry.min === undefined || entry.max === undefined) {\n            throw new Error(\"noUiSlider: Missing 'min' or 'max' in 'range'.\");\n        }\n        parsed.spectrum = new Spectrum(entry, parsed.snap || false, parsed.singleStep);\n    }\n    function testStart(parsed, entry) {\n        entry = asArray(entry);\n        // Validate input. Values aren't tested, as the public .val method\n        // will always provide a valid location.\n        if (!Array.isArray(entry) || !entry.length) {\n            throw new Error(\"noUiSlider: 'start' option is incorrect.\");\n        }\n        // Store the number of handles.\n        parsed.handles = entry.length;\n        // When the slider is initialized, the .val method will\n        // be called with the start options.\n        parsed.start = entry;\n    }\n    function testSnap(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'snap' option must be a boolean.\");\n        }\n        // Enforce 100% stepping within subranges.\n        parsed.snap = entry;\n    }\n    function testAnimate(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'animate' option must be a boolean.\");\n        }\n        // Enforce 100% stepping within subranges.\n        parsed.animate = entry;\n    }\n    function testAnimationDuration(parsed, entry) {\n        if (typeof entry !== \"number\") {\n            throw new Error(\"noUiSlider: 'animationDuration' option must be a number.\");\n        }\n        parsed.animationDuration = entry;\n    }\n    function testConnect(parsed, entry) {\n        var connect = [false];\n        var i;\n        // Map legacy options\n        if (entry === \"lower\") {\n            entry = [true, false];\n        }\n        else if (entry === \"upper\") {\n            entry = [false, true];\n        }\n        // Handle boolean options\n        if (entry === true || entry === false) {\n            for (i = 1; i < parsed.handles; i++) {\n                connect.push(entry);\n            }\n            connect.push(false);\n        }\n        // Reject invalid input\n        else if (!Array.isArray(entry) || !entry.length || entry.length !== parsed.handles + 1) {\n            throw new Error(\"noUiSlider: 'connect' option doesn't match handle count.\");\n        }\n        else {\n            connect = entry;\n        }\n        parsed.connect = connect;\n    }\n    function testOrientation(parsed, entry) {\n        // Set orientation to an a numerical value for easy\n        // array selection.\n        switch (entry) {\n            case \"horizontal\":\n                parsed.ort = 0;\n                break;\n            case \"vertical\":\n                parsed.ort = 1;\n                break;\n            default:\n                throw new Error(\"noUiSlider: 'orientation' option is invalid.\");\n        }\n    }\n    function testMargin(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'margin' option must be numeric.\");\n        }\n        // Issue #582\n        if (entry === 0) {\n            return;\n        }\n        parsed.margin = parsed.spectrum.getDistance(entry);\n    }\n    function testLimit(parsed, entry) {\n        if (!isNumeric(entry)) {\n            throw new Error(\"noUiSlider: 'limit' option must be numeric.\");\n        }\n        parsed.limit = parsed.spectrum.getDistance(entry);\n        if (!parsed.limit || parsed.handles < 2) {\n            throw new Error(\"noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.\");\n        }\n    }\n    function testPadding(parsed, entry) {\n        var index;\n        if (!isNumeric(entry) && !Array.isArray(entry)) {\n            throw new Error(\"noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.\");\n        }\n        if (Array.isArray(entry) && !(entry.length === 2 || isNumeric(entry[0]) || isNumeric(entry[1]))) {\n            throw new Error(\"noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.\");\n        }\n        if (entry === 0) {\n            return;\n        }\n        if (!Array.isArray(entry)) {\n            entry = [entry, entry];\n        }\n        // 'getDistance' returns false for invalid values.\n        parsed.padding = [parsed.spectrum.getDistance(entry[0]), parsed.spectrum.getDistance(entry[1])];\n        for (index = 0; index < parsed.spectrum.xNumSteps.length - 1; index++) {\n            // last \"range\" can't contain step size as it is purely an endpoint.\n            if (parsed.padding[0][index] < 0 || parsed.padding[1][index] < 0) {\n                throw new Error(\"noUiSlider: 'padding' option must be a positive number(s).\");\n            }\n        }\n        var totalPadding = entry[0] + entry[1];\n        var firstValue = parsed.spectrum.xVal[0];\n        var lastValue = parsed.spectrum.xVal[parsed.spectrum.xVal.length - 1];\n        if (totalPadding / (lastValue - firstValue) > 1) {\n            throw new Error(\"noUiSlider: 'padding' option must not exceed 100% of the range.\");\n        }\n    }\n    function testDirection(parsed, entry) {\n        // Set direction as a numerical value for easy parsing.\n        // Invert connection for RTL sliders, so that the proper\n        // handles get the connect/background classes.\n        switch (entry) {\n            case \"ltr\":\n                parsed.dir = 0;\n                break;\n            case \"rtl\":\n                parsed.dir = 1;\n                break;\n            default:\n                throw new Error(\"noUiSlider: 'direction' option was not recognized.\");\n        }\n    }\n    function testBehaviour(parsed, entry) {\n        // Make sure the input is a string.\n        if (typeof entry !== \"string\") {\n            throw new Error(\"noUiSlider: 'behaviour' must be a string containing options.\");\n        }\n        // Check if the string contains any keywords.\n        // None are required.\n        var tap = entry.indexOf(\"tap\") >= 0;\n        var drag = entry.indexOf(\"drag\") >= 0;\n        var fixed = entry.indexOf(\"fixed\") >= 0;\n        var snap = entry.indexOf(\"snap\") >= 0;\n        var hover = entry.indexOf(\"hover\") >= 0;\n        var unconstrained = entry.indexOf(\"unconstrained\") >= 0;\n        var dragAll = entry.indexOf(\"drag-all\") >= 0;\n        var smoothSteps = entry.indexOf(\"smooth-steps\") >= 0;\n        if (fixed) {\n            if (parsed.handles !== 2) {\n                throw new Error(\"noUiSlider: 'fixed' behaviour must be used with 2 handles\");\n            }\n            // Use margin to enforce fixed state\n            testMargin(parsed, parsed.start[1] - parsed.start[0]);\n        }\n        if (unconstrained && (parsed.margin || parsed.limit)) {\n            throw new Error(\"noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit\");\n        }\n        parsed.events = {\n            tap: tap || snap,\n            drag: drag,\n            dragAll: dragAll,\n            smoothSteps: smoothSteps,\n            fixed: fixed,\n            snap: snap,\n            hover: hover,\n            unconstrained: unconstrained,\n        };\n    }\n    function testTooltips(parsed, entry) {\n        if (entry === false) {\n            return;\n        }\n        if (entry === true || isValidPartialFormatter(entry)) {\n            parsed.tooltips = [];\n            for (var i = 0; i < parsed.handles; i++) {\n                parsed.tooltips.push(entry);\n            }\n        }\n        else {\n            entry = asArray(entry);\n            if (entry.length !== parsed.handles) {\n                throw new Error(\"noUiSlider: must pass a formatter for all handles.\");\n            }\n            entry.forEach(function (formatter) {\n                if (typeof formatter !== \"boolean\" && !isValidPartialFormatter(formatter)) {\n                    throw new Error(\"noUiSlider: 'tooltips' must be passed a formatter or 'false'.\");\n                }\n            });\n            parsed.tooltips = entry;\n        }\n    }\n    function testHandleAttributes(parsed, entry) {\n        if (entry.length !== parsed.handles) {\n            throw new Error(\"noUiSlider: must pass a attributes for all handles.\");\n        }\n        parsed.handleAttributes = entry;\n    }\n    function testAriaFormat(parsed, entry) {\n        if (!isValidPartialFormatter(entry)) {\n            throw new Error(\"noUiSlider: 'ariaFormat' requires 'to' method.\");\n        }\n        parsed.ariaFormat = entry;\n    }\n    function testFormat(parsed, entry) {\n        if (!isValidFormatter(entry)) {\n            throw new Error(\"noUiSlider: 'format' requires 'to' and 'from' methods.\");\n        }\n        parsed.format = entry;\n    }\n    function testKeyboardSupport(parsed, entry) {\n        if (typeof entry !== \"boolean\") {\n            throw new Error(\"noUiSlider: 'keyboardSupport' option must be a boolean.\");\n        }\n        parsed.keyboardSupport = entry;\n    }\n    function testDocumentElement(parsed, entry) {\n        // This is an advanced option. Passed values are used without validation.\n        parsed.documentElement = entry;\n    }\n    function testCssPrefix(parsed, entry) {\n        if (typeof entry !== \"string\" && entry !== false) {\n            throw new Error(\"noUiSlider: 'cssPrefix' must be a string or `false`.\");\n        }\n        parsed.cssPrefix = entry;\n    }\n    function testCssClasses(parsed, entry) {\n        if (typeof entry !== \"object\") {\n            throw new Error(\"noUiSlider: 'cssClasses' must be an object.\");\n        }\n        if (typeof parsed.cssPrefix === \"string\") {\n            parsed.cssClasses = {};\n            Object.keys(entry).forEach(function (key) {\n                parsed.cssClasses[key] = parsed.cssPrefix + entry[key];\n            });\n        }\n        else {\n            parsed.cssClasses = entry;\n        }\n    }\n    // Test all developer settings and parse to assumption-safe values.\n    function testOptions(options) {\n        // To prove a fix for #537, freeze options here.\n        // If the object is modified, an error will be thrown.\n        // Object.freeze(options);\n        var parsed = {\n            margin: null,\n            limit: null,\n            padding: null,\n            animate: true,\n            animationDuration: 300,\n            ariaFormat: defaultFormatter,\n            format: defaultFormatter,\n        };\n        // Tests are executed in the order they are presented here.\n        var tests = {\n            step: { r: false, t: testStep },\n            keyboardPageMultiplier: { r: false, t: testKeyboardPageMultiplier },\n            keyboardMultiplier: { r: false, t: testKeyboardMultiplier },\n            keyboardDefaultStep: { r: false, t: testKeyboardDefaultStep },\n            start: { r: true, t: testStart },\n            connect: { r: true, t: testConnect },\n            direction: { r: true, t: testDirection },\n            snap: { r: false, t: testSnap },\n            animate: { r: false, t: testAnimate },\n            animationDuration: { r: false, t: testAnimationDuration },\n            range: { r: true, t: testRange },\n            orientation: { r: false, t: testOrientation },\n            margin: { r: false, t: testMargin },\n            limit: { r: false, t: testLimit },\n            padding: { r: false, t: testPadding },\n            behaviour: { r: true, t: testBehaviour },\n            ariaFormat: { r: false, t: testAriaFormat },\n            format: { r: false, t: testFormat },\n            tooltips: { r: false, t: testTooltips },\n            keyboardSupport: { r: true, t: testKeyboardSupport },\n            documentElement: { r: false, t: testDocumentElement },\n            cssPrefix: { r: true, t: testCssPrefix },\n            cssClasses: { r: true, t: testCssClasses },\n            handleAttributes: { r: false, t: testHandleAttributes },\n        };\n        var defaults = {\n            connect: false,\n            direction: \"ltr\",\n            behaviour: \"tap\",\n            orientation: \"horizontal\",\n            keyboardSupport: true,\n            cssPrefix: \"noUi-\",\n            cssClasses: cssClasses,\n            keyboardPageMultiplier: 5,\n            keyboardMultiplier: 1,\n            keyboardDefaultStep: 10,\n        };\n        // AriaFormat defaults to regular format, if any.\n        if (options.format && !options.ariaFormat) {\n            options.ariaFormat = options.format;\n        }\n        // Run all options through a testing mechanism to ensure correct\n        // input. It should be noted that options might get modified to\n        // be handled properly. E.g. wrapping integers in arrays.\n        Object.keys(tests).forEach(function (name) {\n            // If the option isn't set, but it is required, throw an error.\n            if (!isSet(options[name]) && defaults[name] === undefined) {\n                if (tests[name].r) {\n                    throw new Error(\"noUiSlider: '\" + name + \"' is required.\");\n                }\n                return;\n            }\n            tests[name].t(parsed, !isSet(options[name]) ? defaults[name] : options[name]);\n        });\n        // Forward pips options\n        parsed.pips = options.pips;\n        // All recent browsers accept unprefixed transform.\n        // We need -ms- for IE9 and -webkit- for older Android;\n        // Assume use of -webkit- if unprefixed and -ms- are not supported.\n        // https://caniuse.com/#feat=transforms2d\n        var d = document.createElement(\"div\");\n        var msPrefix = d.style.msTransform !== undefined;\n        var noPrefix = d.style.transform !== undefined;\n        parsed.transformRule = noPrefix ? \"transform\" : msPrefix ? \"msTransform\" : \"webkitTransform\";\n        // Pips don't move, so we can place them using left/top.\n        var styles = [\n            [\"left\", \"top\"],\n            [\"right\", \"bottom\"],\n        ];\n        parsed.style = styles[parsed.dir][parsed.ort];\n        return parsed;\n    }\n    //endregion\n    function scope(target, options, originalOptions) {\n        var actions = getActions();\n        var supportsTouchActionNone = getSupportsTouchActionNone();\n        var supportsPassive = supportsTouchActionNone && getSupportsPassive();\n        // All variables local to 'scope' are prefixed with 'scope_'\n        // Slider DOM Nodes\n        var scope_Target = target;\n        var scope_Base;\n        var scope_Handles;\n        var scope_Connects;\n        var scope_Pips;\n        var scope_Tooltips;\n        // Slider state values\n        var scope_Spectrum = options.spectrum;\n        var scope_Values = [];\n        var scope_Locations = [];\n        var scope_HandleNumbers = [];\n        var scope_ActiveHandlesCount = 0;\n        var scope_Events = {};\n        // Document Nodes\n        var scope_Document = target.ownerDocument;\n        var scope_DocumentElement = options.documentElement || scope_Document.documentElement;\n        var scope_Body = scope_Document.body;\n        // For horizontal sliders in standard ltr documents,\n        // make .noUi-origin overflow to the left so the document doesn't scroll.\n        var scope_DirOffset = scope_Document.dir === \"rtl\" || options.ort === 1 ? 0 : 100;\n        // Creates a node, adds it to target, returns the new node.\n        function addNodeTo(addTarget, className) {\n            var div = scope_Document.createElement(\"div\");\n            if (className) {\n                addClass(div, className);\n            }\n            addTarget.appendChild(div);\n            return div;\n        }\n        // Append a origin to the base\n        function addOrigin(base, handleNumber) {\n            var origin = addNodeTo(base, options.cssClasses.origin);\n            var handle = addNodeTo(origin, options.cssClasses.handle);\n            addNodeTo(handle, options.cssClasses.touchArea);\n            handle.setAttribute(\"data-handle\", String(handleNumber));\n            if (options.keyboardSupport) {\n                // https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\n                // 0 = focusable and reachable\n                handle.setAttribute(\"tabindex\", \"0\");\n                handle.addEventListener(\"keydown\", function (event) {\n                    return eventKeydown(event, handleNumber);\n                });\n            }\n            if (options.handleAttributes !== undefined) {\n                var attributes_1 = options.handleAttributes[handleNumber];\n                Object.keys(attributes_1).forEach(function (attribute) {\n                    handle.setAttribute(attribute, attributes_1[attribute]);\n                });\n            }\n            handle.setAttribute(\"role\", \"slider\");\n            handle.setAttribute(\"aria-orientation\", options.ort ? \"vertical\" : \"horizontal\");\n            if (handleNumber === 0) {\n                addClass(handle, options.cssClasses.handleLower);\n            }\n            else if (handleNumber === options.handles - 1) {\n                addClass(handle, options.cssClasses.handleUpper);\n            }\n            return origin;\n        }\n        // Insert nodes for connect elements\n        function addConnect(base, add) {\n            if (!add) {\n                return false;\n            }\n            return addNodeTo(base, options.cssClasses.connect);\n        }\n        // Add handles to the slider base.\n        function addElements(connectOptions, base) {\n            var connectBase = addNodeTo(base, options.cssClasses.connects);\n            scope_Handles = [];\n            scope_Connects = [];\n            scope_Connects.push(addConnect(connectBase, connectOptions[0]));\n            // [::::O====O====O====]\n            // connectOptions = [0, 1, 1, 1]\n            for (var i = 0; i < options.handles; i++) {\n                // Keep a list of all added handles.\n                scope_Handles.push(addOrigin(base, i));\n                scope_HandleNumbers[i] = i;\n                scope_Connects.push(addConnect(connectBase, connectOptions[i + 1]));\n            }\n        }\n        // Initialize a single slider.\n        function addSlider(addTarget) {\n            // Apply classes and data to the target.\n            addClass(addTarget, options.cssClasses.target);\n            if (options.dir === 0) {\n                addClass(addTarget, options.cssClasses.ltr);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.rtl);\n            }\n            if (options.ort === 0) {\n                addClass(addTarget, options.cssClasses.horizontal);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.vertical);\n            }\n            var textDirection = getComputedStyle(addTarget).direction;\n            if (textDirection === \"rtl\") {\n                addClass(addTarget, options.cssClasses.textDirectionRtl);\n            }\n            else {\n                addClass(addTarget, options.cssClasses.textDirectionLtr);\n            }\n            return addNodeTo(addTarget, options.cssClasses.base);\n        }\n        function addTooltip(handle, handleNumber) {\n            if (!options.tooltips || !options.tooltips[handleNumber]) {\n                return false;\n            }\n            return addNodeTo(handle.firstChild, options.cssClasses.tooltip);\n        }\n        function isSliderDisabled() {\n            return scope_Target.hasAttribute(\"disabled\");\n        }\n        // Disable the slider dragging if any handle is disabled\n        function isHandleDisabled(handleNumber) {\n            var handleOrigin = scope_Handles[handleNumber];\n            return handleOrigin.hasAttribute(\"disabled\");\n        }\n        function removeTooltips() {\n            if (scope_Tooltips) {\n                removeEvent(\"update\" + INTERNAL_EVENT_NS.tooltips);\n                scope_Tooltips.forEach(function (tooltip) {\n                    if (tooltip) {\n                        removeElement(tooltip);\n                    }\n                });\n                scope_Tooltips = null;\n            }\n        }\n        // The tooltips option is a shorthand for using the 'update' event.\n        function tooltips() {\n            removeTooltips();\n            // Tooltips are added with options.tooltips in original order.\n            scope_Tooltips = scope_Handles.map(addTooltip);\n            bindEvent(\"update\" + INTERNAL_EVENT_NS.tooltips, function (values, handleNumber, unencoded) {\n                if (!scope_Tooltips || !options.tooltips) {\n                    return;\n                }\n                if (scope_Tooltips[handleNumber] === false) {\n                    return;\n                }\n                var formattedValue = values[handleNumber];\n                if (options.tooltips[handleNumber] !== true) {\n                    formattedValue = options.tooltips[handleNumber].to(unencoded[handleNumber]);\n                }\n                scope_Tooltips[handleNumber].innerHTML = formattedValue;\n            });\n        }\n        function aria() {\n            removeEvent(\"update\" + INTERNAL_EVENT_NS.aria);\n            bindEvent(\"update\" + INTERNAL_EVENT_NS.aria, function (values, handleNumber, unencoded, tap, positions) {\n                // Update Aria Values for all handles, as a change in one changes min and max values for the next.\n                scope_HandleNumbers.forEach(function (index) {\n                    var handle = scope_Handles[index];\n                    var min = checkHandlePosition(scope_Locations, index, 0, true, true, true);\n                    var max = checkHandlePosition(scope_Locations, index, 100, true, true, true);\n                    var now = positions[index];\n                    // Formatted value for display\n                    var text = String(options.ariaFormat.to(unencoded[index]));\n                    // Map to slider range values\n                    min = scope_Spectrum.fromStepping(min).toFixed(1);\n                    max = scope_Spectrum.fromStepping(max).toFixed(1);\n                    now = scope_Spectrum.fromStepping(now).toFixed(1);\n                    handle.children[0].setAttribute(\"aria-valuemin\", min);\n                    handle.children[0].setAttribute(\"aria-valuemax\", max);\n                    handle.children[0].setAttribute(\"aria-valuenow\", now);\n                    handle.children[0].setAttribute(\"aria-valuetext\", text);\n                });\n            });\n        }\n        function getGroup(pips) {\n            // Use the range.\n            if (pips.mode === exports.PipsMode.Range || pips.mode === exports.PipsMode.Steps) {\n                return scope_Spectrum.xVal;\n            }\n            if (pips.mode === exports.PipsMode.Count) {\n                if (pips.values < 2) {\n                    throw new Error(\"noUiSlider: 'values' (>= 2) required for mode 'count'.\");\n                }\n                // Divide 0 - 100 in 'count' parts.\n                var interval = pips.values - 1;\n                var spread = 100 / interval;\n                var values = [];\n                // List these parts and have them handled as 'positions'.\n                while (interval--) {\n                    values[interval] = interval * spread;\n                }\n                values.push(100);\n                return mapToRange(values, pips.stepped);\n            }\n            if (pips.mode === exports.PipsMode.Positions) {\n                // Map all percentages to on-range values.\n                return mapToRange(pips.values, pips.stepped);\n            }\n            if (pips.mode === exports.PipsMode.Values) {\n                // If the value must be stepped, it needs to be converted to a percentage first.\n                if (pips.stepped) {\n                    return pips.values.map(function (value) {\n                        // Convert to percentage, apply step, return to value.\n                        return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)));\n                    });\n                }\n                // Otherwise, we can simply use the values.\n                return pips.values;\n            }\n            return []; // pips.mode = never\n        }\n        function mapToRange(values, stepped) {\n            return values.map(function (value) {\n                return scope_Spectrum.fromStepping(stepped ? scope_Spectrum.getStep(value) : value);\n            });\n        }\n        function generateSpread(pips) {\n            function safeIncrement(value, increment) {\n                // Avoid floating point variance by dropping the smallest decimal places.\n                return Number((value + increment).toFixed(7));\n            }\n            var group = getGroup(pips);\n            var indexes = {};\n            var firstInRange = scope_Spectrum.xVal[0];\n            var lastInRange = scope_Spectrum.xVal[scope_Spectrum.xVal.length - 1];\n            var ignoreFirst = false;\n            var ignoreLast = false;\n            var prevPct = 0;\n            // Create a copy of the group, sort it and filter away all duplicates.\n            group = unique(group.slice().sort(function (a, b) {\n                return a - b;\n            }));\n            // Make sure the range starts with the first element.\n            if (group[0] !== firstInRange) {\n                group.unshift(firstInRange);\n                ignoreFirst = true;\n            }\n            // Likewise for the last one.\n            if (group[group.length - 1] !== lastInRange) {\n                group.push(lastInRange);\n                ignoreLast = true;\n            }\n            group.forEach(function (current, index) {\n                // Get the current step and the lower + upper positions.\n                var step;\n                var i;\n                var q;\n                var low = current;\n                var high = group[index + 1];\n                var newPct;\n                var pctDifference;\n                var pctPos;\n                var type;\n                var steps;\n                var realSteps;\n                var stepSize;\n                var isSteps = pips.mode === exports.PipsMode.Steps;\n                // When using 'steps' mode, use the provided steps.\n                // Otherwise, we'll step on to the next subrange.\n                if (isSteps) {\n                    step = scope_Spectrum.xNumSteps[index];\n                }\n                // Default to a 'full' step.\n                if (!step) {\n                    step = high - low;\n                }\n                // If high is undefined we are at the last subrange. Make sure it iterates once (#1088)\n                if (high === undefined) {\n                    high = low;\n                }\n                // Make sure step isn't 0, which would cause an infinite loop (#654)\n                step = Math.max(step, 0.0000001);\n                // Find all steps in the subrange.\n                for (i = low; i <= high; i = safeIncrement(i, step)) {\n                    // Get the percentage value for the current step,\n                    // calculate the size for the subrange.\n                    newPct = scope_Spectrum.toStepping(i);\n                    pctDifference = newPct - prevPct;\n                    steps = pctDifference / (pips.density || 1);\n                    realSteps = Math.round(steps);\n                    // This ratio represents the amount of percentage-space a point indicates.\n                    // For a density 1 the points/percentage = 1. For density 2, that percentage needs to be re-divided.\n                    // Round the percentage offset to an even number, then divide by two\n                    // to spread the offset on both sides of the range.\n                    stepSize = pctDifference / realSteps;\n                    // Divide all points evenly, adding the correct number to this subrange.\n                    // Run up to <= so that 100% gets a point, event if ignoreLast is set.\n                    for (q = 1; q <= realSteps; q += 1) {\n                        // The ratio between the rounded value and the actual size might be ~1% off.\n                        // Correct the percentage offset by the number of points\n                        // per subrange. density = 1 will result in 100 points on the\n                        // full range, 2 for 50, 4 for 25, etc.\n                        pctPos = prevPct + q * stepSize;\n                        indexes[pctPos.toFixed(5)] = [scope_Spectrum.fromStepping(pctPos), 0];\n                    }\n                    // Determine the point type.\n                    type = group.indexOf(i) > -1 ? exports.PipsType.LargeValue : isSteps ? exports.PipsType.SmallValue : exports.PipsType.NoValue;\n                    // Enforce the 'ignoreFirst' option by overwriting the type for 0.\n                    if (!index && ignoreFirst && i !== high) {\n                        type = 0;\n                    }\n                    if (!(i === high && ignoreLast)) {\n                        // Mark the 'type' of this point. 0 = plain, 1 = real value, 2 = step value.\n                        indexes[newPct.toFixed(5)] = [i, type];\n                    }\n                    // Update the percentage count.\n                    prevPct = newPct;\n                }\n            });\n            return indexes;\n        }\n        function addMarking(spread, filterFunc, formatter) {\n            var _a, _b;\n            var element = scope_Document.createElement(\"div\");\n            var valueSizeClasses = (_a = {},\n                _a[exports.PipsType.None] = \"\",\n                _a[exports.PipsType.NoValue] = options.cssClasses.valueNormal,\n                _a[exports.PipsType.LargeValue] = options.cssClasses.valueLarge,\n                _a[exports.PipsType.SmallValue] = options.cssClasses.valueSub,\n                _a);\n            var markerSizeClasses = (_b = {},\n                _b[exports.PipsType.None] = \"\",\n                _b[exports.PipsType.NoValue] = options.cssClasses.markerNormal,\n                _b[exports.PipsType.LargeValue] = options.cssClasses.markerLarge,\n                _b[exports.PipsType.SmallValue] = options.cssClasses.markerSub,\n                _b);\n            var valueOrientationClasses = [options.cssClasses.valueHorizontal, options.cssClasses.valueVertical];\n            var markerOrientationClasses = [options.cssClasses.markerHorizontal, options.cssClasses.markerVertical];\n            addClass(element, options.cssClasses.pips);\n            addClass(element, options.ort === 0 ? options.cssClasses.pipsHorizontal : options.cssClasses.pipsVertical);\n            function getClasses(type, source) {\n                var a = source === options.cssClasses.value;\n                var orientationClasses = a ? valueOrientationClasses : markerOrientationClasses;\n                var sizeClasses = a ? valueSizeClasses : markerSizeClasses;\n                return source + \" \" + orientationClasses[options.ort] + \" \" + sizeClasses[type];\n            }\n            function addSpread(offset, value, type) {\n                // Apply the filter function, if it is set.\n                type = filterFunc ? filterFunc(value, type) : type;\n                if (type === exports.PipsType.None) {\n                    return;\n                }\n                // Add a marker for every point\n                var node = addNodeTo(element, false);\n                node.className = getClasses(type, options.cssClasses.marker);\n                node.style[options.style] = offset + \"%\";\n                // Values are only appended for points marked '1' or '2'.\n                if (type > exports.PipsType.NoValue) {\n                    node = addNodeTo(element, false);\n                    node.className = getClasses(type, options.cssClasses.value);\n                    node.setAttribute(\"data-value\", String(value));\n                    node.style[options.style] = offset + \"%\";\n                    node.innerHTML = String(formatter.to(value));\n                }\n            }\n            // Append all points.\n            Object.keys(spread).forEach(function (offset) {\n                addSpread(offset, spread[offset][0], spread[offset][1]);\n            });\n            return element;\n        }\n        function removePips() {\n            if (scope_Pips) {\n                removeElement(scope_Pips);\n                scope_Pips = null;\n            }\n        }\n        function pips(pips) {\n            // Fix #669\n            removePips();\n            var spread = generateSpread(pips);\n            var filter = pips.filter;\n            var format = pips.format || {\n                to: function (value) {\n                    return String(Math.round(value));\n                },\n            };\n            scope_Pips = scope_Target.appendChild(addMarking(spread, filter, format));\n            return scope_Pips;\n        }\n        // Shorthand for base dimensions.\n        function baseSize() {\n            var rect = scope_Base.getBoundingClientRect();\n            var alt = (\"offset\" + [\"Width\", \"Height\"][options.ort]);\n            return options.ort === 0 ? rect.width || scope_Base[alt] : rect.height || scope_Base[alt];\n        }\n        // Handler for attaching events trough a proxy.\n        function attachEvent(events, element, callback, data) {\n            // This function can be used to 'filter' events to the slider.\n            // element is a node, not a nodeList\n            var method = function (event) {\n                var e = fixEvent(event, data.pageOffset, data.target || element);\n                // fixEvent returns false if this event has a different target\n                // when handling (multi-) touch events;\n                if (!e) {\n                    return false;\n                }\n                // doNotReject is passed by all end events to make sure released touches\n                // are not rejected, leaving the slider \"stuck\" to the cursor;\n                if (isSliderDisabled() && !data.doNotReject) {\n                    return false;\n                }\n                // Stop if an active 'tap' transition is taking place.\n                if (hasClass(scope_Target, options.cssClasses.tap) && !data.doNotReject) {\n                    return false;\n                }\n                // Ignore right or middle clicks on start #454\n                if (events === actions.start && e.buttons !== undefined && e.buttons > 1) {\n                    return false;\n                }\n                // Ignore right or middle clicks on start #454\n                if (data.hover && e.buttons) {\n                    return false;\n                }\n                // 'supportsPassive' is only true if a browser also supports touch-action: none in CSS.\n                // iOS safari does not, so it doesn't get to benefit from passive scrolling. iOS does support\n                // touch-action: manipulation, but that allows panning, which breaks\n                // sliders after zooming/on non-responsive pages.\n                // See: https://bugs.webkit.org/show_bug.cgi?id=133112\n                if (!supportsPassive) {\n                    e.preventDefault();\n                }\n                e.calcPoint = e.points[options.ort];\n                // Call the event handler with the event [ and additional data ].\n                callback(e, data);\n                return;\n            };\n            var methods = [];\n            // Bind a closure on the target for every event type.\n            events.split(\" \").forEach(function (eventName) {\n                element.addEventListener(eventName, method, supportsPassive ? { passive: true } : false);\n                methods.push([eventName, method]);\n            });\n            return methods;\n        }\n        // Provide a clean event with standardized offset values.\n        function fixEvent(e, pageOffset, eventTarget) {\n            // Filter the event to register the type, which can be\n            // touch, mouse or pointer. Offset changes need to be\n            // made on an event specific basis.\n            var touch = e.type.indexOf(\"touch\") === 0;\n            var mouse = e.type.indexOf(\"mouse\") === 0;\n            var pointer = e.type.indexOf(\"pointer\") === 0;\n            var x = 0;\n            var y = 0;\n            // IE10 implemented pointer events with a prefix;\n            if (e.type.indexOf(\"MSPointer\") === 0) {\n                pointer = true;\n            }\n            // Erroneous events seem to be passed in occasionally on iOS/iPadOS after user finishes interacting with\n            // the slider. They appear to be of type MouseEvent, yet they don't have usual properties set. Ignore\n            // events that have no touches or buttons associated with them. (#1057, #1079, #1095)\n            if (e.type === \"mousedown\" && !e.buttons && !e.touches) {\n                return false;\n            }\n            // The only thing one handle should be concerned about is the touches that originated on top of it.\n            if (touch) {\n                // Returns true if a touch originated on the target.\n                var isTouchOnTarget = function (checkTouch) {\n                    var target = checkTouch.target;\n                    return (target === eventTarget ||\n                        eventTarget.contains(target) ||\n                        (e.composed && e.composedPath().shift() === eventTarget));\n                };\n                // In the case of touchstart events, we need to make sure there is still no more than one\n                // touch on the target so we look amongst all touches.\n                if (e.type === \"touchstart\") {\n                    var targetTouches = Array.prototype.filter.call(e.touches, isTouchOnTarget);\n                    // Do not support more than one touch per handle.\n                    if (targetTouches.length > 1) {\n                        return false;\n                    }\n                    x = targetTouches[0].pageX;\n                    y = targetTouches[0].pageY;\n                }\n                else {\n                    // In the other cases, find on changedTouches is enough.\n                    var targetTouch = Array.prototype.find.call(e.changedTouches, isTouchOnTarget);\n                    // Cancel if the target touch has not moved.\n                    if (!targetTouch) {\n                        return false;\n                    }\n                    x = targetTouch.pageX;\n                    y = targetTouch.pageY;\n                }\n            }\n            pageOffset = pageOffset || getPageOffset(scope_Document);\n            if (mouse || pointer) {\n                x = e.clientX + pageOffset.x;\n                y = e.clientY + pageOffset.y;\n            }\n            e.pageOffset = pageOffset;\n            e.points = [x, y];\n            e.cursor = mouse || pointer; // Fix #435\n            return e;\n        }\n        // Translate a coordinate in the document to a percentage on the slider\n        function calcPointToPercentage(calcPoint) {\n            var location = calcPoint - offset(scope_Base, options.ort);\n            var proposal = (location * 100) / baseSize();\n            // Clamp proposal between 0% and 100%\n            // Out-of-bound coordinates may occur when .noUi-base pseudo-elements\n            // are used (e.g. contained handles feature)\n            proposal = limit(proposal);\n            return options.dir ? 100 - proposal : proposal;\n        }\n        // Find handle closest to a certain percentage on the slider\n        function getClosestHandle(clickedPosition) {\n            var smallestDifference = 100;\n            var handleNumber = false;\n            scope_Handles.forEach(function (handle, index) {\n                // Disabled handles are ignored\n                if (isHandleDisabled(index)) {\n                    return;\n                }\n                var handlePosition = scope_Locations[index];\n                var differenceWithThisHandle = Math.abs(handlePosition - clickedPosition);\n                // Initial state\n                var clickAtEdge = differenceWithThisHandle === 100 && smallestDifference === 100;\n                // Difference with this handle is smaller than the previously checked handle\n                var isCloser = differenceWithThisHandle < smallestDifference;\n                var isCloserAfter = differenceWithThisHandle <= smallestDifference && clickedPosition > handlePosition;\n                if (isCloser || isCloserAfter || clickAtEdge) {\n                    handleNumber = index;\n                    smallestDifference = differenceWithThisHandle;\n                }\n            });\n            return handleNumber;\n        }\n        // Fire 'end' when a mouse or pen leaves the document.\n        function documentLeave(event, data) {\n            if (event.type === \"mouseout\" &&\n                event.target.nodeName === \"HTML\" &&\n                event.relatedTarget === null) {\n                eventEnd(event, data);\n            }\n        }\n        // Handle movement on document for handle and range drag.\n        function eventMove(event, data) {\n            // Fix #498\n            // Check value of .buttons in 'start' to work around a bug in IE10 mobile (data.buttonsProperty).\n            // https://connect.microsoft.com/IE/feedback/details/927005/mobile-ie10-windows-phone-buttons-property-of-pointermove-event-always-zero\n            // IE9 has .buttons and .which zero on mousemove.\n            // Firefox breaks the spec MDN defines.\n            if (navigator.appVersion.indexOf(\"MSIE 9\") === -1 && event.buttons === 0 && data.buttonsProperty !== 0) {\n                return eventEnd(event, data);\n            }\n            // Check if we are moving up or down\n            var movement = (options.dir ? -1 : 1) * (event.calcPoint - data.startCalcPoint);\n            // Convert the movement into a percentage of the slider width/height\n            var proposal = (movement * 100) / data.baseSize;\n            moveHandles(movement > 0, proposal, data.locations, data.handleNumbers, data.connect);\n        }\n        // Unbind move events on document, call callbacks.\n        function eventEnd(event, data) {\n            // The handle is no longer active, so remove the class.\n            if (data.handle) {\n                removeClass(data.handle, options.cssClasses.active);\n                scope_ActiveHandlesCount -= 1;\n            }\n            // Unbind the move and end events, which are added on 'start'.\n            data.listeners.forEach(function (c) {\n                scope_DocumentElement.removeEventListener(c[0], c[1]);\n            });\n            if (scope_ActiveHandlesCount === 0) {\n                // Remove dragging class.\n                removeClass(scope_Target, options.cssClasses.drag);\n                setZindex();\n                // Remove cursor styles and text-selection events bound to the body.\n                if (event.cursor) {\n                    scope_Body.style.cursor = \"\";\n                    scope_Body.removeEventListener(\"selectstart\", preventDefault);\n                }\n            }\n            if (options.events.smoothSteps) {\n                data.handleNumbers.forEach(function (handleNumber) {\n                    setHandle(handleNumber, scope_Locations[handleNumber], true, true, false, false);\n                });\n                data.handleNumbers.forEach(function (handleNumber) {\n                    fireEvent(\"update\", handleNumber);\n                });\n            }\n            data.handleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"change\", handleNumber);\n                fireEvent(\"set\", handleNumber);\n                fireEvent(\"end\", handleNumber);\n            });\n        }\n        // Bind move events on document.\n        function eventStart(event, data) {\n            // Ignore event if any handle is disabled\n            if (data.handleNumbers.some(isHandleDisabled)) {\n                return;\n            }\n            var handle;\n            if (data.handleNumbers.length === 1) {\n                var handleOrigin = scope_Handles[data.handleNumbers[0]];\n                handle = handleOrigin.children[0];\n                scope_ActiveHandlesCount += 1;\n                // Mark the handle as 'active' so it can be styled.\n                addClass(handle, options.cssClasses.active);\n            }\n            // A drag should never propagate up to the 'tap' event.\n            event.stopPropagation();\n            // Record the event listeners.\n            var listeners = [];\n            // Attach the move and end events.\n            var moveEvent = attachEvent(actions.move, scope_DocumentElement, eventMove, {\n                // The event target has changed so we need to propagate the original one so that we keep\n                // relying on it to extract target touches.\n                target: event.target,\n                handle: handle,\n                connect: data.connect,\n                listeners: listeners,\n                startCalcPoint: event.calcPoint,\n                baseSize: baseSize(),\n                pageOffset: event.pageOffset,\n                handleNumbers: data.handleNumbers,\n                buttonsProperty: event.buttons,\n                locations: scope_Locations.slice(),\n            });\n            var endEvent = attachEvent(actions.end, scope_DocumentElement, eventEnd, {\n                target: event.target,\n                handle: handle,\n                listeners: listeners,\n                doNotReject: true,\n                handleNumbers: data.handleNumbers,\n            });\n            var outEvent = attachEvent(\"mouseout\", scope_DocumentElement, documentLeave, {\n                target: event.target,\n                handle: handle,\n                listeners: listeners,\n                doNotReject: true,\n                handleNumbers: data.handleNumbers,\n            });\n            // We want to make sure we pushed the listeners in the listener list rather than creating\n            // a new one as it has already been passed to the event handlers.\n            listeners.push.apply(listeners, moveEvent.concat(endEvent, outEvent));\n            // Text selection isn't an issue on touch devices,\n            // so adding cursor styles can be skipped.\n            if (event.cursor) {\n                // Prevent the 'I' cursor and extend the range-drag cursor.\n                scope_Body.style.cursor = getComputedStyle(event.target).cursor;\n                // Mark the target with a dragging state.\n                if (scope_Handles.length > 1) {\n                    addClass(scope_Target, options.cssClasses.drag);\n                }\n                // Prevent text selection when dragging the handles.\n                // In noUiSlider <= 9.2.0, this was handled by calling preventDefault on mouse/touch start/move,\n                // which is scroll blocking. The selectstart event is supported by FireFox starting from version 52,\n                // meaning the only holdout is iOS Safari. This doesn't matter: text selection isn't triggered there.\n                // The 'cursor' flag is false.\n                // See: http://caniuse.com/#search=selectstart\n                scope_Body.addEventListener(\"selectstart\", preventDefault, false);\n            }\n            data.handleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"start\", handleNumber);\n            });\n        }\n        // Move closest handle to tapped location.\n        function eventTap(event) {\n            // The tap event shouldn't propagate up\n            event.stopPropagation();\n            var proposal = calcPointToPercentage(event.calcPoint);\n            var handleNumber = getClosestHandle(proposal);\n            // Tackle the case that all handles are 'disabled'.\n            if (handleNumber === false) {\n                return;\n            }\n            // Flag the slider as it is now in a transitional state.\n            // Transition takes a configurable amount of ms (default 300). Re-enable the slider after that.\n            if (!options.events.snap) {\n                addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\n            }\n            setHandle(handleNumber, proposal, true, true);\n            setZindex();\n            fireEvent(\"slide\", handleNumber, true);\n            fireEvent(\"update\", handleNumber, true);\n            if (!options.events.snap) {\n                fireEvent(\"change\", handleNumber, true);\n                fireEvent(\"set\", handleNumber, true);\n            }\n            else {\n                eventStart(event, { handleNumbers: [handleNumber] });\n            }\n        }\n        // Fires a 'hover' event for a hovered mouse/pen position.\n        function eventHover(event) {\n            var proposal = calcPointToPercentage(event.calcPoint);\n            var to = scope_Spectrum.getStep(proposal);\n            var value = scope_Spectrum.fromStepping(to);\n            Object.keys(scope_Events).forEach(function (targetEvent) {\n                if (\"hover\" === targetEvent.split(\".\")[0]) {\n                    scope_Events[targetEvent].forEach(function (callback) {\n                        callback.call(scope_Self, value);\n                    });\n                }\n            });\n        }\n        // Handles keydown on focused handles\n        // Don't move the document when pressing arrow keys on focused handles\n        function eventKeydown(event, handleNumber) {\n            if (isSliderDisabled() || isHandleDisabled(handleNumber)) {\n                return false;\n            }\n            var horizontalKeys = [\"Left\", \"Right\"];\n            var verticalKeys = [\"Down\", \"Up\"];\n            var largeStepKeys = [\"PageDown\", \"PageUp\"];\n            var edgeKeys = [\"Home\", \"End\"];\n            if (options.dir && !options.ort) {\n                // On an right-to-left slider, the left and right keys act inverted\n                horizontalKeys.reverse();\n            }\n            else if (options.ort && !options.dir) {\n                // On a top-to-bottom slider, the up and down keys act inverted\n                verticalKeys.reverse();\n                largeStepKeys.reverse();\n            }\n            // Strip \"Arrow\" for IE compatibility. https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\n            var key = event.key.replace(\"Arrow\", \"\");\n            var isLargeDown = key === largeStepKeys[0];\n            var isLargeUp = key === largeStepKeys[1];\n            var isDown = key === verticalKeys[0] || key === horizontalKeys[0] || isLargeDown;\n            var isUp = key === verticalKeys[1] || key === horizontalKeys[1] || isLargeUp;\n            var isMin = key === edgeKeys[0];\n            var isMax = key === edgeKeys[1];\n            if (!isDown && !isUp && !isMin && !isMax) {\n                return true;\n            }\n            event.preventDefault();\n            var to;\n            if (isUp || isDown) {\n                var direction = isDown ? 0 : 1;\n                var steps = getNextStepsForHandle(handleNumber);\n                var step = steps[direction];\n                // At the edge of a slider, do nothing\n                if (step === null) {\n                    return false;\n                }\n                // No step set, use the default of 10% of the sub-range\n                if (step === false) {\n                    step = scope_Spectrum.getDefaultStep(scope_Locations[handleNumber], isDown, options.keyboardDefaultStep);\n                }\n                if (isLargeUp || isLargeDown) {\n                    step *= options.keyboardPageMultiplier;\n                }\n                else {\n                    step *= options.keyboardMultiplier;\n                }\n                // Step over zero-length ranges (#948);\n                step = Math.max(step, 0.0000001);\n                // Decrement for down steps\n                step = (isDown ? -1 : 1) * step;\n                to = scope_Values[handleNumber] + step;\n            }\n            else if (isMax) {\n                // End key\n                to = options.spectrum.xVal[options.spectrum.xVal.length - 1];\n            }\n            else {\n                // Home key\n                to = options.spectrum.xVal[0];\n            }\n            setHandle(handleNumber, scope_Spectrum.toStepping(to), true, true);\n            fireEvent(\"slide\", handleNumber);\n            fireEvent(\"update\", handleNumber);\n            fireEvent(\"change\", handleNumber);\n            fireEvent(\"set\", handleNumber);\n            return false;\n        }\n        // Attach events to several slider parts.\n        function bindSliderEvents(behaviour) {\n            // Attach the standard drag event to the handles.\n            if (!behaviour.fixed) {\n                scope_Handles.forEach(function (handle, index) {\n                    // These events are only bound to the visual handle\n                    // element, not the 'real' origin element.\n                    attachEvent(actions.start, handle.children[0], eventStart, {\n                        handleNumbers: [index],\n                    });\n                });\n            }\n            // Attach the tap event to the slider base.\n            if (behaviour.tap) {\n                attachEvent(actions.start, scope_Base, eventTap, {});\n            }\n            // Fire hover events\n            if (behaviour.hover) {\n                attachEvent(actions.move, scope_Base, eventHover, {\n                    hover: true,\n                });\n            }\n            // Make the range draggable.\n            if (behaviour.drag) {\n                scope_Connects.forEach(function (connect, index) {\n                    if (connect === false || index === 0 || index === scope_Connects.length - 1) {\n                        return;\n                    }\n                    var handleBefore = scope_Handles[index - 1];\n                    var handleAfter = scope_Handles[index];\n                    var eventHolders = [connect];\n                    var handlesToDrag = [handleBefore, handleAfter];\n                    var handleNumbersToDrag = [index - 1, index];\n                    addClass(connect, options.cssClasses.draggable);\n                    // When the range is fixed, the entire range can\n                    // be dragged by the handles. The handle in the first\n                    // origin will propagate the start event upward,\n                    // but it needs to be bound manually on the other.\n                    if (behaviour.fixed) {\n                        eventHolders.push(handleBefore.children[0]);\n                        eventHolders.push(handleAfter.children[0]);\n                    }\n                    if (behaviour.dragAll) {\n                        handlesToDrag = scope_Handles;\n                        handleNumbersToDrag = scope_HandleNumbers;\n                    }\n                    eventHolders.forEach(function (eventHolder) {\n                        attachEvent(actions.start, eventHolder, eventStart, {\n                            handles: handlesToDrag,\n                            handleNumbers: handleNumbersToDrag,\n                            connect: connect,\n                        });\n                    });\n                });\n            }\n        }\n        // Attach an event to this slider, possibly including a namespace\n        function bindEvent(namespacedEvent, callback) {\n            scope_Events[namespacedEvent] = scope_Events[namespacedEvent] || [];\n            scope_Events[namespacedEvent].push(callback);\n            // If the event bound is 'update,' fire it immediately for all handles.\n            if (namespacedEvent.split(\".\")[0] === \"update\") {\n                scope_Handles.forEach(function (a, index) {\n                    fireEvent(\"update\", index);\n                });\n            }\n        }\n        function isInternalNamespace(namespace) {\n            return namespace === INTERNAL_EVENT_NS.aria || namespace === INTERNAL_EVENT_NS.tooltips;\n        }\n        // Undo attachment of event\n        function removeEvent(namespacedEvent) {\n            var event = namespacedEvent && namespacedEvent.split(\".\")[0];\n            var namespace = event ? namespacedEvent.substring(event.length) : namespacedEvent;\n            Object.keys(scope_Events).forEach(function (bind) {\n                var tEvent = bind.split(\".\")[0];\n                var tNamespace = bind.substring(tEvent.length);\n                if ((!event || event === tEvent) && (!namespace || namespace === tNamespace)) {\n                    // only delete protected internal event if intentional\n                    if (!isInternalNamespace(tNamespace) || namespace === tNamespace) {\n                        delete scope_Events[bind];\n                    }\n                }\n            });\n        }\n        // External event handling\n        function fireEvent(eventName, handleNumber, tap) {\n            Object.keys(scope_Events).forEach(function (targetEvent) {\n                var eventType = targetEvent.split(\".\")[0];\n                if (eventName === eventType) {\n                    scope_Events[targetEvent].forEach(function (callback) {\n                        callback.call(\n                        // Use the slider public API as the scope ('this')\n                        scope_Self, \n                        // Return values as array, so arg_1[arg_2] is always valid.\n                        scope_Values.map(options.format.to), \n                        // Handle index, 0 or 1\n                        handleNumber, \n                        // Un-formatted slider values\n                        scope_Values.slice(), \n                        // Event is fired by tap, true or false\n                        tap || false, \n                        // Left offset of the handle, in relation to the slider\n                        scope_Locations.slice(), \n                        // add the slider public API to an accessible parameter when this is unavailable\n                        scope_Self);\n                    });\n                }\n            });\n        }\n        // Split out the handle positioning logic so the Move event can use it, too\n        function checkHandlePosition(reference, handleNumber, to, lookBackward, lookForward, getValue, smoothSteps) {\n            var distance;\n            // For sliders with multiple handles, limit movement to the other handle.\n            // Apply the margin option by adding it to the handle positions.\n            if (scope_Handles.length > 1 && !options.events.unconstrained) {\n                if (lookBackward && handleNumber > 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.margin, false);\n                    to = Math.max(to, distance);\n                }\n                if (lookForward && handleNumber < scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.margin, true);\n                    to = Math.min(to, distance);\n                }\n            }\n            // The limit option has the opposite effect, limiting handles to a\n            // maximum distance from another. Limit must be > 0, as otherwise\n            // handles would be unmovable.\n            if (scope_Handles.length > 1 && options.limit) {\n                if (lookBackward && handleNumber > 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber - 1], options.limit, false);\n                    to = Math.min(to, distance);\n                }\n                if (lookForward && handleNumber < scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(reference[handleNumber + 1], options.limit, true);\n                    to = Math.max(to, distance);\n                }\n            }\n            // The padding option keeps the handles a certain distance from the\n            // edges of the slider. Padding must be > 0.\n            if (options.padding) {\n                if (handleNumber === 0) {\n                    distance = scope_Spectrum.getAbsoluteDistance(0, options.padding[0], false);\n                    to = Math.max(to, distance);\n                }\n                if (handleNumber === scope_Handles.length - 1) {\n                    distance = scope_Spectrum.getAbsoluteDistance(100, options.padding[1], true);\n                    to = Math.min(to, distance);\n                }\n            }\n            if (!smoothSteps) {\n                to = scope_Spectrum.getStep(to);\n            }\n            // Limit percentage to the 0 - 100 range\n            to = limit(to);\n            // Return false if handle can't move\n            if (to === reference[handleNumber] && !getValue) {\n                return false;\n            }\n            return to;\n        }\n        // Uses slider orientation to create CSS rules. a = base value;\n        function inRuleOrder(v, a) {\n            var o = options.ort;\n            return (o ? a : v) + \", \" + (o ? v : a);\n        }\n        // Moves handle(s) by a percentage\n        // (bool, % to move, [% where handle started, ...], [index in scope_Handles, ...])\n        function moveHandles(upward, proposal, locations, handleNumbers, connect) {\n            var proposals = locations.slice();\n            // Store first handle now, so we still have it in case handleNumbers is reversed\n            var firstHandle = handleNumbers[0];\n            var smoothSteps = options.events.smoothSteps;\n            var b = [!upward, upward];\n            var f = [upward, !upward];\n            // Copy handleNumbers so we don't change the dataset\n            handleNumbers = handleNumbers.slice();\n            // Check to see which handle is 'leading'.\n            // If that one can't move the second can't either.\n            if (upward) {\n                handleNumbers.reverse();\n            }\n            // Step 1: get the maximum percentage that any of the handles can move\n            if (handleNumbers.length > 1) {\n                handleNumbers.forEach(function (handleNumber, o) {\n                    var to = checkHandlePosition(proposals, handleNumber, proposals[handleNumber] + proposal, b[o], f[o], false, smoothSteps);\n                    // Stop if one of the handles can't move.\n                    if (to === false) {\n                        proposal = 0;\n                    }\n                    else {\n                        proposal = to - proposals[handleNumber];\n                        proposals[handleNumber] = to;\n                    }\n                });\n            }\n            // If using one handle, check backward AND forward\n            else {\n                b = f = [true];\n            }\n            var state = false;\n            // Step 2: Try to set the handles with the found percentage\n            handleNumbers.forEach(function (handleNumber, o) {\n                state =\n                    setHandle(handleNumber, locations[handleNumber] + proposal, b[o], f[o], false, smoothSteps) || state;\n            });\n            // Step 3: If a handle moved, fire events\n            if (state) {\n                handleNumbers.forEach(function (handleNumber) {\n                    fireEvent(\"update\", handleNumber);\n                    fireEvent(\"slide\", handleNumber);\n                });\n                // If target is a connect, then fire drag event\n                if (connect != undefined) {\n                    fireEvent(\"drag\", firstHandle);\n                }\n            }\n        }\n        // Takes a base value and an offset. This offset is used for the connect bar size.\n        // In the initial design for this feature, the origin element was 1% wide.\n        // Unfortunately, a rounding bug in Chrome makes it impossible to implement this feature\n        // in this manner: https://bugs.chromium.org/p/chromium/issues/detail?id=798223\n        function transformDirection(a, b) {\n            return options.dir ? 100 - a - b : a;\n        }\n        // Updates scope_Locations and scope_Values, updates visual state\n        function updateHandlePosition(handleNumber, to) {\n            // Update locations.\n            scope_Locations[handleNumber] = to;\n            // Convert the value to the slider stepping/range.\n            scope_Values[handleNumber] = scope_Spectrum.fromStepping(to);\n            var translation = transformDirection(to, 0) - scope_DirOffset;\n            var translateRule = \"translate(\" + inRuleOrder(translation + \"%\", \"0\") + \")\";\n            scope_Handles[handleNumber].style[options.transformRule] = translateRule;\n            updateConnect(handleNumber);\n            updateConnect(handleNumber + 1);\n        }\n        // Handles before the slider middle are stacked later = higher,\n        // Handles after the middle later is lower\n        // [[7] [8] .......... | .......... [5] [4]\n        function setZindex() {\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                var dir = scope_Locations[handleNumber] > 50 ? -1 : 1;\n                var zIndex = 3 + (scope_Handles.length + dir * handleNumber);\n                scope_Handles[handleNumber].style.zIndex = String(zIndex);\n            });\n        }\n        // Test suggested values and apply margin, step.\n        // if exactInput is true, don't run checkHandlePosition, then the handle can be placed in between steps (#436)\n        function setHandle(handleNumber, to, lookBackward, lookForward, exactInput, smoothSteps) {\n            if (!exactInput) {\n                to = checkHandlePosition(scope_Locations, handleNumber, to, lookBackward, lookForward, false, smoothSteps);\n            }\n            if (to === false) {\n                return false;\n            }\n            updateHandlePosition(handleNumber, to);\n            return true;\n        }\n        // Updates style attribute for connect nodes\n        function updateConnect(index) {\n            // Skip connects set to false\n            if (!scope_Connects[index]) {\n                return;\n            }\n            var l = 0;\n            var h = 100;\n            if (index !== 0) {\n                l = scope_Locations[index - 1];\n            }\n            if (index !== scope_Connects.length - 1) {\n                h = scope_Locations[index];\n            }\n            // We use two rules:\n            // 'translate' to change the left/top offset;\n            // 'scale' to change the width of the element;\n            // As the element has a width of 100%, a translation of 100% is equal to 100% of the parent (.noUi-base)\n            var connectWidth = h - l;\n            var translateRule = \"translate(\" + inRuleOrder(transformDirection(l, connectWidth) + \"%\", \"0\") + \")\";\n            var scaleRule = \"scale(\" + inRuleOrder(connectWidth / 100, \"1\") + \")\";\n            scope_Connects[index].style[options.transformRule] =\n                translateRule + \" \" + scaleRule;\n        }\n        // Parses value passed to .set method. Returns current value if not parse-able.\n        function resolveToValue(to, handleNumber) {\n            // Setting with null indicates an 'ignore'.\n            // Inputting 'false' is invalid.\n            if (to === null || to === false || to === undefined) {\n                return scope_Locations[handleNumber];\n            }\n            // If a formatted number was passed, attempt to decode it.\n            if (typeof to === \"number\") {\n                to = String(to);\n            }\n            to = options.format.from(to);\n            if (to !== false) {\n                to = scope_Spectrum.toStepping(to);\n            }\n            // If parsing the number failed, use the current value.\n            if (to === false || isNaN(to)) {\n                return scope_Locations[handleNumber];\n            }\n            return to;\n        }\n        // Set the slider value.\n        function valueSet(input, fireSetEvent, exactInput) {\n            var values = asArray(input);\n            var isInit = scope_Locations[0] === undefined;\n            // Event fires by default\n            fireSetEvent = fireSetEvent === undefined ? true : fireSetEvent;\n            // Animation is optional.\n            // Make sure the initial values were set before using animated placement.\n            if (options.animate && !isInit) {\n                addClassFor(scope_Target, options.cssClasses.tap, options.animationDuration);\n            }\n            // First pass, without lookAhead but with lookBackward. Values are set from left to right.\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                setHandle(handleNumber, resolveToValue(values[handleNumber], handleNumber), true, false, exactInput);\n            });\n            var i = scope_HandleNumbers.length === 1 ? 0 : 1;\n            // Spread handles evenly across the slider if the range has no size (min=max)\n            if (isInit && scope_Spectrum.hasNoSize()) {\n                exactInput = true;\n                scope_Locations[0] = 0;\n                if (scope_HandleNumbers.length > 1) {\n                    var space_1 = 100 / (scope_HandleNumbers.length - 1);\n                    scope_HandleNumbers.forEach(function (handleNumber) {\n                        scope_Locations[handleNumber] = handleNumber * space_1;\n                    });\n                }\n            }\n            // Secondary passes. Now that all base values are set, apply constraints.\n            // Iterate all handles to ensure constraints are applied for the entire slider (Issue #1009)\n            for (; i < scope_HandleNumbers.length; ++i) {\n                scope_HandleNumbers.forEach(function (handleNumber) {\n                    setHandle(handleNumber, scope_Locations[handleNumber], true, true, exactInput);\n                });\n            }\n            setZindex();\n            scope_HandleNumbers.forEach(function (handleNumber) {\n                fireEvent(\"update\", handleNumber);\n                // Fire the event only for handles that received a new value, as per #579\n                if (values[handleNumber] !== null && fireSetEvent) {\n                    fireEvent(\"set\", handleNumber);\n                }\n            });\n        }\n        // Reset slider to initial values\n        function valueReset(fireSetEvent) {\n            valueSet(options.start, fireSetEvent);\n        }\n        // Set value for a single handle\n        function valueSetHandle(handleNumber, value, fireSetEvent, exactInput) {\n            // Ensure numeric input\n            handleNumber = Number(handleNumber);\n            if (!(handleNumber >= 0 && handleNumber < scope_HandleNumbers.length)) {\n                throw new Error(\"noUiSlider: invalid handle number, got: \" + handleNumber);\n            }\n            // Look both backward and forward, since we don't want this handle to \"push\" other handles (#960);\n            // The exactInput argument can be used to ignore slider stepping (#436)\n            setHandle(handleNumber, resolveToValue(value, handleNumber), true, true, exactInput);\n            fireEvent(\"update\", handleNumber);\n            if (fireSetEvent) {\n                fireEvent(\"set\", handleNumber);\n            }\n        }\n        // Get the slider value.\n        function valueGet(unencoded) {\n            if (unencoded === void 0) { unencoded = false; }\n            if (unencoded) {\n                // return a copy of the raw values\n                return scope_Values.length === 1 ? scope_Values[0] : scope_Values.slice(0);\n            }\n            var values = scope_Values.map(options.format.to);\n            // If only one handle is used, return a single value.\n            if (values.length === 1) {\n                return values[0];\n            }\n            return values;\n        }\n        // Removes classes from the root and empties it.\n        function destroy() {\n            // remove protected internal listeners\n            removeEvent(INTERNAL_EVENT_NS.aria);\n            removeEvent(INTERNAL_EVENT_NS.tooltips);\n            Object.keys(options.cssClasses).forEach(function (key) {\n                removeClass(scope_Target, options.cssClasses[key]);\n            });\n            while (scope_Target.firstChild) {\n                scope_Target.removeChild(scope_Target.firstChild);\n            }\n            delete scope_Target.noUiSlider;\n        }\n        function getNextStepsForHandle(handleNumber) {\n            var location = scope_Locations[handleNumber];\n            var nearbySteps = scope_Spectrum.getNearbySteps(location);\n            var value = scope_Values[handleNumber];\n            var increment = nearbySteps.thisStep.step;\n            var decrement = null;\n            // If snapped, directly use defined step value\n            if (options.snap) {\n                return [\n                    value - nearbySteps.stepBefore.startValue || null,\n                    nearbySteps.stepAfter.startValue - value || null,\n                ];\n            }\n            // If the next value in this step moves into the next step,\n            // the increment is the start of the next step - the current value\n            if (increment !== false) {\n                if (value + increment > nearbySteps.stepAfter.startValue) {\n                    increment = nearbySteps.stepAfter.startValue - value;\n                }\n            }\n            // If the value is beyond the starting point\n            if (value > nearbySteps.thisStep.startValue) {\n                decrement = nearbySteps.thisStep.step;\n            }\n            else if (nearbySteps.stepBefore.step === false) {\n                decrement = false;\n            }\n            // If a handle is at the start of a step, it always steps back into the previous step first\n            else {\n                decrement = value - nearbySteps.stepBefore.highestStep;\n            }\n            // Now, if at the slider edges, there is no in/decrement\n            if (location === 100) {\n                increment = null;\n            }\n            else if (location === 0) {\n                decrement = null;\n            }\n            // As per #391, the comparison for the decrement step can have some rounding issues.\n            var stepDecimals = scope_Spectrum.countStepDecimals();\n            // Round per #391\n            if (increment !== null && increment !== false) {\n                increment = Number(increment.toFixed(stepDecimals));\n            }\n            if (decrement !== null && decrement !== false) {\n                decrement = Number(decrement.toFixed(stepDecimals));\n            }\n            return [decrement, increment];\n        }\n        // Get the current step size for the slider.\n        function getNextSteps() {\n            return scope_HandleNumbers.map(getNextStepsForHandle);\n        }\n        // Updatable: margin, limit, padding, step, range, animate, snap\n        function updateOptions(optionsToUpdate, fireSetEvent) {\n            // Spectrum is created using the range, snap, direction and step options.\n            // 'snap' and 'step' can be updated.\n            // If 'snap' and 'step' are not passed, they should remain unchanged.\n            var v = valueGet();\n            var updateAble = [\n                \"margin\",\n                \"limit\",\n                \"padding\",\n                \"range\",\n                \"animate\",\n                \"snap\",\n                \"step\",\n                \"format\",\n                \"pips\",\n                \"tooltips\",\n            ];\n            // Only change options that we're actually passed to update.\n            updateAble.forEach(function (name) {\n                // Check for undefined. null removes the value.\n                if (optionsToUpdate[name] !== undefined) {\n                    originalOptions[name] = optionsToUpdate[name];\n                }\n            });\n            var newOptions = testOptions(originalOptions);\n            // Load new options into the slider state\n            updateAble.forEach(function (name) {\n                if (optionsToUpdate[name] !== undefined) {\n                    options[name] = newOptions[name];\n                }\n            });\n            scope_Spectrum = newOptions.spectrum;\n            // Limit, margin and padding depend on the spectrum but are stored outside of it. (#677)\n            options.margin = newOptions.margin;\n            options.limit = newOptions.limit;\n            options.padding = newOptions.padding;\n            // Update pips, removes existing.\n            if (options.pips) {\n                pips(options.pips);\n            }\n            else {\n                removePips();\n            }\n            // Update tooltips, removes existing.\n            if (options.tooltips) {\n                tooltips();\n            }\n            else {\n                removeTooltips();\n            }\n            // Invalidate the current positioning so valueSet forces an update.\n            scope_Locations = [];\n            valueSet(isSet(optionsToUpdate.start) ? optionsToUpdate.start : v, fireSetEvent);\n        }\n        // Initialization steps\n        function setupSlider() {\n            // Create the base element, initialize HTML and set classes.\n            // Add handles and connect elements.\n            scope_Base = addSlider(scope_Target);\n            addElements(options.connect, scope_Base);\n            // Attach user events.\n            bindSliderEvents(options.events);\n            // Use the public value method to set the start values.\n            valueSet(options.start);\n            if (options.pips) {\n                pips(options.pips);\n            }\n            if (options.tooltips) {\n                tooltips();\n            }\n            aria();\n        }\n        setupSlider();\n        var scope_Self = {\n            destroy: destroy,\n            steps: getNextSteps,\n            on: bindEvent,\n            off: removeEvent,\n            get: valueGet,\n            set: valueSet,\n            setHandle: valueSetHandle,\n            reset: valueReset,\n            // Exposed for unit testing, don't use this in your application.\n            __moveHandles: function (upward, proposal, handleNumbers) {\n                moveHandles(upward, proposal, scope_Locations, handleNumbers);\n            },\n            options: originalOptions,\n            updateOptions: updateOptions,\n            target: scope_Target,\n            removePips: removePips,\n            removeTooltips: removeTooltips,\n            getPositions: function () {\n                return scope_Locations.slice();\n            },\n            getTooltips: function () {\n                return scope_Tooltips;\n            },\n            getOrigins: function () {\n                return scope_Handles;\n            },\n            pips: pips, // Issue #594\n        };\n        return scope_Self;\n    }\n    // Run the standard initializer\n    function initialize(target, originalOptions) {\n        if (!target || !target.nodeName) {\n            throw new Error(\"noUiSlider: create requires a single element, got: \" + target);\n        }\n        // Throw an error if the slider was already initialized.\n        if (target.noUiSlider) {\n            throw new Error(\"noUiSlider: Slider was already initialized.\");\n        }\n        // Test the options and create the slider environment;\n        var options = testOptions(originalOptions);\n        var api = scope(target, options, originalOptions);\n        target.noUiSlider = api;\n        return api;\n    }\n    var nouislider = {\n        // Exposed for unit testing, don't use this in your application.\n        __spectrum: Spectrum,\n        // A reference to the default classes, allows global changes.\n        // Use the cssClasses option for changes to one slider.\n        cssClasses: cssClasses,\n        create: initialize,\n    };\n\n    exports.create = initialize;\n    exports.cssClasses = cssClasses;\n    exports[\"default\"] = nouislider;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import { listen, qsa, qs } from '@fluorescent/dom';\nimport noUiSlider from 'nouislider';\n\nimport { on } from '@/glow/events';\n\nconst priceRange = container => {\n  const inputs = qsa('input', container);\n  const minInput = inputs[0];\n  const maxInput = inputs[1];\n  const events = [\n    listen(inputs, 'change', onRangeChange),\n    on('filters:range-removed', () => reset()),\n  ];\n  const slider = qs('[data-range-slider]');\n\n  noUiSlider.create(slider, {\n    start: [\n      minInput.value ? minInput.value : minInput.getAttribute('min'),\n      maxInput.value ? maxInput.value : maxInput.getAttribute('max'),\n    ],\n    connect: true,\n    range: {\n      'min': parseInt(minInput.getAttribute('min')),\n      'max': parseInt(maxInput.getAttribute('max')),\n    },\n  });\n\n  slider.noUiSlider.on('set', e => {\n    let max, min;\n    [min, max] = e;\n\n    minInput.value = Math.floor(min);\n    maxInput.value = Math.floor(max);\n    fireChangeEvent();\n    setMinAndMaxValues();\n  });\n\n  setMinAndMaxValues();\n\n  function setMinAndMaxValues() {\n    if (maxInput.value) minInput.setAttribute('max', maxInput.value);\n    if (minInput.value) maxInput.setAttribute('min', minInput.value);\n    if (minInput.value === '') maxInput.setAttribute('min', 0);\n    if (maxInput.value === '')\n      minInput.setAttribute('max', maxInput.getAttribute('max'));\n  }\n\n  function adjustToValidValues(input) {\n    const value = Number(input.value);\n    const min = Number(input.getAttribute('min'));\n    const max = Number(input.getAttribute('max'));\n\n    if (value < min) input.value = min;\n    if (value > max) input.value = max;\n  }\n\n  function fireChangeEvent() {\n    minInput.dispatchEvent(new Event('change', { bubbles: true }));\n    maxInput.dispatchEvent(new Event('change', { bubbles: true }));\n  }\n\n  function onRangeChange(event) {\n    adjustToValidValues(event.currentTarget);\n    setMinAndMaxValues();\n\n    if (minInput.value === '' && maxInput.value === '') return;\n\n    let currentMax, currentMin;\n\n    [currentMin, currentMax] = slider.noUiSlider.get();\n\n    currentMin = Math.floor(currentMin);\n    currentMax = Math.floor(currentMax);\n\n    if (currentMin !== Math.floor(minInput.value))\n      slider.noUiSlider.set([minInput.value, null]);\n    if (currentMax !== Math.floor(maxInput.value))\n      slider.noUiSlider.set([null, maxInput.value]);\n  }\n\n  function validateRange() {\n    inputs.forEach(input => setMinAndMaxValues(input));\n  }\n\n  const reset = () => {\n    slider.noUiSlider.set([\n      minInput.getAttribute('min'),\n      maxInput.getAttribute('max'),\n    ]);\n    minInput.value = '';\n    maxInput.value = '';\n\n    fireChangeEvent();\n\n    setMinAndMaxValues();\n  };\n\n  const unload = () => {\n    events.forEach(unsubscribe => unsubscribe());\n    slider.noUiSlider.destroy();\n  };\n\n  return {\n    unload,\n    reset,\n    validateRange,\n  };\n};\n\nexport default priceRange;\n","import { createFocusTrap } from 'focus-trap';\nimport { add, listen, qs, qsa, remove, toggle } from '@fluorescent/dom';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport { updateFilters } from '@/lib/filters/events';\nimport priceRange from '@/lib/filters/price-range';\nimport { on } from '@/glow/events';\n\nconst sel = {\n  filter: '[data-filter]',\n  filterTarget: '[data-filter-target]',\n  flyouts: '[data-filter-modal]',\n  button: '[data-button]',\n  wash: '[data-drawer-wash]',\n  sort: '[data-sort]',\n  close: '[data-close-icon]',\n  group: '.filter-drawer__group',\n  panel: '.filter-drawer__panel',\n  flyoutWrapper: '[data-filer-modal-wrapper]',\n  priceRange: '[data-price-range]',\n};\n\nconst classes = {\n  active: 'active',\n  activeFilters: 'filters-active',\n  fixed: 'is-fixed',\n};\n\nconst filterDrawer = node => {\n  const flyouts = qsa(sel.flyouts, node);\n  const flyoutContainer = qs(sel.flyoutWrapper, node);\n  const wash = qs(sel.wash, node);\n  const filters = qsa(sel.filter, node);\n  const sortMethods = qsa(`[data-filter-modal=\"__sort\"] ${sel.sort}`);\n  const rangeInputs = qsa('[data-range-input]', node);\n  let focusTrap = null;\n  let range = null;\n  const rangeContainer = qs(sel.priceRange, node);\n\n  if (rangeContainer) {\n    range = priceRange(rangeContainer);\n  }\n\n  const events = [\n    listen(qsa(sel.filterTarget, node), 'click', clickFlyoutTrigger),\n    listen(filters, 'click', clickFilter),\n    listen(sortMethods, 'click', clickSort),\n    listen(wash, 'click', clickWash),\n    listen(qsa(sel.button, node), 'click', clickButton),\n    listen(qsa(sel.close, node), 'click', clickWash),\n    listen(node, 'keydown', ({ keyCode }) => {\n      if (keyCode === 27) clickWash();\n    }),\n    listen(rangeInputs, 'change', rangeChanged),\n    on('filters:filter-removed', () => syncActiveStates()),\n  ];\n\n  const mobiletrigger = qs('[data-mobile-trigger]', node);\n  const mobileFilters = qs('[data-mobile-filters]', node);\n  if (mobileFilters || mobiletrigger) {\n    events.push(\n      listen(mobiletrigger, 'click', () => {\n        mobileFilters.style.setProperty(\n          '--mobile-filters-offset',\n          `${mobileFilters.clientHeight - 20}px`\n        );\n        toggle(mobileFilters, classes.active);\n      })\n    );\n  }\n\n  setActiveStates();\n\n  function setActiveStates() {\n    const panels = qsa(sel.panel, node);\n\n    panels.forEach(panel => {\n      const groups = qsa(sel.group, panel);\n\n      if (groups.length) {\n        groups.forEach(group => {\n          if (containsCheckedInputs(qsa('input', group))) {\n            add(group, classes.activeFilters);\n          }\n        });\n      }\n\n      toggle(\n        panel,\n        classes.activeFilters,\n        containsCheckedInputs(qsa('input', panel))\n      );\n    });\n  }\n\n  function clickFlyoutTrigger(e) {\n    e.preventDefault();\n    const { filterTarget } = e.currentTarget.dataset;\n    const modal = qs(`[data-filter-modal=\"${filterTarget}\"]`, node);\n    focusTrap = createFocusTrap(modal, { allowOutsideClick: true });\n\n    add(flyoutContainer, classes.fixed);\n\n    setTimeout(() => {\n      add(flyoutContainer, classes.active);\n      add(modal, classes.active);\n    }, 50);\n\n    modal.setAttribute('aria-hidden', 'false');\n    focusTrap.activate();\n    disableBodyScroll(node, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n  }\n\n  function clickWash(e) {\n    e && e.preventDefault();\n\n    focusTrap && focusTrap.deactivate();\n\n    remove(flyouts, classes.active);\n    remove(flyoutContainer, classes.active);\n    flyouts.forEach(flyout => flyout.setAttribute('aria-hidden', 'true'));\n    enableBodyScroll(node);\n\n    setTimeout(() => {\n      remove(flyoutContainer, classes.fixed);\n    }, 300);\n  }\n\n  function clickFilter(e) {\n    checkForActiveModalitems(e.currentTarget);\n\n    const wrappingContainer = e.target.closest(sel.group);\n\n    wrappingContainer &&\n      toggle(\n        wrappingContainer,\n        classes.activeFilters,\n        containsCheckedInputs(qsa('input', wrappingContainer))\n      );\n  }\n\n  function clickSort(e) {\n    checkForActiveModalitems(e.target);\n  }\n\n  function rangeChanged(e) {\n    checkForActiveModalitems(e.currentTarget);\n\n    const wrappingContainer = e.target.closest(sel.group);\n\n    wrappingContainer &&\n      toggle(wrappingContainer, classes.activeFilters, rangeInputsHaveValue());\n  }\n\n  function clickButton(e) {\n    e.preventDefault();\n    const { button } = e.currentTarget.dataset;\n\n    const scope = e.currentTarget.closest(sel.flyouts);\n    const { filterModal } = scope.dataset;\n\n    // Sort flyouts\n    if (filterModal === '__sort') {\n      if (button === 'clear-all') {\n        sortMethods.forEach(element => {\n          qs('input', element).checked = false;\n        });\n        remove(e.currentTarget.closest(sel.panel), classes.activeFilters);\n      }\n\n      if (button === 'apply') {\n        updateFilters();\n        clickWash();\n        return;\n      }\n    } else {\n      // Regular filter flyout\n\n      if (button === 'clear-all') {\n        qsa('input', scope).forEach(input => {\n          input.checked = false;\n        });\n\n        const panel = e.currentTarget.closest(sel.panel);\n        remove([...qsa(sel.group, panel), panel], classes.activeFilters);\n        range && range.reset();\n      }\n\n      if (button === 'clear') {\n        const wrappingContainer = e.target.closest(sel.group);\n        qsa('input', wrappingContainer).forEach(input => {\n          input.checked = false;\n        });\n        remove(e.currentTarget.closest(sel.group), classes.activeFilters);\n\n        checkForActiveModalitems(e.currentTarget);\n\n        if (qs('.filter-drawer__price-range', wrappingContainer)) {\n          range.reset();\n        }\n      }\n\n      if (button === 'apply') {\n        range && range.validateRange();\n        updateFilters();\n\n        clickWash();\n      }\n    }\n  }\n\n  function containsCheckedInputs(items) {\n    let isActive = false;\n\n    items.forEach(input => {\n      if (input.checked) {\n        isActive = true;\n      }\n    });\n\n    return isActive;\n  }\n\n  function rangeInputsHaveValue() {\n    let hasValue = false;\n\n    rangeInputs.forEach(input => {\n      if (input.value !== '') hasValue = true;\n    });\n\n    return hasValue;\n  }\n\n  function checkForActiveModalitems(currentTarget) {\n    const panel = currentTarget.closest(sel.panel);\n\n    if (!panel) return;\n\n    const activeItems =\n      containsCheckedInputs(qsa('input', panel)) || rangeInputsHaveValue();\n\n    toggle(panel, classes.activeFilters, activeItems);\n  }\n\n  function syncActiveStates() {\n    const panels = qsa(sel.panel, node);\n\n    panels.forEach(panel => {\n      let activeItems = false;\n      const rangeInputs = qs('[data-range-input]', panel);\n\n      if (containsCheckedInputs(qsa('input', panel))) {\n        activeItems = true;\n      }\n\n      if (rangeInputs && rangeInputsHaveValue()) {\n        activeItems = true;\n      }\n\n      toggle(panel, classes.activeFilters, activeItems);\n    });\n  }\n\n  function unload() {\n    events.forEach(unsubscribe => unsubscribe());\n    range && range.unload();\n  }\n\n  return {\n    unload,\n  };\n};\n\nexport default filterDrawer;\n","import { add, qs, remove } from \"@fluorescent/dom\";\r\nimport { Ajaxinate } from \"ajaxinate\";\r\n\r\nimport { section } from \"@/glow\";\r\nimport ProductItem from \"@/lib/product-item\";\r\nimport filterHandler from \"@/lib/filters/filter-handler\";\r\nimport filterDrawer from \"@/lib/filters/filter-drawer\";\r\nimport { emit } from \"@/glow/events\";\r\nimport { AnimateCollection } from \"@/lib/animation\";\r\nimport dispatchCustomEvent from \"@/lib/dispatch-custom-event\";\r\n\r\nconst selectors = {\r\n  infiniteScrollContainer: \".collection__infinite-container\",\r\n  infiniteScrollTrigger: \".collection__infinite-trigger\",\r\n  partial: \"[data-partial]\",\r\n};\r\n\r\nsection(\"collection\", {\r\n  infiniteScroll: null,\r\n\r\n  onLoad() {\r\n    const { collectionItemCount, paginationType } = this.container.dataset;\r\n\r\n    if (!parseInt(collectionItemCount)) return;\r\n\r\n    this.filterForm = qs(\"[data-filter-form]\", this.container);\r\n\r\n    if (this.filterForm) {\r\n      this.partial = qs(selectors.partial, this.container);\r\n\r\n      this.filterDrawer = filterDrawer(this.container);\r\n      this.filterHandler = filterHandler({\r\n        container: this.container,\r\n        partial: this.partial,\r\n        renderCB: this._renderView.bind(this),\r\n      });\r\n    }\r\n\r\n    // Ininite scroll\r\n    this.paginationType = paginationType;\r\n    this.paginated = this.paginationType === \"paginated\";\r\n\r\n    this.infiniteScrollTrigger = qs(\r\n      selectors.infiniteScrollTrigger,\r\n      this.container\r\n    );\r\n\r\n    if (!this.paginated) {\r\n      this._initInfiniteScroll();\r\n    }\r\n\r\n    this.productItem = ProductItem(this.container);\r\n    this.AnimateCollection = AnimateCollection(this.container);\r\n  },\r\n\r\n  _initInfiniteScroll() {\r\n    const infiniteScrollOptions = {\r\n      container: selectors.infiniteScrollContainer,\r\n      pagination: selectors.infiniteScrollTrigger,\r\n      loadingText: \"Loading...\",\r\n      callback: () => {\r\n        this.productItem && this.productItem.unload();\r\n        this.productItem = ProductItem(this.container);\r\n\r\n        // The visible items are already initialized and do not\r\n        // need to be reinitialized. The newly added items however\r\n        // do need to be initialized.\r\n        this.AnimateCollection.updateItems(false);\r\n\r\n        // All apps to add new listeners\r\n        dispatchCustomEvent(\"products:loaded\");\r\n\r\n        emit(\"collection:updated\");\r\n      },\r\n    };\r\n\r\n    if (this.paginationType === \"click\") {\r\n      infiniteScrollOptions.method = \"click\";\r\n    }\r\n\r\n    this.infiniteScroll = new Ajaxinate(infiniteScrollOptions);\r\n  },\r\n\r\n  _renderView(searchParams) {\r\n    const url = `${window.location.pathname}?section_id=${this.container.dataset.sectionId}&${searchParams}`;\r\n    const loading = qs(\".collection__loading\", this.container);\r\n\r\n    add(loading, \"is-active\");\r\n\r\n    fetch(url)\r\n      .then(res => res.text())\r\n      .then(res => {\r\n        this._updateURLHash(searchParams);\r\n        const doc = new DOMParser().parseFromString(res, \"text/html\");\r\n        const contents = qs(selectors.partial, doc).innerHTML;\r\n        this.partial.innerHTML = contents;\r\n\r\n        if (!this.paginated) {\r\n          this.infiniteScrollTrigger.innerHTML = \"\";\r\n\r\n          this._initInfiniteScroll();\r\n        }\r\n\r\n        this.productItem && this.productItem.unload();\r\n        this.productItem = ProductItem(this.container);\r\n\r\n        // All apps to add new listeners\r\n        dispatchCustomEvent(\"products:loaded\");\r\n\r\n        this.AnimateCollection.updateItems();\r\n\r\n        remove(loading, \"is-active\");\r\n        emit(\"collection:updated\");\r\n      });\r\n  },\r\n\r\n  _updateURLHash(searchParams) {\r\n    history.pushState(\r\n      { searchParams },\r\n      \"\",\r\n      `${window.location.pathname}${searchParams && \"?\".concat(searchParams)}`\r\n    );\r\n  },\r\n\r\n  onUnload() {\r\n    this.infiniteScroll && this.infiniteScroll.destroy();\r\n\r\n    this.filtering && this.filtering.unload();\r\n\r\n    this.delegate.off();\r\n    this.subscriptions.forEach(unsubscribe => unsubscribe());\r\n\r\n    this.productItem && this.productItem.unload();\r\n    this.AnimateCollection?.destroy();\r\n  },\r\n});\r\n","import { add, listen, qs, qsa, toggle, contains } from '@fluorescent/dom';\n\nimport { section } from '@/glow';\n\nsection('login', {\n  onLoad() {\n    const main = qs('[data-part=\"login\"]', this.container);\n    const reset = qs('[data-part=\"reset\"]', this.container);\n    const toggles = qsa('[data-toggle]', this.container);\n    const wrapper = qs('.login__wrapper', this.container);\n    const loginError = qs('.login__error', this.container);\n\n    const isSuccess = qs('[data-success]', this.container);\n    const successMessage = qs('[data-success-message]', this.container);\n\n    if (isSuccess) {\n      add(successMessage, 'visible');\n      add(wrapper, 'hide');\n    }\n\n    if (loginError) {\n      toggleView();\n    }\n\n    function toggleView(e) {\n      e && e.preventDefault();\n      toggle([main, reset], 'hide');\n\n      main.setAttribute('aria-hidden', contains(main, 'hide'));\n      reset.setAttribute('aria-hidden', contains(reset, 'hide'));\n    }\n\n    this.toggleClick = listen(toggles, 'click', toggleView);\n  },\n\n  onUnload() {\n    this.toggleClick();\n  },\n});\n","import { add, listen, qsa, remove } from '@fluorescent/dom';\nimport { createFocusTrap } from 'focus-trap';\nimport { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';\n\nimport { section } from '@/glow';\n\nsection('addresses', {\n  onLoad() {\n    this.modals = qsa('[data-address-modal]', this.container);\n    this.focusTrap = null;\n\n    const overlays = qsa('[data-overlay]', this.container);\n    const open = qsa('[data-open]', this.container);\n    const close = qsa('[data-close]', this.container);\n    const remove = qsa('[data-remove]', this.container);\n    const countryOptions = qsa('[data-country-option]', this.container) || [];\n\n    this.events = [\n      listen(open, 'click', e => this.openModal(e)),\n      listen([...close, ...overlays], 'click', e => this.closeModal(e)),\n      listen(remove, 'click', e => this.removeAddress(e)),\n      listen(this.modals, 'keydown', e => {\n        if (e.keyCode === 27) this.closeModal(e);\n      }),\n    ];\n\n    countryOptions.forEach(el => {\n      const { formId } = el.dataset;\n\n      const countrySelector = 'AddressCountry_' + formId;\n      const provinceSelector = 'AddressProvince_' + formId;\n      const containerSelector = 'AddressProvinceContainer_' + formId;\n\n      new window.Shopify.CountryProvinceSelector(\n        countrySelector,\n        provinceSelector,\n        {\n          hideElement: containerSelector,\n        }\n      );\n    });\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n  },\n\n  openModal(e) {\n    e.preventDefault();\n    const { open: which } = e.currentTarget.dataset;\n\n    const modal = this.modals.find(el => el.dataset.addressModal == which);\n    add(modal, 'active');\n    this.focusTrap = createFocusTrap(modal, { allowOutsideClick: true });\n    this.focusTrap.activate();\n    disableBodyScroll(modal, {\n      allowTouchMove: el => {\n        while (el && el !== document.body) {\n          if (el.getAttribute('data-scroll-lock-ignore') !== null) {\n            return true;\n          }\n          el = el.parentNode;\n        }\n      },\n      reserveScrollBarGap: true,\n    });\n    setTimeout(() => {\n      add(modal, 'visible');\n    }, 50);\n  },\n\n  closeModal(e) {\n    e.preventDefault();\n\n    const modal = e.target.closest('.addresses__modal');\n\n    enableBodyScroll(modal);\n    this.focusTrap.deactivate();\n    remove(modal, 'visible');\n    setTimeout(() => {\n      remove(modal, 'active');\n    }, 350);\n  },\n\n  removeAddress(e) {\n    const { confirmMessage, target } = e.currentTarget.dataset;\n    if (\n      confirm(confirmMessage) ||\n      'Are you sure you wish to delete this address?'\n    ) {\n      window.Shopify.postLink(target, {\n        parameters: { _method: 'delete' },\n      });\n    }\n  },\n});\n","import { listen, qsa, qs, toggle, contains } from '@fluorescent/dom';\nimport { focusFormStatus } from '@/lib/a11y';\n\nimport { section } from '@/glow';\nimport { wrapIframes, wrapTables } from '@/lib/rte';\nimport { AnimateArticle } from '@/lib/animation';\n\nsection('article', {\n  onLoad() {\n    focusFormStatus(this.container);\n    const socialButtons = qsa('[data-social-share]', this.container);\n\n    this.events = [\n      listen(socialButtons, 'click', e => {\n        toggle(e.target, 'active');\n        const sub = qs('.article__share-icons', e.target);\n\n        sub.setAttribute('aria-hidden', !contains(e.target, 'active'));\n      }),\n    ];\n\n    wrapIframes(qsa('iframe', this.container));\n    wrapTables(qsa('table', this.container));\n\n    this.AnimateArticle = AnimateArticle(this.container);\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n    this.AnimateArticle?.destroy();\n  },\n});\n","import { qs, listen, toggle, contains } from '@fluorescent/dom';\nimport { section } from '@/glow';\n\nconst sel = {\n  toggle: '[data-js-toggle]',\n  textToggle: '[data-text-toggle]',\n};\n\nsection('password', {\n  onLoad() {\n    const toggleButton = qs(sel.toggle, this.container);\n    const textToggle = qs(sel.textToggle, this.container);\n    const socialButton = qs('[data-social-share]', this.container);\n\n    this.events = [\n      listen([toggleButton, textToggle], 'click', e => this.toggleView(e)),\n      listen(socialButton, 'click', e => {\n        toggle(e.target, 'active');\n        const sub = qs('.password__share-icons', e.target);\n\n        sub.setAttribute('aria-hidden', !contains(e.target, 'active'));\n      }),\n    ];\n  },\n\n  toggleView() {\n    toggle(this.container, 'welcome');\n  },\n\n  onUnload() {\n    this.events.forEach(unsubscribe => unsubscribe());\n  },\n});\n","import { qsa } from '@fluorescent/dom';\nimport { section } from '@/glow';\n\nimport { wrapIframes, wrapTables } from '@/lib/rte';\nimport { backgroundVideoHandler } from '@/lib/a11y';\nimport accordions from '@/lib/accordions';\n\nconst selectors = {\n  video: '.about__block-video',\n};\n\nsection('page', {\n  onLoad() {\n    const videos = qsa(selectors.video, this.container);\n    this.videoHandlers = [];\n\n    if (videos.length) {\n      videos.forEach(video => {\n        this.videoHandlers.push(backgroundVideoHandler(video.parentNode));\n      });\n    }\n\n    this.accordions = accordions(qsa('.accordion', this.container));\n    wrapIframes(qsa('iframe', this.container));\n    wrapTables(qsa('table', this.container));\n  },\n\n  onUnload() {\n    this.accordions.unload();\n    this.videoHandlers.forEach(handler => handler());\n  },\n});\n","import { qs, listen, toggle, add, remove } from '@fluorescent/dom';\n\nimport { section } from '@/glow';\nimport filterHandler from '@/lib/filters/filter-handler';\nimport filterDrawer from '@/lib/filters/filter-drawer';\nimport { AnimateSearch } from '@/lib/animation';\n\nconst selectors = {\n  partial: '[data-partial]',\n  loader: '.search__loading',\n};\n\nconst classes = {\n  active: 'is-active',\n};\n\nsection('search', {\n  onLoad() {\n    const clearButton = qs('[data-clear-search]', this.container);\n    const searchButton = qs('.search__submit', this.container);\n    const searchInput = qs('[data-search-input]', this.container);\n    const filterForm = qs('[data-filter-form]', this.container);\n    this.searchParamsInitial = window.location.search.slice(1);\n    this.searchParamsPrev = window.location.search.slice(1);\n\n    if (filterForm) {\n      this.partial = qs(selectors.partial, this.container);\n\n      this.filterDrawer = filterDrawer(this.container);\n      this.filterHandler = filterHandler({\n        container: this.container,\n        partial: this.partial,\n        renderCB: this._renderView.bind(this),\n      });\n    }\n\n    toggle([clearButton, searchButton], 'visible', searchInput.value !== '');\n\n    this.AnimateSearch = AnimateSearch(this.container);\n\n    this.events = [\n      listen(clearButton, 'click', () => {\n        searchInput.value = '';\n        toggle(\n          [clearButton, searchButton],\n          'visible',\n          searchInput.value !== ''\n        );\n      }),\n      listen(searchInput, 'input', e =>\n        toggle([clearButton, searchButton], 'visible', e.target.value !== '')\n      ),\n      listen(window, 'popstate', event => {\n        const searchParams = event.state\n          ? event.state.searchParams\n          : this.searchParamsInitial;\n        if (searchParams === this.searchParamsPrev) return;\n        this._renderView(searchParams, false);\n      }),\n    ];\n  },\n\n  _renderView(searchParams, updateHash = true) {\n    const url = `${window.location.pathname}?section_id=${this.container.dataset.sectionId}&${searchParams}`;\n    const loading = qs(selectors.loader, this.container);\n\n    add(loading, classes.active);\n    this.filterDrawer.unload();\n\n    fetch(url)\n      .then(res => res.text())\n      .then(res => {\n        this.searchParamsPrev = searchParams;\n        updateHash && this._updateURLHash(searchParams);\n        const doc = new DOMParser().parseFromString(res, 'text/html');\n        const contents = qs(selectors.partial, doc).innerHTML;\n        this.partial.innerHTML = contents;\n\n        remove(loading, classes.active);\n        this.filterDrawer = filterDrawer(this.container);\n        this.AnimateSearch.updateItems();\n      });\n  },\n\n  _updateURLHash(searchParams) {\n    history.pushState(\n      { searchParams },\n      '',\n      `${window.location.pathname}${searchParams && '?'.concat(searchParams)}`\n    );\n  },\n\n  onUnload() {\n    this.buttonHandler();\n    this.filterHandler && this.filterHandler.unload();\n    this.filterDrawer && this.filterDrawer.unload();\n    this.AnimateSearch?.destroy();\n  },\n});\n","import { load } from '@shopify/theme-sections';\nimport { add, listen, qs } from '@fluorescent/dom';\nimport isMobile from 'is-mobile';\n\nimport pageTransition from '@/lib/page-transition';\nimport modal from '@/lib/modal';\nimport storeAvailabilityDrawer from '@/lib/store-availability-drawer';\nimport { handleTab } from '@/lib/a11y';\nimport sectionClasses from '@/lib/section-classes';\nimport { hydrate } from '@/glow/events';\nimport quickAdd from '@/lib/quick-add';\nimport quickAddModal from '@/lib/quick-add-modal';\n\n// Initialize lazysizes\nimport 'lazysizes/plugins/object-fit/ls.object-fit';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\nimport 'lazysizes/plugins/rias/ls.rias';\nimport 'lazysizes/plugins/bgset/ls.bgset';\nimport 'lazysizes';\nimport 'lazysizes/plugins/respimg/ls.respimg';\n\n// Import sections\nimport '@/sections';\n\n// Detect theme editor\nif (window.Shopify.designMode === true) {\n  add(document.documentElement, 'theme-editor');\n  document.documentElement.classList.add('theme-editor');\n} else {\n  const el = qs('.theme-editor-scroll-offset', document);\n  el && el.parentNode.removeChild(el);\n}\n\n// Function to load all sections\nconst loadSections = () => {\n  load('*');\n  hydrate({ SelectedProductSection: null });\n};\n\n// Call above function either immediately or bind on loaded event\nif (\n  document.readyState === 'complete' ||\n  document.readyState === 'interactive'\n) {\n  loadSections();\n} else {\n  listen(document, 'DOMContentLoaded', loadSections);\n}\n\nif (isMobile({ tablet: true, featureDetect: true })) {\n  add(document.body, 'is-mobile');\n}\n\n// Page transitions\npageTransition();\n\n// a11y tab handler\nhandleTab();\n\n// Apply contrast classes\nsectionClasses();\n\n// Quick add to cart\nquickAdd();\n\n// Quick add modal\nconst quickAddModalElement = qs('[data-quick-add-modal]', document);\n\nif (quickAddModalElement) {\n  quickAddModal(quickAddModalElement);\n}\n\n// Setup modal\nconst modalElement = qs('[data-modal]', document);\nmodal(modalElement);\n\n// Product availabilty drawer\nconst availabilityDrawer = qs('[data-store-availability-drawer]', document);\nstoreAvailabilityDrawer(availabilityDrawer);\n\n// Make it easy to see exactly what theme version\n// this is by commit SHA\n\nwindow.SHA = '__gitSHA';\n","import { qsa } from '@fluorescent/dom';\nimport { section } from '@/glow';\n\nimport accordions from '@/lib/accordions';\nimport { wrapIframes, wrapTables } from '@/lib/rte';\n\nsection('contact', {\n  onLoad() {\n    this.accordions = accordions(qsa('.accordion', this.container));\n\n    wrapIframes(qsa('iframe', this.container));\n    wrapTables(qsa('table', this.container));\n  },\n\n  onUnload() {\n    this.accordions.unload();\n  },\n});\n","import { section } from '@/glow';\nimport { AnimateBlog } from '@/lib/animation';\n\nsection('blog', {\n  onLoad() {\n    this.AnimateBlog = AnimateBlog(this.container);\n  },\n\n  onUnload() {\n    this.AnimateBlog?.destroy();\n  },\n});\n","import Delegate from \"ftdomdelegate\";\n\nexport default () => {\n  const pageTransitionOverlay = document.querySelector(\n    \"#page-transition-overlay\"\n  );\n  const animationDuration = 200;\n\n  if (pageTransitionOverlay) {\n    pageTransitionOverlay.classList.remove(\"skip-transition\");\n\n    setTimeout(function () {\n      pageTransitionOverlay.classList.remove(\"active\");\n    }, 0);\n\n    setTimeout(() => {\n      // Prevent the theme editor from seeing this\n      pageTransitionOverlay.classList.remove(\"active\");\n    }, animationDuration);\n\n    const delegate = new Delegate(document.body);\n\n    delegate.on(\n      \"click\",\n      'a[href]:not([href^=\"#\"]):not(.no-transition):not([href^=\"mailto:\"]):not([href^=\"tel:\"]):not([target=\"_blank\"])',\n      onClickedToLeave\n    );\n\n    window.onpageshow = function (e) {\n      if (e.persisted) {\n        pageTransitionOverlay.classList.remove(\"active\");\n      }\n    };\n  }\n\n  function onClickedToLeave(event, target) {\n    // avoid interupting open-in-new-tab click\n    if (event.ctrlKey || event.metaKey) return;\n\n    event.preventDefault();\n\n    // Hint to browser to prerender destination\n    let linkHint = document.createElement(\"link\");\n    linkHint.setAttribute(\"rel\", \"prerender\");\n    linkHint.setAttribute(\"href\", target.href);\n\n    document.head.appendChild(linkHint);\n\n    setTimeout(() => {\n      window.location.href = target.href;\n    }, animationDuration);\n\n    pageTransitionOverlay.classList.add(\"active\");\n  }\n};\n","function makeRequest(method, url) {\n  return new Promise(function (resolve, reject) {\n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url);\n    xhr.onload = function () {\n      if (this.status >= 200 && this.status < 300) {\n        resolve(xhr.response);\n      } else {\n        reject(new Error(this.status));\n      }\n    };\n    xhr.onerror = function () {\n      reject(new Error(this.status));\n    };\n    xhr.send();\n  });\n}\n\nexport { makeRequest };\n"],"names":["SECTION_ID_ATTR","Section","container","properties","this","Element","TypeError","getAttribute","Error","validateContainerElement","id","extensions","Object","assign","value","validatePropertiesObject","onLoad","prototype","Function","onUnload","onSelect","onDeselect","onBlockSelect","onBlockDeselect","extend","extension","push","extensionClone","init","apply","defineProperty","target","to","index","arguments","length","nextSource","nextKey","hasOwnProperty","call","writable","configurable","SECTION_TYPE_ATTR","window","Shopify","theme","sections","registered","instances","register","type","TypedSection","constructor","create","load","types","containers","normalizeType","document","querySelectorAll","normalizeContainers","forEach","filter","getInstances","selector","filteredInstances","NodeList","isPrototypeOf","Array","isArray","firstElement","concat","instance","getInstanceById","i","keys","map","toLowerCase","slice","n","t","querySelector","c","r","e","o","classList","u","l","a","contains","designMode","addEventListener","event","detail","sectionId","indexOf","splice","isMobileModule","exports","isMobile","isMobile_1","default","mobileRE","tabletRE","opts","ua","navigator","userAgent","headers","result","tablet","test","featureDetect","maxTouchPoints","Delegate","root","listenerMap","handle","bind","_removedListeners","matchesTag","tagName","element","matchesRoot","rootElement","documentElement","matchesId","eventType","removeEventListener","captureForType","on","handler","useCapture","matcher","matcherParam","undefined","matches","off","listener","listenerList","singleEventType","eventIgnore","nodeType","parentNode","correspondingUseElement","eventPhase","currentTarget","ret","toFire","hasAttribute","parentElement","HTMLDocument","fire","preventDefault","destroy","_default","module","candidateSelectors","candidateSelector","join","NoElement","msMatchesSelector","webkitMatchesSelector","getRootNode","ownerDocument","getCandidates","el","includeContainer","candidates","unshift","getCandidatesIteratively","elements","options","elementsToCheck","from","shift","assigned","assignedElements","nestedCandidates","children","flatten","scope","includes","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","_nestedCandidates","getTabindex","node","isScope","tabIndex","isContentEditable","isNaN","parseInt","sortOrderedTabbables","b","documentOrder","isInput","isNonTabbableRadio","isRadio","name","radioSet","radioScope","form","queryRadios","CSS","escape","err","console","error","message","checked","nodes","getCheckedRadio","isTabbableRadio","isZeroArea","_node$getBoundingClie","getBoundingClientRect","width","height","isNodeMatchingSelectorFocusable","disabled","isHiddenInput","_ref","displayCheck","getComputedStyle","visibility","nodeUnderDetails","nodeRootHost","host","nodeIsAttached","originalNode","rootNode","assignedSlot","getClientRects","isHidden","some","child","isDetailsWithSummary","item","isDisabledFromFieldset","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","content","sort","reduce","acc","sortable","tabbable","isTabbable","focusableCandidateSelector","isFocusable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread2","source","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","trapQueue","activeFocusTraps","activateTrap","trap","activeTrap","pause","trapIndex","deactivateTrap","unpause","delay","fn","setTimeout","findIndex","arr","idx","every","valueOrHandler","_len","params","_key","getActualTarget","composedPath","createFocusTrap","userOptions","doc","config","returnFocusOnDeactivate","escapeDeactivates","delayInitialFocus","state","containerGroups","tabbableGroups","nodeFocusedBeforeActivation","mostRecentlyFocusedNode","active","paused","delayInitialFocusTimer","getOption","configOverrideOptions","optionName","configOptionName","findContainerIndex","tabbableNodes","find","getNodeForOption","optionValue","_len2","_key2","getInitialFocusNode","activeElement","firstTabbableGroup","firstTabbableNode","updateTabbableNodes","tabbableOptions","focusableNodes","lastTabbableNode","nextTabbableNode","forward","nodeIdx","reverse","group","tryFocus","focus","preventScroll","select","isSelectableInput","getReturnFocusNode","previousActiveElement","checkPointerDown","clickOutsideDeactivates","deactivate","returnFocus","allowOutsideClick","checkFocusIn","targetContained","Document","stopImmediatePropagation","checkKey","keyCode","isEscapeEvent","isTabEvent","destinationNode","containerIndex","containerGroup","shiftKey","startOfGroupIndex","_ref2","destinationGroupIndex","lastOfGroupIndex","_ref3","_destinationGroupIndex","checkTab","checkClick","addListeners","capture","passive","removeListeners","activate","activateOptions","onActivate","onPostActivate","checkCanFocusTrap","finishActivation","then","deactivateOptions","onDeactivate","onPostDeactivate","checkCanReturnFocus","clearTimeout","finishDeactivation","updateContainerElements","containerElements","elementsAsArray","Boolean","hasPassiveEvents","passiveTestOptions","isIosDevice","platform","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPaddingRight","allowTouchMove","lock","rawEvent","touches","disableBodyScroll","targetElement","arr2","_toConsumableArray","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","clientWidth","body","style","paddingRight","overflow","setOverflowHidden","enableBodyScroll","getState","hydrate","emit","pool","inAnimItems","add","defaultStyle","timeoutId","onCancelled","inAnimItem","remove","CSS_EASEOUT_EXPO","slideDown","Promise","resolve","_isVisible","isVisible","hasEndHeight","endHeight","display","duration","defaultStyles","defaultDisplay","pxToNumber","getPropertyValue","position","minHeight","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderTop","borderBottom","setAttribute","getDefaultStyles","isBorderBox","contentHeight","cssDuration","cssTransition","startHeight","startMinHeight","startPaddingTop","startPaddingBottom","startBorderTopWidth","startBorderBottomWidth","endMinHeight","endPaddingTop","endPaddingBottom","endBorderTopWidth","endBorderBottomWidth","requestAnimationFrame","transition","webkitTransition","resetStyle","slideUp","slideStop","offsetHeight","px","replace","accordion","labels","qsa","text","label","href","qs","icon","createElement","innerHTML","append","labelClick","listen","nextElementSibling","_close","_open","firstOpen","Accordions","accordions","unload","classes","selectors","localStorage","setItem","removeItem","JSON","parse","getItem","dispatchCustomEvent","eventName","data","CustomEvent","dispatchEvent","routes","cart","paths","base","change","clear","sortCart","order","getStorage","sorted","items","variant_id","changeItem","line","quantity","fetch","method","credentials","stringify","res","json","addItemById","get","newOrder","setStorage","serialize","field","encodeURIComponent","option","selected","addItem","status","errorMessage","code","description","addVariant","variant","numAvailable","inventory_policy","inventory_management","inventory_quantity","numRequested","updateItem","formatMoney","val","cents","format","placeholderRegex","formatString","formatWithDelimiters","number","precision","thousands","decimal","parts","toFixed","split","match","moneyFormat","cb","products","catch","log","getSizedImageUrl","src","size","removeProtocol","prefix","suffix","path","strings","updateUnitPrices","unitPriceContainers","unitPrices","unitPriceBases","showUnitPricing","unit_price","toggle","_replaceText","_getBaseUnit","unit_price_measurement","renderUnitPrice","unitPrice","unitPriceMeasurement","product","unitPriceSeparator","reference_value","reference_unit","nodeList","replacementText","innerText","accessibility","focusFormStatus","formStatus","prefersReducedMotion","matchMedia","backgroundVideoHandler","video","getElementsByTagName","pauseListener","play","pause_video","play_video","getVariantFromId","_validateProductStructure","variants","getVariantFromSerializedArray","collection","optionArray","_validateSerializedArray","_createOptionArrayFromOptionCollection","_validateOptionsArray","getVariantFromOptionArray","ProductForm","prod","validateProductObject","listeners","getOptions","transform","exec","optionInputs","input","getVariant","getProperties","propertyName","propertyInputs","entries","getProductFormEventData","formQuantityInput","Number","initInputs","dataset","onFormEvent","idInputElement","appendChild","toString","setIdInputValue","onFormSubmit","onOptionChange","onQuantityChange","onPropertyChange","unsubscribe","quantityInput","quantityWrapper","addQuantity","subtractQuanity","events","currentValue","newValue","Event","variantPopup","delegate","modalContentId","modalContent","updatePrices","price","comparePrice","unavailableString","unavailable","compare_at_price","updateSku","skuElement","sku","updateBuyButton","btn","langAvailable","langUnavailable","langSoldOut","available","removeAttribute","textContent","storage","set","quickPurchaseBar","productForm","productBar","purchaseButton","hideButton","productImage","barQuantity","barProductTitle","productQuantity","checkoutLink","addToCartLink","variantId","observer","setOffset","quickPurchaseButton","click","setProperty","IntersectionObserver","isIntersecting","visible","observe","update","unobserve","featured_media","img","preview_image","disconnect","OptionButtons","els","groups","createOptionGroup","buttons","buttonClick","button","swatchButton","optionSelectedLabel","closest","inventoryCounter","variantsInventories","counterContainer","inventoryMessageElement","progressBar","lowInventoryThreshold","showUntrackedQuantity","stockCountdownMax","threshold","countDownMax","checkThreshold","setProgressBar","inventoryQuantity","inventoryManagement","progressValue","setInventoryMessage","productIventoryValid","inventory_message","f","d","p","w","pageXOffset","pageYOffset","innerHeight","x","y","py","vh","pvh","vw","pvw","stickyScroll","productMeta","previousScrollY","scrollY","currentScrollAmount","headerHeight","metaTop","metaTopPrevious","metaHeight","metaHeightWithHeader","metaMaxTop","scroller","performance","now","srraf","_scrollHandler","resizeObserver","ResizeObserver","currentScrollOffset","topMax","bottomMax","Math","max","min","_updateMetaTopLoop","amt","mobileCarousel","sliderElement","previousButton","nextButton","slider","adaptiveHeight","cellAlign","cellSelector","pageDots","prevNextButtons","contain","watchCSS","imagesLoaded","initialIndex","pauseAutoPlayOnHover","ready","resize","_updateNavigationPosition","scroll","image","offset","prevClick","nextClick","prevMouseenter","nextMouseenter","import","flu","chunks","flickity","Flickity","progress","progressScale","gsap","CustomEase","registerPlugin","handleClick","arrowMouseenter","arrowClickEase","parseEase","animation","ease","arrowHoverEase","evt","prev","next","previous","arrowClick","keyframes","scale","svg","opacity","slides","variantsWrapper","variantsJson","inputWrap","inputWrapWithValue","buttonWrap","buttonWrapWithValue","variantAvailability","enableDynamicProductOptions","currentVariantId","productVariants","variantSelectors","variantSelectorWrappers","createAvailableOptionsTree","currentlySelectedValues","entry","soldOut","currentOption1","currentOption2","option1","option2","option3","handleChange","selectedValues","valuesToManage","values","manageOptionState","setAvailability","str","escapeMap","m","escapeQuotes","toggleVariantOption","disableVariantGroup","initialOptions","setInitialAvailability","Carousel","defaultOpts","onReady","onChange","wrapAround","childNodes","slide","getMediaQuery","querySize","warn","mobileSizes","small","extraSmall","desktopSizes","intersectionWatcher","instant","sectionSize","margin","shouldAnimate","AnimateProductItem","showSecondaryImageOnHover","opacityEase","chipEaseIn","chipEaseOut","imageOne","imageTwo","optionsElements","killTweensOf","zIndex","fromTo","optionElement","enterItemAnimation","leaveItemAnimation","ImageReveal","imageEndY","imageReveal","gsapImport","imageEase","FadeUpReveal","yStart","itemEase","onComplete","targets","clearProps","FadeScaleReveal","scaleStart","FadeUpSplitReveal","stagger","SplitText","splitItems","linesClass","lineThreshold","lineCount","lines","revert","ProductItem","productItemAnimations","resizeTimeout","handleResize","checkQuickBuyTextHeight","quickShopButtonText","testHeight","onresize","siblingProducts","siblingSwatches","labelValueEl","baseLabel","cutline","siblingCutline","handleOver","QuickAddProductForm","openQuickCart","formElement","quantityError","productHandle","getProduct","buyButton","_onOptionChange","enableQuickCart","cartPage","flash","_onFormSubmit","_onQuantityChange","dynamicVariantAvailability","optionButtonsEls","optionButtons","quantityInputEls","factory","lazySizes","Date","lazysizes","lazySizesCfg","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","fastLoadedClass","iframeLoadMode","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","autosizesElems","sizeElement","getSizeElement","updateElementsSizes","debouncedUpdateElementsSizes","running","waiting","firstFns","secondFns","fns","run","rafBatch","docElem","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","requestIdleCallback","regPicture","loadEvents","regClassCache","hasClass","ele","cls","RegExp","addClass","trim","removeClass","reg","addRemoveLoadEvents","dom","action","triggerEvent","elem","noBubbles","noCancelable","createEvent","initEvent","updatePolyfill","full","polyfill","picturefill","pf","reevaluate","getCSS","getWidth","parent","offsetWidth","_lazysizesWidth","rAF","runFns","queue","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","rICTimeout","idleCallback","timeout","isPriority","debounce","func","timestamp","wait","later","last","loader","preloadElems","isCompleted","resetPreloadingTimer","started","eLvW","elvH","eLtop","eLleft","eLright","eLbottom","isBodyHidden","regImg","regIframe","supportScroll","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","isNestedVisible","elemExpand","outerRect","offsetParent","left","right","top","bottom","checkElements","eLlen","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","_defEx","preloadAfterLoad","throttledCheckElements","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","contentWindow","location","handleSources","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","isLoaded","complete","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","onload","_","persisted","loadingElements","MutationObserver","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","_aLSL","sources","len","dataAttr","uP","aC","rC","hC","gW","globalInstall","initialEvent","require$$0","cloneElementClass","fitSupport","regCssFit","regCssPosition","blankSrc","regBgUrlEscape","positionDefaults","center","initFix","switchClassesAdded","addedSrc","styleElement","styleElementStyle","lazysizesCfg","currentSrc","backgroundImage","rafedOnChange","_lazysizesParentFit","fit","hideElement","toUpperCase","previousElementSibling","removeChild","removePrevClone","objectFitClass","generateStyleClass","cloneNode","curSrc","attr","backgroundRepeat","backgroundPosition","backgroundSize","_objectFitPolyfilledDisplay","insertBefore","onRead","fontFamily","objectFit","objectPosition","getObject","regDescriptors","regCssObject","parentFit","getParent","parentSel","jQuery","getFit","tmpMatch","parentObj","css","_lazysizesParentContainer","getImageRatio","media","ratio","_lsMedia","parseFloat","calculateSize","displayRatio","imageRatio","retWidth","fitObj","fitElem","riasCfg","replaceTypes","string","regNumber","regWidth","regHeight","regPlaceholder","regObj","regAllowedSizes","anchor","buggySizes","getElementOptions","setOption","elemStyles","attrVal","styles","setSrc","elemW","elemH","scrollWidth","traditionalRatio","url","absUrl","postfix","widths","widthAlias","widthmap","aspectratio","candidate","round","getSrc","riasDefaults","modifyOptions","supportsType","rias","elemOpts","sourceSrc","hasPlaceholder","modified","emptyList","details","createAttrObject","ascendingSort","getWSet","testPicture","_lazyrias","pWS","getCandidate","srces","dpr","devicePixelRatio","optimum","getX","lowerCandidate","bonusFactor","cached","pow","reduceCandidate","respimage","cur","regWhite","regSplitSet","regSource","regType","allowedBackgroundSize","cover","setTypeOrMedia","typeMatch","proxyLoad","_lazybgset","bg","useSrc","fullSrc","_lazybgsetLoading","alt","sets","picture","optimumx","className","createPicture","bgSize","getBgSize","sels","supportSrcset","regHDesc","fixEdgeHDescriptor","removeHDescriptors","onerror","hasHDescriptorFix","msElementsFromPoint","regWCandidates","regMultiple","addCandidate","regPxLength","parseWsrcset","wDescriptor","runMatchMedia","timer","matchMediaElems","createSrcset","isImage","parsedSet","srcSet","_lazypolyfill","_set","matchesMedia","sel","MapShim","Map","getIndex","class_1","__entries__","delete","has","callback","ctx","_i","_a","isBrowser","global$1","global","self","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","addObserver","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","characterData","_b","getInstance","instance_","defineConfigurable","props","getWindowOf","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","_this","observation","WeakMap","switchImage","imageId","inYourSpaceButton","newImage","newImageMedia","otherImages","mediaType","mediaId","QuickCart","overlay","cartTab","itemsContainer","empty","footer","discounts","subtotal","closeButton","qty","decrease","increase","cartTrap","renderCart","close","open","cart_level_discount_applications","cartDiscounts","markup","line_level_discount_allocations","imgSrc","featured_image","imgAlt","imgUrl","sellingPlanName","selling_plan_allocation","selling_plan","product_title","original_price","final_price","options_with_values","variant_title","renderOptions","title","formatted_discounts","amount","discount_application","renderLineDiscounts","quickCart","addProductQuantity","removeProductQuantity","removeProduct","createItem","renderItems","total_allocated_amount","renderCartDiscounts","total_price","bool","whenTrue","PredictiveSearch","resultsContainer","cachedResults","renderSearchResults","resultsMarkup","getSearchResults","searchTerm","queryKey","predictive_search_url","response","ok","DOMParser","parseFromString","Navigation","parents","closeAll","toggleMenu","userIsUsingKeyboard","link","relatedTarget","scrollLeft","menu","menuTrigger","depth","subMenus","parentTriggers","sub","trig","enableRevealAnimations","formatHeight","h","formatHeightChild","formatHeightChildMobile","focusTrap","linksDepth","main","primary","localeInput","currencyInput","search","clearButton","searchButton","predictiveSearch","inputChange","reset","clearClick","DrawerSearch","searchMenu","parentBack","languages","currencies","closeButtons","animationItems","reveals","childMenu","firstFocusable","navigate","menuBefore","parentLink","handleCrossBorder","reveal","submit","delayExtraShort","section","enableStickyHeader","transparentHeaderOnHome","cartIcon","cartIndicator","count","menuButtons","searchButtons","space","Menu","quickSearch","QuickSearch","navigation","item_count","components","io","ro","list","localStorageAvailable","crossBorder","headerClick","cbSelectors","disclosure","ariaExpanded","isOption","hideList","childInFocus","which","Disclosure","PREFIX","Popup","popupType","storageKey","ageVerifiedKey","ageIsVerified","bodyLeave","mouseleave","toElement","showPopup","popupTypes","age_popup","verifyBtn","hidePopup","popup","closeBtn","popups","contructor","targetPopup","slideshowOpts","draggable","fade","timing","announcements","slideshow","autoPlay","handleRestart","playPlayer","handleBlockSelect","slideIndex","pausePlayer","unpausePlayer","columns","carouselWraps","carousel","animateProductItem","AnimateFeaturedCollection","slideItems","headerRevealItems","headerReveals","slideReveals","revealItem","slideItemReveals","slideAnimItems","slideDelay","AnimateFeaturedCollectionRow","revealItems","Lightbox","navItems","wrapper","images","sliderContainer","_resetZoom","selectedIndex","scrollIntoView","behavior","inline","zoomed","clientX","offsetTop","xDelta","yDelta","_handleZoom","Media","YT","acceptedTypes","activeMedia","featuresLoaded","initElement","player","Plyr","loop","Player","viewer","ModelViewerUI","pauseActiveMedia","playModel","pauseVideo","loadFeatures","version","loaded","onYouTubeIframeAPIReady","storeAvailability","storeList","currentVariant","variantSectionUrl","baseUrl","storeAvailabilityHTML","firstElementChild","placeholder","productHasOnlyDefaultVariant","viewInYourSpace","storeAvailabilityContainer","availability","currentProductId","hideVariantTitle","productInventoryJson","inventory","accordionOpen","accordionParent","lightbox","customtextInput","customtextInputTarget","socialButtons","_initEvents","AnimateFeaturedProduct","revealsRight","featuredImage","remainingImages","block","AnimateNewsletter","fadeUpSplitItems","fadeUpItems","textReveals","textDelay","limit","productId","requestUrl","productRecommendations","request","XMLHttpRequest","AnimateRecommendedProducts","send","navigationDots","dot","_handlePageDot","cellIndex","activeClass","dotNavigation","slideshowShouldAnimate","autoplay","intersectionRatio","_animateSlide","_unpause","dragThreshold","_pause","activeSlide","cells","_handleBlockSelect","mobileImage","mobileImageReveal","AnimateVideo","Video","videoWrapper","videoId","videoType","playerEl","iframe","taxindex","videoHandler","videos","_handleAutoPlay","playing","AnimateVideoHero","fadeScale","fadeUpSplitItem","videoReveal","questions","clickHandlers","AnimateQuestions","inner","AnimateSocialProof","socialProofItems","caorusel","tl","timeline","defaults","previousSlide","currentSlide","cell","_revealSlide","_showSlide","_changeSlide","_hideSlide","quoteTextlines","secondaryAnimationItems","fastDeepEqual","equal","flags","valueOf","DEFAULT_ID","LoaderStatus","Loader","apiKey","authReferrerPolicy","channel","client","language","libraries","mapIds","nonce","region","retries","CALLBACK","callbacks","done","errors","FAILURE","SUCCESS","LOADING","INITIALIZED","failed","createUrl","deleteScript","script","getElementById","loadPromise","reject","loadCallback","google","execute","setScript","loadErrorCallback","defer","async","head","onerrorEvent","resetIfRetryingFailed","setCallback","__googleMapsCallback","maps","AnimateMap","mapItem","imageItem","geocoder","address","rawData","styleData","_loadMap","Geocoder","geocode","geometry","latLong","lat","lng","zoom","Marker","gm_authFailure","mapImages","_loadAPI","videoHandlers","AnimateMosaicGrid","animating","unset","productCards","hotspotContainers","hotspots","hotspotEvents","hotspot","_hotspotClickHandler","_clickOutsideHandler","_closeAll","AnimateShoppable","imageReveals","totalDelay","imageDelay","delayLong","card","cardHeight","cardWidth","flyupActive","hotspotOffsetMargin","hotspotOffsetTop","positionFromBottom","scrollTo","spot","AnimateImageWithText","AnimateImageWithFeatures","sectionTitle","featureItems","featureItemReveals","fadeItem","featureItemDelay","featureItem","AnimateTextColumnsWithImages","revealGroup","groupReveals","revealGroupDelay","AnimateTestimonials","previousType","j","AnimateCollectionBanner","AnimateCollectionList","AnimateBlogPosts","AnimateLogoList","fadeUpItem","AnimateInlineFeatures","AnimateRichText","timers","countdownTimers","settings","year","month","day","hour","minute","shopTimezone","timeZoneSelection","hideTimerOnComplete","daysEl","hoursEl","minutesEl","secondsEl","timezoneString","countDownTime","getTime","timerInterval","timerLoop","distance","days","floor","hours","minutes","seconds","clearInterval","CountdownTimer","AnimateCountdownBanner","countdownTimer","endpoints","token","accessToken","eventCount","eventHeadingType","imageIsConstrained","_fetchOrg","animateEvents","sectionIsVisible","headerItems","eventItemsReveals","initEventItems","animateEventItems","eventItemDelay","eventItem","AnimateEvents","_fetchEvents","organizations","_renderEvents","listContainer","skeletonList","_renderEventItem","logo","_renderImage","_renderDateBadge","_renderName","_renderDate","_renderVenue","_renderSummary","html","start","local","date","Intl","DateTimeFormat","toLocaleDateString","weekday","toLocaleTimeString","timeZone","timezone","venue","summary","enableCartAjax","ajaxEnabled","handleTimeout","ShippingEstimator","productSelect","countrySelector","provinceSelector","provinceWrapper","zipInput","modal","wash","trigger","estimate","successMessage","cartCookie","firstCountryOptions","country_placeholder","_checkForProvince","_estimateShipping","getCookie","cookie","pop","updateCartCookie","setTime","expires","toGMTString","resetCartCookie","provinces","curr","tempCookieValue","fakeCookieValue","addData","countryQuery","provinceQuery","zipQuery","shipping","shipping_rates","rate","rateElement","insertAdjacentHTML","noRate","no_shipping_rates","errorElement","getRates","wrapIframes","wrapTables","Ajaxinate","pagination","loadingText","addScrollListeners","addClickListener","checkIfPaginationInView","preventMultipleClicks","removeClickListener","removeScrollListener","removePaginationElement","containerElement","paginationElement","initialize","reviewsHandler","enableStickyProductDetails","galleryStyle","mobileGalleryStyle","productThumbs","complementaryProducts","productItems","carousels","recommendationsType","layout","maxRecommendations","initSlider","recommendations","handleRecommendedProducts","SPRCallbacks","onReviewsLoad","sprForm","wrappingContainer","newReviewButton","reviewsCaption","emptyStars","formListener","clonedForm","review","narrow","addNewButton","onFormFailure","onFormSuccess","shippingEstimatorButtons","shippingEstimator","productDescriptionWrapper","AnimateProduct","revealsLeft","detailsLeft","thumb","thumbnailId","getUrlWithVariant","history","replaceState","nextPageLinkElement","clickActive","nextPageUrl","loadMore","onreadystatechange","htmlDoc","responseText","newContainer","newPagination","responseXML","FILTERS_REMOVE","RANGE_REMOVE","FILTERS_UPDATE","updateFilters","filtersUpdated","everythingCleared","rangeRemoved","filtering","forms","formData","searchParams","setParams","FormData","URLSearchParams","targetInput","syncForms","removeFilters","uncheckFilters","removeRange","clearAll","filterHandler","partial","renderCB","subscriptions","filters","isValidFormatter","isValidPartialFormatter","removeElement","isSet","unique","array","orientation","pageOffset","getPageOffset","clientTop","clientLeft","isNumeric","isFinite","addClassFor","asArray","countDecimals","numStr","pieces","String","supportPageOffset","isCSS1Compat","compatMode","getActions","pointerEnabled","move","end","msPointerEnabled","getSupportsPassive","supportsPassive","getSupportsTouchActionNone","supports","subRangeRatio","pa","pb","fromPercentage","range","startRange","toPercentage","isPercentage","getJ","toStepping","xVal","xPct","va","vb","fromStepping","getStep","xSteps","snap","PipsType","PipsMode","Spectrum","singleStep","xNumSteps","xHighestCompleteStep","ordered","handleEntryPoint","handleStepPoint","getDistance","distances","getAbsoluteDistance","direction","start_factor","xPct_index","rest_factor","rest_rel_distance","range_pct","rel_range_distance","abs_distance_counter","range_counter","getDefaultStep","isDown","getNearbySteps","stepBefore","startValue","step","highestStep","thisStep","stepAfter","countStepDecimals","stepDecimals","hasNoSize","convert","percentage","value1","totalSteps","ceil","defaultFormatter","cssClasses","origin","handleLower","handleUpper","touchArea","horizontal","vertical","background","connect","connects","ltr","rtl","textDirectionLtr","textDirectionRtl","drag","tap","tooltip","pips","pipsHorizontal","pipsVertical","marker","markerHorizontal","markerVertical","markerNormal","markerLarge","markerSub","valueHorizontal","valueVertical","valueNormal","valueLarge","valueSub","INTERNAL_EVENT_NS","tooltips","aria","testStep","parsed","testKeyboardPageMultiplier","keyboardPageMultiplier","testKeyboardMultiplier","keyboardMultiplier","testKeyboardDefaultStep","keyboardDefaultStep","testRange","spectrum","testStart","handles","testSnap","testAnimate","animate","testAnimationDuration","animationDuration","testConnect","testOrientation","ort","testMargin","testLimit","testPadding","padding","totalPadding","firstValue","testDirection","dir","testBehaviour","fixed","hover","unconstrained","dragAll","smoothSteps","testTooltips","formatter","testHandleAttributes","handleAttributes","testAriaFormat","ariaFormat","testFormat","testKeyboardSupport","keyboardSupport","testDocumentElement","testCssPrefix","cssPrefix","testCssClasses","testOptions","tests","behaviour","msPrefix","msTransform","noPrefix","transformRule","originalOptions","scope_Base","scope_Handles","scope_Connects","scope_Pips","scope_Tooltips","actions","scope_Target","scope_Spectrum","scope_Values","scope_Locations","scope_HandleNumbers","scope_ActiveHandlesCount","scope_Events","scope_Document","scope_DocumentElement","scope_Body","scope_DirOffset","addNodeTo","addTarget","div","addOrigin","handleNumber","eventKeydown","attributes_1","attribute","addConnect","addElements","connectOptions","connectBase","addSlider","addTooltip","firstChild","isSliderDisabled","isHandleDisabled","removeTooltips","removeEvent","bindEvent","unencoded","formattedValue","checkHandlePosition","getGroup","mode","Range","Steps","Count","interval","spread","mapToRange","stepped","Positions","Values","generateSpread","safeIncrement","increment","indexes","firstInRange","lastInRange","ignoreFirst","ignoreLast","prevPct","current","q","newPct","pctDifference","pctPos","steps","realSteps","stepSize","low","high","isSteps","density","LargeValue","SmallValue","NoValue","addMarking","filterFunc","valueSizeClasses","None","markerSizeClasses","valueOrientationClasses","markerOrientationClasses","getClasses","sizeClasses","addSpread","removePips","baseSize","attachEvent","fixEvent","doNotReject","calcPoint","points","methods","eventTarget","touch","mouse","pointer","isTouchOnTarget","checkTouch","composed","pageX","pageY","targetTouch","changedTouches","cursor","calcPointToPercentage","proposal","getClosestHandle","clickedPosition","smallestDifference","handlePosition","differenceWithThisHandle","documentLeave","eventEnd","eventMove","appVersion","buttonsProperty","movement","startCalcPoint","moveHandles","locations","handleNumbers","setZindex","setHandle","fireEvent","eventStart","moveEvent","endEvent","outEvent","eventTap","eventHover","targetEvent","scope_Self","horizontalKeys","verticalKeys","largeStepKeys","edgeKeys","isLargeDown","isLargeUp","isUp","isMin","isMax","getNextStepsForHandle","bindSliderEvents","handleBefore","handleAfter","eventHolders","handlesToDrag","handleNumbersToDrag","eventHolder","namespacedEvent","isInternalNamespace","namespace","substring","tEvent","tNamespace","reference","lookBackward","lookForward","getValue","inRuleOrder","v","upward","proposals","firstHandle","transformDirection","updateHandlePosition","translateRule","updateConnect","exactInput","connectWidth","scaleRule","resolveToValue","valueSet","fireSetEvent","isInit","space_1","valueReset","valueSetHandle","valueGet","noUiSlider","nearbySteps","decrement","getNextSteps","updateOptions","optionsToUpdate","updateAble","newOptions","setupSlider","__moveHandles","getPositions","getTooltips","getOrigins","api","nouislider","__spectrum","filterDrawer","flyouts","flyoutContainer","sortMethods","rangeInputs","rangeContainer","inputs","minInput","maxInput","adjustToValidValues","setMinAndMaxValues","currentMax","currentMin","fireChangeEvent","bubbles","validateRange","priceRange","filterTarget","checkForActiveModalitems","containsCheckedInputs","clickWash","filterModal","panel","rangeInputsHaveValue","activeItems","mobiletrigger","mobileFilters","flyout","hasValue","infiniteScroll","collectionItemCount","paginationType","filterForm","_renderView","paginated","infiniteScrollTrigger","_initInfiniteScroll","productItem","AnimateCollection","_initializeItems","resetItems","updateItems","infiniteScrollOptions","pathname","_updateURLHash","contents","pushState","toggles","loginError","isSuccess","toggleView","toggleClick","modals","overlays","countryOptions","openModal","closeModal","removeAddress","formId","containerSelector","CountryProvinceSelector","addressModal","confirmMessage","confirm","postLink","parameters","_method","AnimateArticle","toggleButton","textToggle","socialButton","searchInput","searchParamsInitial","searchParamsPrev","AnimateSearch","updateHash","buttonHandler","AnimateBlog","loadSections","SelectedProductSection","pageTransitionOverlay","ctrlKey","metaKey","linkHint","onpageshow","pageTransition","tabHandler","formElments","handleFirstTab","handleMouseDownOnce","handleTab","adjustClasses","sectionClasses","productContent","quickAdd","quantityEl","xhr","_openModal","_addToCart","quickAddModalElement","_renderProductContent","productElement","quickAddModal","_renderModalContent","clonedContent","_initAccordion","productCard","storeListContainer","_renderProductCard","_renderAvailabilityList","_getVariantImage","variantImage","_updateImageSize","imageUrl","storeAvailabilityDrawer","SHA"],"mappings":"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"}